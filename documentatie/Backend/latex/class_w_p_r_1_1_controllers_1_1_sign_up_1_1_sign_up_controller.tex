\doxysection{WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller Class Reference}
\hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller}{}\label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}


\doxylink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller}{Sign\+Up\+Controller} zorgt ervoor dat persoonlijke en zakelijke accounts aangemaakt kunnen worden.  




Inheritance diagram for WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=220pt]{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller__inherit__graph}
\end{center}
\end{figure}


Collaboration diagram for WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller__coll__graph}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_ad73279f8056baa50a8b9d7ad8999fed2}{Sign\+Up\+Controller}} (\mbox{\hyperlink{class_w_p_r_1_1_database_1_1_connector}{Connector}} connector, \mbox{\hyperlink{interface_w_p_r_1_1_repository_1_1_i_user_repository}{IUser\+Repository}} user\+Repository, \mbox{\hyperlink{class_w_p_r_1_1_data_1_1_env_config}{Env\+Config}} env\+Config, \mbox{\hyperlink{class_w_p_r_1_1_hashing_1_1_hash}{Hash}} hash, \mbox{\hyperlink{class_w_p_r_1_1_services_1_1_email_service}{Email\+Service}} email\+Service)
\item 
async Task$<$ IAction\+Result $>$ \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a78865896515c1c12ad9e08c7f2dd5220}{sign\+Up\+Personal\+Async}} (\mbox{[}From\+Body\mbox{]} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_request}{Sign\+Up\+Request}} sign\+Up\+Request)
\begin{DoxyCompactList}\small\item\em Een account voor particuliere gebruikers kan aangemaakt worden (onderscheiden door geboortedatum) \end{DoxyCompactList}\item 
async Task$<$ IAction\+Result $>$ \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_ab7084fa7e9719398e37f48c24cf301b5}{sign\+Up\+Employee\+Async}} (\mbox{[}From\+Body\mbox{]} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_request}{Sign\+Up\+Request}} sign\+Up\+Request)
\begin{DoxyCompactList}\small\item\em Een account voor zakelijke gebruikers kan aangemaakt worden (onderscheiden door Kv\+K-\/nummer) \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
bool \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a26f172ac90a38512ee5b1863f405649a}{Is\+Filled\+In}} (\mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_request}{Sign\+Up\+Request}} sign\+Up\+Request)
\begin{DoxyCompactList}\small\item\em Er wordt gekeken of alle noodzakelijke velden voor het aanmaken van een account ingevuld zijn. \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
readonly \mbox{\hyperlink{class_w_p_r_1_1_database_1_1_connector}{Connector}} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_afc05cc2579ded1ada773ed2e21350aa1}{\+\_\+connector}}
\item 
readonly \mbox{\hyperlink{interface_w_p_r_1_1_repository_1_1_i_user_repository}{IUser\+Repository}} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a984d34e65a16edbb1b1f5356e856f3cd}{\+\_\+user\+Repository}}
\item 
readonly \mbox{\hyperlink{class_w_p_r_1_1_data_1_1_env_config}{Env\+Config}} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_af1b0d02dc593a08292e221fde58142ef}{\+\_\+env\+Config}}
\item 
readonly \mbox{\hyperlink{class_w_p_r_1_1_hashing_1_1_hash}{Hash}} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a0d25d7a98e5cab10fe7e1fa4c826b112}{\+\_\+hash}}
\item 
readonly \mbox{\hyperlink{class_w_p_r_1_1_services_1_1_email_service}{Email\+Service}} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a242408fdc7b8a24e7d9d2fe42d025772}{\+\_\+email\+Service}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\doxylink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller}{Sign\+Up\+Controller} zorgt ervoor dat persoonlijke en zakelijke accounts aangemaakt kunnen worden. 

Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00019}{19}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.



\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_ad73279f8056baa50a8b9d7ad8999fed2}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!SignUpController@{SignUpController}}
\index{SignUpController@{SignUpController}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{SignUpController()}{SignUpController()}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_ad73279f8056baa50a8b9d7ad8999fed2} 
WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+Sign\+Up\+Controller (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_w_p_r_1_1_database_1_1_connector}{Connector}}}]{connector}{, }\item[{\mbox{\hyperlink{interface_w_p_r_1_1_repository_1_1_i_user_repository}{IUser\+Repository}}}]{user\+Repository}{, }\item[{\mbox{\hyperlink{class_w_p_r_1_1_data_1_1_env_config}{Env\+Config}}}]{env\+Config}{, }\item[{\mbox{\hyperlink{class_w_p_r_1_1_hashing_1_1_hash}{Hash}}}]{hash}{, }\item[{\mbox{\hyperlink{class_w_p_r_1_1_services_1_1_email_service}{Email\+Service}}}]{email\+Service}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00027}{27}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00028\ \ \ \ \ \{}
\DoxyCodeLine{00029\ \ \ \ \ \ \ \ \ \_connector\ =\ connector\ ??\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(nameof(connector));}
\DoxyCodeLine{00030\ \ \ \ \ \ \ \ \ \_userRepository\ =\ userRepository\ ??\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(nameof(userRepository));}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \_envConfig\ =\ envConfig\ ??\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(nameof(envConfig));}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \_hash\ =\ hash\ ??\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(nameof(hash));}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \_emailService\ =\ emailService\ ??\ \textcolor{keywordflow}{throw}\ \textcolor{keyword}{new}\ ArgumentNullException(nameof(emailService));}
\DoxyCodeLine{00034\ \ \ \ \ \}}

\end{DoxyCode}


References \mbox{\hyperlink{sign_up_controller_8cs_source_l00021}{\+\_\+connector}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00025}{\+\_\+email\+Service}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00023}{\+\_\+env\+Config}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00024}{\+\_\+hash}}, and \mbox{\hyperlink{sign_up_controller_8cs_source_l00022}{\+\_\+user\+Repository}}.



\doxysubsection{Member Function Documentation}
\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a26f172ac90a38512ee5b1863f405649a}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!IsFilledIn@{IsFilledIn}}
\index{IsFilledIn@{IsFilledIn}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{IsFilledIn()}{IsFilledIn()}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a26f172ac90a38512ee5b1863f405649a} 
bool WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+Is\+Filled\+In (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_request}{Sign\+Up\+Request}}}]{sign\+Up\+Request}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Er wordt gekeken of alle noodzakelijke velden voor het aanmaken van een account ingevuld zijn. 


\begin{DoxyParams}{Parameters}
{\em sign\+Up\+Request} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00041}{41}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00042\ \ \ \ \ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ }
\DoxyCodeLine{00044\ \ \ \ \ \ \ \ \ !(signUpRequest\ ==\ \textcolor{keyword}{null}}
\DoxyCodeLine{00045\ \ \ \ \ \ \ \ \ ||\ \textcolor{keywordtype}{string}.IsNullOrEmpty(signUpRequest.Email)}
\DoxyCodeLine{00046\ \ \ \ \ \ \ \ \ ||\ \textcolor{keywordtype}{string}.IsNullOrEmpty(signUpRequest.Password)}
\DoxyCodeLine{00047\ \ \ \ \ \ \ \ \ ||\ \textcolor{keywordtype}{string}.IsNullOrEmpty(signUpRequest.FirstName)}
\DoxyCodeLine{00048\ \ \ \ \ \ \ \ \ ||\ \textcolor{keywordtype}{string}.IsNullOrEmpty(signUpRequest.LastName)}
\DoxyCodeLine{00049\ \ \ \ \ \ \ \ \ ||\ \textcolor{keywordtype}{string}.IsNullOrEmpty(signUpRequest.TelNumber));}
\DoxyCodeLine{00050\ \ \ \ \ \}}

\end{DoxyCode}


References \mbox{\hyperlink{sign_up_request_8cs_source_l00010}{WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Request.\+Email}}, \mbox{\hyperlink{sign_up_request_8cs_source_l00012}{WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Request.\+First\+Name}}, \mbox{\hyperlink{sign_up_request_8cs_source_l00013}{WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Request.\+Last\+Name}}, \mbox{\hyperlink{sign_up_request_8cs_source_l00011}{WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Request.\+Password}}, and \mbox{\hyperlink{sign_up_request_8cs_source_l00014}{WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Request.\+Tel\+Number}}.



Referenced by \mbox{\hyperlink{sign_up_controller_8cs_source_l00183}{sign\+Up\+Employee\+Async()}}, and \mbox{\hyperlink{sign_up_controller_8cs_source_l00059}{sign\+Up\+Personal\+Async()}}.

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a26f172ac90a38512ee5b1863f405649a_icgraph}
\end{center}
\end{figure}
\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_ab7084fa7e9719398e37f48c24cf301b5}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!signUpEmployeeAsync@{signUpEmployeeAsync}}
\index{signUpEmployeeAsync@{signUpEmployeeAsync}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{signUpEmployeeAsync()}{signUpEmployeeAsync()}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_ab7084fa7e9719398e37f48c24cf301b5} 
async Task$<$ IAction\+Result $>$ WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+sign\+Up\+Employee\+Async (\begin{DoxyParamCaption}\item[{\mbox{[}\+From\+Body\mbox{]} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_request}{Sign\+Up\+Request}}}]{sign\+Up\+Request}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Een account voor zakelijke gebruikers kan aangemaakt worden (onderscheiden door Kv\+K-\/nummer) 


\begin{DoxyParams}{Parameters}
{\em sign\+Up\+Request} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00183}{183}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00184\ \ \ \ \ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ var\ connection\ =\ \_connector.CreateDbConnection();}
\DoxyCodeLine{00186\ \ \ \ \ \ \ \ \ var\ emailCheck\ =\ \_userRepository.checkUsageEmailAsync(signUpRequest.Email);}
\DoxyCodeLine{00187\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ commit\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using}\ (var\ transaction\ =\ connection.BeginTransaction())}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ alle\ velden\ zijn\ ingevuld}}
\DoxyCodeLine{00194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ filledIn\ =\ IsFilledIn(signUpRequest);}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!filledIn\ )}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Not\ all\ elements\ are\ filled\ in"{}}\ \});}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ het\ opgegeven\ emailadress\ valid\ is}}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!EmailChecker.IsValidEmail(signUpRequest.Email))}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Invalid\ email\ format"{}}\ \});}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ er\ wordt\ gekeken\ of\ het\ opgegevens\ KvK\ nummer\ in\ de\ DataBase\ staat}}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ kvkChecker\ =\ \textcolor{keyword}{new}\ KvkChecker(\_userRepository);}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ (isValidKvk,\ kvkErrorMessage)\ =\ await\ kvkChecker.IsKvkNumberValid(signUpRequest.KvK);}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!isValidKvk)}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ kvkErrorMessage\ \});}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ het\ wachtwoord\ bestaat\ uit\ minstens\ 10\ karakters,\ 1\ hoofdletter,\ 1\ kleine\ letter,\ 1\ cijfer\ en\ 1\ speciaal\ teken}}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ (isPasswordValid,\ passwordError)\ =\ PasswordChecker.IsValidPassword(signUpRequest.Password);}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!isPasswordValid)}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ passwordError\ \});}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ emailStatus\ =\ await\ emailCheck;}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ er\ een\ geldig\ 06-\/nummer\ is\ opgegeven}}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!TelChecker.IsValidPhoneNumber(signUpRequest.TelNumber))}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Invalid\ phone\ number"{}}\ \});}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00228\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (emailStatus.status)}
\DoxyCodeLine{00229\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction.Rollback();}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ commit\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\ \textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Email\ already\ exists"{}}\}\ );}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Als\ alle\ velden\ zijn\ ingevuld\ en\ het\ KvK\ nummer\ is\ niet\ leeg,\ dan\ wordt\ er\ een\ nieuwe\ customer\ aangemaakt}}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (filledIn\ \&\&\ signUpRequest.KvK\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00238\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ in\ de\ table\ UserCustomer\ een\ gebruiker\ aangemaakt}}
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ customer\ =\ await\ \_userRepository.addCustomerAsync(\textcolor{keyword}{new}\ \textcolor{keywordtype}{object}[]\ }
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.Adres,}
\DoxyCodeLine{00242\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.TelNumber,}
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_hash.createHash(signUpRequest.Password),}
\DoxyCodeLine{00244\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.Email,}
\DoxyCodeLine{00245\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.FirstName,}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.LastName}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ aan\ de\ nieuw\ aangemaakt\ customer\ het\ opgegeven\ KvK\ nummer\ gekoppeld\ in\ de\ tabel\ UserEmployee}}
\DoxyCodeLine{00250\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ employee\ =\ await\ \_userRepository.addEmployeeCustomerAsync(\textcolor{keyword}{new}\ \textcolor{keywordtype}{object}[]\ }
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ customer.newUserID,}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.KvK}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00255\ }
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Als\ het\ opslaan\ van\ de\ medewerker\ mislukt\ wordt\ te\ transactie\ gerollbacked}}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!employee.status)}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00259\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction.Rollback();}
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ commit\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ employee.status\ \});}
\DoxyCodeLine{00263\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ een\ welkomsemail\ verstuurd}}
\DoxyCodeLine{00266\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ \_emailService.SendWelcomeEmail(signUpRequest.Email);}
\DoxyCodeLine{00267\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok(\textcolor{keyword}{new}\ \{\ employee.status\ \});}
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00271\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Something\ went\ wrong\ (Nothing\ mathced)"{}}\ \});}
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00273\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00274\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (Exception\ ex)}
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00276\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction.Rollback();}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ commit\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ StatusCode(500,\ \textcolor{keyword}{new}}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\ =\ ex.Message,}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ details\ =\ ex.Message,}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stackTrace\ =\ ex.StackTrace\ }
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{finally}}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (commit)}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction.Commit();}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ \}\ \ \ \ }
\DoxyCodeLine{00294\ \ \ \ \ \}}

\end{DoxyCode}


References \mbox{\hyperlink{sign_up_controller_8cs_source_l00021}{\+\_\+connector}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00025}{\+\_\+email\+Service}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00024}{\+\_\+hash}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00022}{\+\_\+user\+Repository}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00041}{Is\+Filled\+In()}}, \mbox{\hyperlink{_email_checker_8cs_source_l00010}{WPR.\+Utils.\+Email\+Checker.\+Is\+Valid\+Email()}}, \mbox{\hyperlink{_password_checker_8cs_source_l00011}{WPR.\+Utils.\+Password\+Checker.\+Is\+Valid\+Password()}}, and \mbox{\hyperlink{_tel_checker_8cs_source_l00009}{WPR.\+Utils.\+Tel\+Checker.\+Is\+Valid\+Phone\+Number()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_ab7084fa7e9719398e37f48c24cf301b5_cgraph}
\end{center}
\end{figure}
\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a78865896515c1c12ad9e08c7f2dd5220}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!signUpPersonalAsync@{signUpPersonalAsync}}
\index{signUpPersonalAsync@{signUpPersonalAsync}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{signUpPersonalAsync()}{signUpPersonalAsync()}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a78865896515c1c12ad9e08c7f2dd5220} 
async Task$<$ IAction\+Result $>$ WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+sign\+Up\+Personal\+Async (\begin{DoxyParamCaption}\item[{\mbox{[}\+From\+Body\mbox{]} \mbox{\hyperlink{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_request}{Sign\+Up\+Request}}}]{sign\+Up\+Request}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [inline]}}



Een account voor particuliere gebruikers kan aangemaakt worden (onderscheiden door geboortedatum) 


\begin{DoxyParams}{Parameters}
{\em sign\+Up\+Request} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00059}{59}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{00060\ \ \ \ \ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Het\ emailadres\ wordt\ gecontrolleerd\ of\ het\ emailadres\ al\ bestaat}}
\DoxyCodeLine{00062\ \ \ \ \ \ \ \ \ var\ emailCheck\ =\ \ \_userRepository.checkUsageEmailAsync(signUpRequest.Email);}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ commit\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using}\ (var\ connection\ =\ \_connector.CreateDbConnection())}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \ \ \textcolor{keyword}{using}\ (var\ transaction\ =\ connection.BeginTransaction())}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \ \ \ \ \ \ Console.WriteLine(\$\textcolor{stringliteral}{"{}Received\ BirthDate:\ \{signUpRequest.BirthDate\}"{}});}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \ \ \ \ \ \ Console.WriteLine(\$\textcolor{stringliteral}{"{}\{signUpRequest.Email\}\ |\ \{signUpRequest.Password\}\ |\ \{signUpRequest.FirstName\}\ |\ \{signUpRequest.LastName\}\ |\ \{signUpRequest.TelNumber\}\ \{signUpRequest.Adres\}\ |\ \{signUpRequest.BirthDate\}"{}});}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ alle\ gegevens\ ingevuld\ zijn}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ filledIn\ =\ IsFilledIn(signUpRequest);}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!filledIn)}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Not\ all\ elements\ are\ filled\ in"{}}\ \});}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00079\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ het\ opgegeven\ emailadres\ valid\ is}}
\DoxyCodeLine{00080\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!EmailChecker.IsValidEmail(signUpRequest.Email))}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00082\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Invalid\ email\ format"{}}\ \});}
\DoxyCodeLine{00083\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ er\ een\ geldige\ geboorte\ datum\ ingevuld\ is\ (niet\ groter\ dan\ 120)}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!BirthdayChecker.IsValidBirthday(signUpRequest.BirthDate))}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Invalid\ birthday\ format"{}}\ \});}
\DoxyCodeLine{00089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ het\ ingevoerde\ telefoonnummer\ een\ geldig\ nederlands\ nummer\ is}}
\DoxyCodeLine{00092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!TelChecker.IsValidPhoneNumber(signUpRequest.TelNumber))}
\DoxyCodeLine{00093\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Invalid\ phone\ number"{}}\ \});}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00096\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ gekeken\ of\ het\ wachtwoord\ bestaat\ uit\ minstens\ 10\ karakters,\ 1\ hoofdletter,\ 1\ kleine\ letter,\ 1\ cijfer\ en\ 1\ speciaal\ teken}}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ (isPasswordValid,\ passwordError)\ =\ PasswordChecker.IsValidPassword(signUpRequest.Password);}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ emailStatus\ =\ await\ emailCheck;}
\DoxyCodeLine{00100\ }
\DoxyCodeLine{00101\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!isPasswordValid)}
\DoxyCodeLine{00102\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00103\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ passwordError\ \});}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Als\ het\ emailadres\ al\ bestaat\ worden\ de\ gegevens\ gerollbacked}}
\DoxyCodeLine{00107\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (emailStatus.status)}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00109\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction.Rollback();}
\DoxyCodeLine{00110\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ commit\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00111\ }
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\ \textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Email\ already\ exists"{}}\}\ );}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Als\ alle\ velden\ zijn\ ingevuld\ en\ de\ geboorte\ datum\ is\ ingevuld,\ wordt\ er\ een\ nieuwe\ customer\ aangemaakt}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (filledIn\ \&\&\ signUpRequest.BirthDate\ !=\ \textcolor{keyword}{null})}
\DoxyCodeLine{00117\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ een\ nieuwe\ gebruiker\ aangemaakt\ in\ de\ tabel\ UserCustomer}}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ customer\ =\ await\ \_userRepository.addCustomerAsync(\textcolor{keyword}{new}\ \textcolor{keywordtype}{object}[]\ }
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.Adres,}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.TelNumber,}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_hash.createHash(signUpRequest.Password),}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.Email,}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.FirstName,}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.LastName}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ aan\ de\ nieuwe\ customer\ het\ opgegeven\ geboortedatum\ gekoppeld\ in\ de\ tabel\ UserPersonal}}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ var\ personal\ =\ await\ \_userRepository.addPersonalCustomerAsync(\textcolor{keyword}{new}\ \textcolor{keywordtype}{object}[]\ }
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ customer.newUserID,\ }
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ signUpRequest.BirthDate}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Als\ het\ koppelen\ mislukt\ wordt\ de\ transactie\ geroldbacked}}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!personal.status)}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction.Rollback();}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ commit\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ personal.message\ \});}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Er\ wordt\ een\ welkomsemail\ verstuurd}}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ await\ \_emailService.SendWelcomeEmail(signUpRequest.Email);}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ Ok(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Account\ created\ successfully.\ Please\ check\ your\ email\ to\ confirm\ your\ account"{}}\ \});}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ BadRequest(\textcolor{keyword}{new}\ \{\ message\ =\ \textcolor{stringliteral}{"{}Something\ went\ wrong\ (Nothing\ matched)"{}}\ \});}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00154\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{catch}\ (Exception\ ex)}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction.Rollback();}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ commit\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ StatusCode(500,\ \textcolor{keyword}{new}}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ message\ =\ ex.Message,}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ details\ =\ ex.Message,}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ stackTrace\ =\ ex.StackTrace\ }
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{finally}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (commit)}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ transaction.Commit();}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00175\ \ \ \ \ \}}

\end{DoxyCode}


References \mbox{\hyperlink{sign_up_controller_8cs_source_l00021}{\+\_\+connector}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00025}{\+\_\+email\+Service}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00024}{\+\_\+hash}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00022}{\+\_\+user\+Repository}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00041}{Is\+Filled\+In()}}, \mbox{\hyperlink{_birthday_checker_8cs_source_l00011}{WPR.\+Utils.\+Birthday\+Checker.\+Is\+Valid\+Birthday()}}, \mbox{\hyperlink{_email_checker_8cs_source_l00010}{WPR.\+Utils.\+Email\+Checker.\+Is\+Valid\+Email()}}, \mbox{\hyperlink{_password_checker_8cs_source_l00011}{WPR.\+Utils.\+Password\+Checker.\+Is\+Valid\+Password()}}, and \mbox{\hyperlink{_tel_checker_8cs_source_l00009}{WPR.\+Utils.\+Tel\+Checker.\+Is\+Valid\+Phone\+Number()}}.

Here is the call graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a78865896515c1c12ad9e08c7f2dd5220_cgraph}
\end{center}
\end{figure}


\doxysubsection{Field Documentation}
\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_afc05cc2579ded1ada773ed2e21350aa1}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!\_connector@{\_connector}}
\index{\_connector@{\_connector}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{\_connector}{\_connector}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_afc05cc2579ded1ada773ed2e21350aa1} 
readonly \mbox{\hyperlink{class_w_p_r_1_1_database_1_1_connector}{Connector}} WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+\_\+connector\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00021}{21}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.



Referenced by \mbox{\hyperlink{sign_up_controller_8cs_source_l00027}{Sign\+Up\+Controller()}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00183}{sign\+Up\+Employee\+Async()}}, and \mbox{\hyperlink{sign_up_controller_8cs_source_l00059}{sign\+Up\+Personal\+Async()}}.

\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a242408fdc7b8a24e7d9d2fe42d025772}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!\_emailService@{\_emailService}}
\index{\_emailService@{\_emailService}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{\_emailService}{\_emailService}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a242408fdc7b8a24e7d9d2fe42d025772} 
readonly \mbox{\hyperlink{class_w_p_r_1_1_services_1_1_email_service}{Email\+Service}} WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+\_\+email\+Service\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00025}{25}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.



Referenced by \mbox{\hyperlink{sign_up_controller_8cs_source_l00027}{Sign\+Up\+Controller()}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00183}{sign\+Up\+Employee\+Async()}}, and \mbox{\hyperlink{sign_up_controller_8cs_source_l00059}{sign\+Up\+Personal\+Async()}}.

\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_af1b0d02dc593a08292e221fde58142ef}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!\_envConfig@{\_envConfig}}
\index{\_envConfig@{\_envConfig}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{\_envConfig}{\_envConfig}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_af1b0d02dc593a08292e221fde58142ef} 
readonly \mbox{\hyperlink{class_w_p_r_1_1_data_1_1_env_config}{Env\+Config}} WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+\_\+env\+Config\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00023}{23}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.



Referenced by \mbox{\hyperlink{sign_up_controller_8cs_source_l00027}{Sign\+Up\+Controller()}}.

\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a0d25d7a98e5cab10fe7e1fa4c826b112}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!\_hash@{\_hash}}
\index{\_hash@{\_hash}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{\_hash}{\_hash}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a0d25d7a98e5cab10fe7e1fa4c826b112} 
readonly \mbox{\hyperlink{class_w_p_r_1_1_hashing_1_1_hash}{Hash}} WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+\_\+hash\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00024}{24}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.



Referenced by \mbox{\hyperlink{sign_up_controller_8cs_source_l00027}{Sign\+Up\+Controller()}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00183}{sign\+Up\+Employee\+Async()}}, and \mbox{\hyperlink{sign_up_controller_8cs_source_l00059}{sign\+Up\+Personal\+Async()}}.

\Hypertarget{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a984d34e65a16edbb1b1f5356e856f3cd}\index{WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}!\_userRepository@{\_userRepository}}
\index{\_userRepository@{\_userRepository}!WPR.Controllers.SignUp.SignUpController@{WPR.Controllers.SignUp.SignUpController}}
\doxysubsubsection{\texorpdfstring{\_userRepository}{\_userRepository}}
{\footnotesize\ttfamily \label{class_w_p_r_1_1_controllers_1_1_sign_up_1_1_sign_up_controller_a984d34e65a16edbb1b1f5356e856f3cd} 
readonly \mbox{\hyperlink{interface_w_p_r_1_1_repository_1_1_i_user_repository}{IUser\+Repository}} WPR.\+Controllers.\+Sign\+Up.\+Sign\+Up\+Controller.\+\_\+user\+Repository\hspace{0.3cm}{\ttfamily [private]}}



Definition at line \mbox{\hyperlink{sign_up_controller_8cs_source_l00022}{22}} of file \mbox{\hyperlink{sign_up_controller_8cs_source}{sign\+Up\+Controller.\+cs}}.



Referenced by \mbox{\hyperlink{sign_up_controller_8cs_source_l00027}{Sign\+Up\+Controller()}}, \mbox{\hyperlink{sign_up_controller_8cs_source_l00183}{sign\+Up\+Employee\+Async()}}, and \mbox{\hyperlink{sign_up_controller_8cs_source_l00059}{sign\+Up\+Personal\+Async()}}.



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
D\+:/codes/\+WPR/backend/src/\+Controllers/sign\+Up/\mbox{\hyperlink{sign_up_controller_8cs}{sign\+Up\+Controller.\+cs}}\end{DoxyCompactItemize}
