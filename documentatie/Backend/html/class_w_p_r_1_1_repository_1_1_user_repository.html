<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WPR-Backend: WPR.Repository.UserRepository Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WPR-Backend
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_w_p_r_1_1_repository_1_1_user_repository.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle"><div class="title">WPR.Repository.UserRepository Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>De <a class="el" href="class_w_p_r_1_1_repository_1_1_user_repository.html" title="De UserRepository class geeft de methodes voor de interactie met de database voor gebruiker gerelatee...">UserRepository</a> class geeft de methodes voor de interactie met de database voor gebruiker gerelateerde operaties. Het implementeert de <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html" title="Interface defining methods voor user gerelateerde database operaties, validatie, user management,...">IUserRepository</a> interface.  
 <a href="#details">More...</a></p>
<div class="dynheader">
Inheritance diagram for WPR.Repository.UserRepository:</div>
<div class="dyncontent">
<div class="center"><img src="class_w_p_r_1_1_repository_1_1_user_repository__inherit__graph.png" border="0" usemap="#a_w_p_r_8_repository_8_user_repository_inherit__map" alt="Inheritance graph"/></div>
<map name="a_w_p_r_8_repository_8_user_repository_inherit__map" id="a_w_p_r_8_repository_8_user_repository_inherit__map">
<area shape="rect" title="De UserRepository class geeft de methodes voor de interactie met de database voor gebruiker gerelatee..." alt="" coords="5,357,210,768"/>
<area shape="rect" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html" title="Interface defining methods voor user gerelateerde database operaties, validatie, user management,..." alt="" coords="5,5,210,309"/>
<area shape="poly" title=" " alt="" coords="110,324,110,357,105,357,105,324"/>
</map>
</div>
<div class="dynheader">
Collaboration diagram for WPR.Repository.UserRepository:</div>
<div class="dyncontent">
<div class="center"><img src="class_w_p_r_1_1_repository_1_1_user_repository__coll__graph.png" border="0" usemap="#a_w_p_r_8_repository_8_user_repository_coll__map" alt="Collaboration graph"/></div>
<map name="a_w_p_r_8_repository_8_user_repository_coll__map" id="a_w_p_r_8_repository_8_user_repository_coll__map">
<area shape="rect" title="De UserRepository class geeft de methodes voor de interactie met de database voor gebruiker gerelatee..." alt="" coords="301,635,506,1003"/>
<area shape="rect" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html" title="Interface defining methods voor user gerelateerde database operaties, validatie, user management,..." alt="" coords="5,267,210,571"/>
<area shape="poly" title=" " alt="" coords="221,568,304,678,299,682,217,571"/>
<area shape="rect" href="class_w_p_r_1_1_database_1_1_connector.html" title=" " alt="" coords="234,373,400,464"/>
<area shape="poly" title=" " alt="" coords="328,463,357,610,359,618,354,619,352,611,323,464"/>
<area shape="rect" href="interface_w_p_r_1_1_database_1_1_i_connector.html" title="Connector class om verbinding te maken met de database, maakt gebruik van de connectie strings die zi..." alt="" coords="240,69,394,139"/>
<area shape="poly" title=" " alt="" coords="320,153,320,374,314,374,314,153"/>
<area shape="rect" href="class_w_p_r_1_1_data_1_1_env_config.html" title="Leez het .env bestand uit waarin de connectie strings staan naar de database. Deze staan in een apart..." alt="" coords="419,5,560,203"/>
<area shape="poly" title=" " alt="" coords="426,204,412,228,346,359,341,357,407,225,422,201"/>
<area shape="rect" href="class_w_p_r_1_1_cryption_1_1_crypt.html" title="Class Crypt zorgt voor een veilig encryptie en decryptie van strings. De Crptie wordt gedaan door het..." alt="" coords="425,352,556,485"/>
<area shape="poly" title=" " alt="" coords="492,202,493,336,487,336,487,202"/>
<area shape="rect" href="class_w_p_r_1_1_hashing_1_1_hash.html" title="Class Hash zorgt ervoor dat wachtwoorden op een veilige manier worden gehashed doormiddel van het HMA..." alt="" coords="580,363,710,475"/>
<area shape="poly" title=" " alt="" coords="621,476,570,572,518,656,513,653,566,569,617,473"/>
<area shape="poly" title=" " alt="" coords="479,486,450,619,445,617,474,485"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5ad793b7ddf7cb678bc9e64d403ba53a" id="r_a5ad793b7ddf7cb678bc9e64d403ba53a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5ad793b7ddf7cb678bc9e64d403ba53a">UserRepository</a> (<a class="el" href="class_w_p_r_1_1_database_1_1_connector.html">Connector</a> connector, <a class="el" href="class_w_p_r_1_1_hashing_1_1_hash.html">Hash</a> hash, <a class="el" href="class_w_p_r_1_1_cryption_1_1_crypt.html">Crypt</a> crypt)</td></tr>
<tr class="separator:a5ad793b7ddf7cb678bc9e64d403ba53a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb512c98ffbaeb97a9b9f2fdc8994549" id="r_adb512c98ffbaeb97a9b9f2fdc8994549"><td class="memItemLeft" align="right" valign="top">async Task&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb512c98ffbaeb97a9b9f2fdc8994549">ValidateUserAsync</a> (string username, string password, string userType)</td></tr>
<tr class="memdesc:adb512c98ffbaeb97a9b9f2fdc8994549"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt door middel van de meegegeven userType een query aangemaakt, om de juiste gegevens uit de juiste tabel op te halen. Vervolgens wordt er in de query het meegegeven emailadress gestopt, om zo het gehaste wachtwoord uit de database te halen Nadat er een gebruiker met wachtwoord uit de query komt, zal dit gehaste wachtwoord vergelek worden met het meegegeven gehaste wachtwoord.  <br /></td></tr>
<tr class="separator:adb512c98ffbaeb97a9b9f2fdc8994549"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7903e03bfe7076a6ee7b352636cb854d" id="r_a7903e03bfe7076a6ee7b352636cb854d"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7903e03bfe7076a6ee7b352636cb854d">checkUsageEmailAsync</a> (string email)</td></tr>
<tr class="memdesc:a7903e03bfe7076a6ee7b352636cb854d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt gekeken of het emailadres al bestaat in de databse.  <br /></td></tr>
<tr class="separator:a7903e03bfe7076a6ee7b352636cb854d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ef5421fcb8544d4aab8ed834325a74" id="r_a42ef5421fcb8544d4aab8ed834325a74"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message, int newUserID)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42ef5421fcb8544d4aab8ed834325a74">addCustomerAsync</a> (Object[] personData)</td></tr>
<tr class="memdesc:a42ef5421fcb8544d4aab8ed834325a74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Een gebruiker (klant) wordt toegevoegd aan de database, doormiddel van alle meegegeven persoondata. Deze persoondata zal vervolgens in de query geïmplementeerd worden en vervolgens worden uitgevoerd.  <br /></td></tr>
<tr class="separator:a42ef5421fcb8544d4aab8ed834325a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a2f860883fcc39ea7fa8a932fde475" id="r_a25a2f860883fcc39ea7fa8a932fde475"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a25a2f860883fcc39ea7fa8a932fde475">addPersonalCustomerAsync</a> (Object[] personalData)</td></tr>
<tr class="memdesc:a25a2f860883fcc39ea7fa8a932fde475"><td class="mdescLeft">&#160;</td><td class="mdescRight">Het aangemaakte account wordt gekoppeld aan de particuliere tabel, doormiddel van alle meegegeven persoondata. Deze persoondata zal vervolgens in de query geïmplementeerd worden en vervolgens worden uitgevoerd.  <br /></td></tr>
<tr class="separator:a25a2f860883fcc39ea7fa8a932fde475"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a281b2d169ce34a240a18b3f106e2f95d" id="r_a281b2d169ce34a240a18b3f106e2f95d"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a281b2d169ce34a240a18b3f106e2f95d">addEmployeeCustomerAsync</a> (Object[] employeeData)</td></tr>
<tr class="memdesc:a281b2d169ce34a240a18b3f106e2f95d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Het aangemaakte account wordt gekoppeld aan de medewerkers tabel, doormiddel van alle meegegeven persoondata. Deze persoondata zal vervolgens in de query geïmplementeerd worden en vervolgens worden uitgevoerd.  <br /></td></tr>
<tr class="separator:a281b2d169ce34a240a18b3f106e2f95d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea5055bbf69f618cfea05d82dba1becb" id="r_aea5055bbf69f618cfea05d82dba1becb"><td class="memItemLeft" align="right" valign="top">async Task&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aea5055bbf69f618cfea05d82dba1becb">GetUserIdAsync</a> (string email, string table)</td></tr>
<tr class="separator:aea5055bbf69f618cfea05d82dba1becb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb618d51bcc50e8f72102e11f6bed987" id="r_acb618d51bcc50e8f72102e11f6bed987"><td class="memItemLeft" align="right" valign="top">async Task&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#acb618d51bcc50e8f72102e11f6bed987">GetUserNameAsync</a> (string userId)</td></tr>
<tr class="separator:acb618d51bcc50e8f72102e11f6bed987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9a5424f00a5cfc023cc147a1e0a59cf" id="r_af9a5424f00a5cfc023cc147a1e0a59cf"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af9a5424f00a5cfc023cc147a1e0a59cf">EditUserInfoAsync</a> (List&lt; object[]&gt; data)</td></tr>
<tr class="separator:af9a5424f00a5cfc023cc147a1e0a59cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49c76e9c3e780a07b7036dd2a6d30263" id="r_a49c76e9c3e780a07b7036dd2a6d30263"><td class="memItemLeft" align="right" valign="top">async Task&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a49c76e9c3e780a07b7036dd2a6d30263">IsKvkNumberAsync</a> (int kvkNumber)</td></tr>
<tr class="separator:a49c76e9c3e780a07b7036dd2a6d30263"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bd5c36ff2c79f375a1b88727134636" id="r_a23bd5c36ff2c79f375a1b88727134636"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23bd5c36ff2c79f375a1b88727134636">DeleteUserAsync</a> (string userId)</td></tr>
<tr class="separator:a23bd5c36ff2c79f375a1b88727134636"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70df464a9677bb005de76ae46290a8ad" id="r_a70df464a9677bb005de76ae46290a8ad"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a70df464a9677bb005de76ae46290a8ad">GetKindEmployeeAsync</a> (string userId)</td></tr>
<tr class="memdesc:a70df464a9677bb005de76ae46290a8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt door de query, doormiddel van de user id, vastgesteld tot wat voor soort office de medewerker van Car and All behoort.  <br /></td></tr>
<tr class="separator:a70df464a9677bb005de76ae46290a8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09794bb8a3181b5be3f2676421dc4b12" id="r_a09794bb8a3181b5be3f2676421dc4b12"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a09794bb8a3181b5be3f2676421dc4b12">AddStaff</a> (Object[] personData)</td></tr>
<tr class="memdesc:a09794bb8a3181b5be3f2676421dc4b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er kunnen medewewerkers van Car and All toegevoegd worden aan de database, door middel van hun gegevens. De database voorziet de gegevens van een automatische id.  <br /></td></tr>
<tr class="separator:a09794bb8a3181b5be3f2676421dc4b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9897bc253b72e7422cca16f676d4e53c" id="r_a9897bc253b72e7422cca16f676d4e53c"><td class="memItemLeft" align="right" valign="top">async Task&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9897bc253b72e7422cca16f676d4e53c">IsUserEmployee</a> (int id)</td></tr>
<tr class="memdesc:a9897bc253b72e7422cca16f676d4e53c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt gekeken door middel van het id of de gebruiker een geldig medewerkers id heeft.  <br /></td></tr>
<tr class="separator:a9897bc253b72e7422cca16f676d4e53c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:af1ae304fd24d3ae358db293b0033e484" id="r_af1ae304fd24d3ae358db293b0033e484"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool goodQuery, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af1ae304fd24d3ae358db293b0033e484">CreateUserInfoQuery</a> (List&lt; object[]&gt; data)</td></tr>
<tr class="memdesc:af1ae304fd24d3ae358db293b0033e484"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt een query aangemaakt, met daarin de meegeven gegevens die veranderd moeten worden in het account van de gebruiker.  <br /></td></tr>
<tr class="separator:af1ae304fd24d3ae358db293b0033e484"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a183c2adefcdd48e81e8341e438662d7c" id="r_a183c2adefcdd48e81e8341e438662d7c"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_w_p_r_1_1_database_1_1_connector.html">Connector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a183c2adefcdd48e81e8341e438662d7c">_connector</a></td></tr>
<tr class="separator:a183c2adefcdd48e81e8341e438662d7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b11b787b41fa41a34ef2515f5eaa6d3" id="r_a1b11b787b41fa41a34ef2515f5eaa6d3"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_w_p_r_1_1_hashing_1_1_hash.html">Hash</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b11b787b41fa41a34ef2515f5eaa6d3">_hash</a></td></tr>
<tr class="separator:a1b11b787b41fa41a34ef2515f5eaa6d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8ad4a8f0e0ab9918ee233a207c2b125" id="r_ac8ad4a8f0e0ab9918ee233a207c2b125"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="class_w_p_r_1_1_cryption_1_1_crypt.html">Crypt</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac8ad4a8f0e0ab9918ee233a207c2b125">_crypt</a></td></tr>
<tr class="separator:ac8ad4a8f0e0ab9918ee233a207c2b125"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>De <a class="el" href="class_w_p_r_1_1_repository_1_1_user_repository.html" title="De UserRepository class geeft de methodes voor de interactie met de database voor gebruiker gerelatee...">UserRepository</a> class geeft de methodes voor de interactie met de database voor gebruiker gerelateerde operaties. Het implementeert de <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html" title="Interface defining methods voor user gerelateerde database operaties, validatie, user management,...">IUserRepository</a> interface. </p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00018">18</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a5ad793b7ddf7cb678bc9e64d403ba53a" name="a5ad793b7ddf7cb678bc9e64d403ba53a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5ad793b7ddf7cb678bc9e64d403ba53a">&#9670;&#160;</a></span>UserRepository()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WPR.Repository.UserRepository.UserRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_w_p_r_1_1_database_1_1_connector.html">Connector</a></td>          <td class="paramname"><span class="paramname"><em>connector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_w_p_r_1_1_hashing_1_1_hash.html">Hash</a></td>          <td class="paramname"><span class="paramname"><em>hash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_w_p_r_1_1_cryption_1_1_crypt.html">Crypt</a></td>          <td class="paramname"><span class="paramname"><em>crypt</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00024">24</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   25</span>    {</div>
<div class="line"><span class="lineno">   26</span>        _connector = connector ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(connector));</div>
<div class="line"><span class="lineno">   27</span>        _hash = hash ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(hash));</div>
<div class="line"><span class="lineno">   28</span>        _crypt = crypt ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(crypt));</div>
<div class="line"><span class="lineno">   29</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>, <a class="el" href="_user_repository_8cs_source.html#l00022">_crypt</a>, and <a class="el" href="_user_repository_8cs_source.html#l00021">_hash</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a42ef5421fcb8544d4aab8ed834325a74" name="a42ef5421fcb8544d4aab8ed834325a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ef5421fcb8544d4aab8ed834325a74">&#9670;&#160;</a></span>addCustomerAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message, int newUserID)&gt; WPR.Repository.UserRepository.addCustomerAsync </td>
          <td>(</td>
          <td class="paramtype">Object[]</td>          <td class="paramname"><span class="paramname"><em>personData</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Een gebruiker (klant) wordt toegevoegd aan de database, doormiddel van alle meegegeven persoondata. Deze persoondata zal vervolgens in de query geïmplementeerd worden en vervolgens worden uitgevoerd. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">personData</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#a0e52cd72018fad6b2fe68da104f5a971">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00168">168</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  169</span>    {</div>
<div class="line"><span class="lineno">  170</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  171</span>        {</div>
<div class="line"><span class="lineno">  172</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;INSERT INTO UserCustomer (Adres, Telnum, Password, Email, FirstName, LastName) values (@A, @T, @P, @E, @F, @L)&quot;</span>;</div>
<div class="line"><span class="lineno">  173</span> </div>
<div class="line"><span class="lineno">  174</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  175</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  176</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  177</span>            {</div>
<div class="line"><span class="lineno">  178</span>                <span class="comment">// Alle parameters worden ingevuld met de megegeven persoons gegevens</span></div>
<div class="line"><span class="lineno">  179</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@A&quot;</span>, personData[0]);</div>
<div class="line"><span class="lineno">  180</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@T&quot;</span>, personData[1]);</div>
<div class="line"><span class="lineno">  181</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@P&quot;</span>, personData[2]);</div>
<div class="line"><span class="lineno">  182</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@E&quot;</span>, personData[3]);</div>
<div class="line"><span class="lineno">  183</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@F&quot;</span>, personData[4]);</div>
<div class="line"><span class="lineno">  184</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@L&quot;</span>, personData[5]);</div>
<div class="line"><span class="lineno">  185</span> </div>
<div class="line"><span class="lineno">  186</span>                <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno">  187</span>                {</div>
<div class="line"><span class="lineno">  188</span>                    <span class="comment">// Als de query succesvol is uitgevoerd wordt de laatste ingevoerde userId meegegeven</span></div>
<div class="line"><span class="lineno">  189</span>                    command.CommandText = <span class="stringliteral">&quot;SELECT LAST_INSERT_ID();&quot;</span>;</div>
<div class="line"><span class="lineno">  190</span>                    <span class="keywordtype">int</span> newUserID = Convert.ToInt32(await command.ExecuteScalarAsync());</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Data Inserted&quot;</span>, newUserID);</div>
<div class="line"><span class="lineno">  193</span>                }</div>
<div class="line"><span class="lineno">  194</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;No Data Inserted&quot;</span>, -1);</div>
<div class="line"><span class="lineno">  195</span>            }</div>
<div class="line"><span class="lineno">  196</span>        }</div>
<div class="line"><span class="lineno">  197</span> </div>
<div class="line"><span class="lineno">  198</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  199</span>        {</div>
<div class="line"><span class="lineno">  200</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  201</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message, -1);</div>
<div class="line"><span class="lineno">  202</span>        }</div>
<div class="line"><span class="lineno">  203</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  204</span>        {</div>
<div class="line"><span class="lineno">  205</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  206</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message, -1);</div>
<div class="line"><span class="lineno">  207</span>        }</div>
<div class="line"><span class="lineno">  208</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="a281b2d169ce34a240a18b3f106e2f95d" name="a281b2d169ce34a240a18b3f106e2f95d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a281b2d169ce34a240a18b3f106e2f95d">&#9670;&#160;</a></span>addEmployeeCustomerAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.UserRepository.addEmployeeCustomerAsync </td>
          <td>(</td>
          <td class="paramtype">Object[]</td>          <td class="paramname"><span class="paramname"><em>employeeData</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Het aangemaakte account wordt gekoppeld aan de medewerkers tabel, doormiddel van alle meegegeven persoondata. Deze persoondata zal vervolgens in de query geïmplementeerd worden en vervolgens worden uitgevoerd. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">employeeData</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#afe0de5259233749214ee4eb6a4069e70">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00257">257</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  258</span>    {</div>
<div class="line"><span class="lineno">  259</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  260</span>        {</div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;INSERT INTO UserEmployee (ID, Business) values (@I, @B)&quot;</span>;</div>
<div class="line"><span class="lineno">  262</span> </div>
<div class="line"><span class="lineno">  263</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  264</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  265</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  266</span>            {</div>
<div class="line"><span class="lineno">  267</span>                <span class="comment">// Alle parameters worden ingevuld</span></div>
<div class="line"><span class="lineno">  268</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, employeeData[0]);</div>
<div class="line"><span class="lineno">  269</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@B&quot;</span>, employeeData[1]);</div>
<div class="line"><span class="lineno">  270</span> </div>
<div class="line"><span class="lineno">  271</span>                <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno">  272</span>                {</div>
<div class="line"><span class="lineno">  273</span>                    <span class="comment">// Er wordt gekeken of de gegevens zijn ingevoerd in de DataBase</span></div>
<div class="line"><span class="lineno">  274</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Data Inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  275</span>                }</div>
<div class="line"><span class="lineno">  276</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;No Data Inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  277</span>            }</div>
<div class="line"><span class="lineno">  278</span>        }</div>
<div class="line"><span class="lineno">  279</span> </div>
<div class="line"><span class="lineno">  280</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  281</span>        {</div>
<div class="line"><span class="lineno">  282</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  283</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  284</span>        }</div>
<div class="line"><span class="lineno">  285</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  286</span>        {</div>
<div class="line"><span class="lineno">  287</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  288</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  289</span>        }</div>
<div class="line"><span class="lineno">  290</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="a25a2f860883fcc39ea7fa8a932fde475" name="a25a2f860883fcc39ea7fa8a932fde475"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a25a2f860883fcc39ea7fa8a932fde475">&#9670;&#160;</a></span>addPersonalCustomerAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.UserRepository.addPersonalCustomerAsync </td>
          <td>(</td>
          <td class="paramtype">Object[]</td>          <td class="paramname"><span class="paramname"><em>personalData</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Het aangemaakte account wordt gekoppeld aan de particuliere tabel, doormiddel van alle meegegeven persoondata. Deze persoondata zal vervolgens in de query geïmplementeerd worden en vervolgens worden uitgevoerd. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">personalData</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#a8302234bdf3953c8329a4487c03992e8">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00216">216</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  217</span>    {</div>
<div class="line"><span class="lineno">  218</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  219</span>        {</div>
<div class="line"><span class="lineno">  220</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;INSERT INTO UserPersonal (ID, BirthDate) values (@I, @B)&quot;</span>;</div>
<div class="line"><span class="lineno">  221</span> </div>
<div class="line"><span class="lineno">  222</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  223</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  224</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  225</span>            {</div>
<div class="line"><span class="lineno">  226</span>                <span class="comment">// De parameters worden ingevuld met de persoonlijke gegevens</span></div>
<div class="line"><span class="lineno">  227</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, personalData[0]);</div>
<div class="line"><span class="lineno">  228</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@B&quot;</span>, personalData[1]);</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>                <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno">  231</span>                {</div>
<div class="line"><span class="lineno">  232</span>                    <span class="comment">// Er wordt gekeken of de gegevens zijn ingevoert in de DataBase</span></div>
<div class="line"><span class="lineno">  233</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Data Inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  234</span>                }</div>
<div class="line"><span class="lineno">  235</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;No Data Inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  236</span>            }</div>
<div class="line"><span class="lineno">  237</span>        }</div>
<div class="line"><span class="lineno">  238</span> </div>
<div class="line"><span class="lineno">  239</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  240</span>        {</div>
<div class="line"><span class="lineno">  241</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  242</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  243</span>        }</div>
<div class="line"><span class="lineno">  244</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  245</span>        {</div>
<div class="line"><span class="lineno">  246</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  247</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  248</span>        }</div>
<div class="line"><span class="lineno">  249</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="a09794bb8a3181b5be3f2676421dc4b12" name="a09794bb8a3181b5be3f2676421dc4b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09794bb8a3181b5be3f2676421dc4b12">&#9670;&#160;</a></span>AddStaff()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.UserRepository.AddStaff </td>
          <td>(</td>
          <td class="paramtype">Object[]</td>          <td class="paramname"><span class="paramname"><em>personData</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Er kunnen medewewerkers van Car and All toegevoegd worden aan de database, door middel van hun gegevens. De database voorziet de gegevens van een automatische id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">personData</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00554">554</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  555</span>    {</div>
<div class="line"><span class="lineno">  556</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  557</span>        {</div>
<div class="line"><span class="lineno">  558</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;INSERT INTO STAFF (FirstName, LastName, Password, Email, Office) VALUES (@F, @L, @P, @E, @O)&quot;</span>;</div>
<div class="line"><span class="lineno">  559</span> </div>
<div class="line"><span class="lineno">  560</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  561</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  562</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  563</span>            {</div>
<div class="line"><span class="lineno">  564</span>                <span class="comment">// Alle parameters worden ingevuld</span></div>
<div class="line"><span class="lineno">  565</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@F&quot;</span>, personData[0]);</div>
<div class="line"><span class="lineno">  566</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@L&quot;</span>, personData[1]);</div>
<div class="line"><span class="lineno">  567</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@P&quot;</span>, _hash.createHash(personData[2].ToString()));</div>
<div class="line"><span class="lineno">  568</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@E&quot;</span>, personData[3]);</div>
<div class="line"><span class="lineno">  569</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@O&quot;</span>, personData[4]);</div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>                <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno">  572</span>                    {</div>
<div class="line"><span class="lineno">  573</span>                        <span class="comment">// Er wordt gekeken of de gegevens zijn ingevoerd in de DataBase</span></div>
<div class="line"><span class="lineno">  574</span>                        <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Data inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  575</span>                    }</div>
<div class="line"><span class="lineno">  576</span>                    </div>
<div class="line"><span class="lineno">  577</span>                    <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Data not inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  578</span>            }</div>
<div class="line"><span class="lineno">  579</span>        }</div>
<div class="line"><span class="lineno">  580</span>        <span class="keywordflow">catch</span>(MySqlException ex)</div>
<div class="line"><span class="lineno">  581</span>        {</div>
<div class="line"><span class="lineno">  582</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.ToString());</div>
<div class="line"><span class="lineno">  583</span>        }</div>
<div class="line"><span class="lineno">  584</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>, and <a class="el" href="_user_repository_8cs_source.html#l00021">_hash</a>.</p>

</div>
</div>
<a id="a7903e03bfe7076a6ee7b352636cb854d" name="a7903e03bfe7076a6ee7b352636cb854d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7903e03bfe7076a6ee7b352636cb854d">&#9670;&#160;</a></span>checkUsageEmailAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.UserRepository.checkUsageEmailAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>email</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Er wordt gekeken of het emailadres al bestaat in de databse. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#a9c716662bd52a8dec74a868954dee50e">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00130">130</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  131</span>    {</div>
<div class="line"><span class="lineno">  132</span>        <span class="comment">// Er wordt gekeken of het emailadress al ingebruik is</span></div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  134</span>        {</div>
<div class="line"><span class="lineno">  135</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT COUNT(*) FROM UserCustomer WHERE LOWER(Email) = LOWER(@E)&quot;</span>;</div>
<div class="line"><span class="lineno">  136</span> </div>
<div class="line"><span class="lineno">  137</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query</span></div>
<div class="line"><span class="lineno">  138</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  139</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  140</span>            {</div>
<div class="line"><span class="lineno">  141</span>                <span class="comment">// Het emailadres wordt in de query ingevuld en er wordt gekeken of er rows zijn gevonden</span></div>
<div class="line"><span class="lineno">  142</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@E&quot;</span>, email);</div>
<div class="line"><span class="lineno">  143</span>                <span class="keywordtype">bool</span> inUse = Convert.ToInt32(await command.ExecuteScalarAsync()) &gt; 0;</div>
<div class="line"><span class="lineno">  144</span> </div>
<div class="line"><span class="lineno">  145</span>                <span class="comment">// Als het aantal gevoden rows &gt; 0, dan inUse = true, &quot;Email detected&quot; anders inUser = false, &quot;No email detected&quot;</span></div>
<div class="line"><span class="lineno">  146</span>                <span class="keywordflow">return</span> (inUse, inUse ? <span class="stringliteral">&quot;Email detected&quot;</span> : <span class="stringliteral">&quot;No email detected&quot;</span>);</div>
<div class="line"><span class="lineno">  147</span>            }</div>
<div class="line"><span class="lineno">  148</span>        }</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  151</span>        {</div>
<div class="line"><span class="lineno">  152</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  153</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  154</span>        }</div>
<div class="line"><span class="lineno">  155</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  156</span>        {</div>
<div class="line"><span class="lineno">  157</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  159</span>        }</div>
<div class="line"><span class="lineno">  160</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

<p class="reference">Referenced by <a class="el" href="_user_repository_8cs_source.html#l00471">CreateUserInfoQuery()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_w_p_r_1_1_repository_1_1_user_repository_a7903e03bfe7076a6ee7b352636cb854d_icgraph.png" border="0" usemap="#aclass_w_p_r_1_1_repository_1_1_user_repository_a7903e03bfe7076a6ee7b352636cb854d_icgraph" alt=""/></div>
<map name="aclass_w_p_r_1_1_repository_1_1_user_repository_a7903e03bfe7076a6ee7b352636cb854d_icgraph" id="aclass_w_p_r_1_1_repository_1_1_user_repository_a7903e03bfe7076a6ee7b352636cb854d_icgraph">
<area shape="rect" title="Er wordt gekeken of het emailadres al bestaat in de databse." alt="" coords="536,5,788,48"/>
<area shape="rect" href="class_w_p_r_1_1_repository_1_1_user_repository.html#af1ae304fd24d3ae358db293b0033e484" title="Er wordt een query aangemaakt, met daarin de meegeven gegevens die veranderd moeten worden in het acc..." alt="" coords="271,5,488,48"/>
<area shape="poly" title=" " alt="" coords="520,29,488,29,488,24,520,24"/>
<area shape="rect" href="class_w_p_r_1_1_repository_1_1_user_repository.html#af9a5424f00a5cfc023cc147a1e0a59cf" title=" " alt="" coords="5,5,223,48"/>
<area shape="poly" title=" " alt="" coords="255,29,223,29,223,24,255,24"/>
</map>
</div>

</div>
</div>
<a id="af1ae304fd24d3ae358db293b0033e484" name="af1ae304fd24d3ae358db293b0033e484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1ae304fd24d3ae358db293b0033e484">&#9670;&#160;</a></span>CreateUserInfoQuery()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool goodQuery, string message)&gt; WPR.Repository.UserRepository.CreateUserInfoQuery </td>
          <td>(</td>
          <td class="paramtype">List&lt; object[]&gt;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Er wordt een query aangemaakt, met daarin de meegeven gegevens die veranderd moeten worden in het account van de gebruiker. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00471">471</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  472</span>    {</div>
<div class="line"><span class="lineno">  473</span>        <span class="keywordtype">int</span> lengthList = data.Count(); <span class="comment">// De lengte voor de loopt wordt vastgesteld</span></div>
<div class="line"><span class="lineno">  474</span>        <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;UPDATE UserCustomer SET &quot;</span>; <span class="comment">// Het begin van de query wordt aangemaakt</span></div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i &lt; lengthList; i++)</div>
<div class="line"><span class="lineno">  477</span>        {</div>
<div class="line"><span class="lineno">  478</span>            <span class="comment">// Item[0] = Colom naam</span></div>
<div class="line"><span class="lineno">  479</span>            <span class="comment">// Item[1] = Colom data</span></div>
<div class="line"><span class="lineno">  480</span>            <span class="comment">// Item[2] = Type colom data</span></div>
<div class="line"><span class="lineno">  481</span>            <span class="keywordtype">object</span>[] item = data[i];</div>
<div class="line"><span class="lineno">  482</span> </div>
<div class="line"><span class="lineno">  483</span>            <span class="comment">// Als de 3e item in de list een integer is, worden er geen verdere checks gedaan</span></div>
<div class="line"><span class="lineno">  484</span>            <span class="keywordflow">if</span> (item[2].Equals(<span class="stringliteral">&quot;System.Int32&quot;</span>))</div>
<div class="line"><span class="lineno">  485</span>            {</div>
<div class="line"><span class="lineno">  486</span>                query += $<span class="stringliteral">&quot;{item[0]} = {item[1]}&quot;</span>;</div>
<div class="line"><span class="lineno">  487</span>            }</div>
<div class="line"><span class="lineno">  488</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  489</span>            {</div>
<div class="line"><span class="lineno">  490</span>                <span class="comment">// Als de naam van de colomn gelijks is aan &quot;Email&quot; wordt er een email check gedaan</span></div>
<div class="line"><span class="lineno">  491</span>                <span class="keywordflow">if</span> (item[0].ToString().Equals(<span class="stringliteral">&quot;Email&quot;</span>))</div>
<div class="line"><span class="lineno">  492</span>                {</div>
<div class="line"><span class="lineno">  493</span>                    var emailCheck = await checkUsageEmailAsync(item[1].ToString());</div>
<div class="line"><span class="lineno">  494</span> </div>
<div class="line"><span class="lineno">  495</span>                    <span class="keywordflow">if</span> (emailCheck.status)</div>
<div class="line"><span class="lineno">  496</span>                    {</div>
<div class="line"><span class="lineno">  497</span>                        <span class="keywordflow">return</span> (<span class="keyword">false</span>, emailCheck.message);</div>
<div class="line"><span class="lineno">  498</span>                    }</div>
<div class="line"><span class="lineno">  499</span>                }</div>
<div class="line"><span class="lineno">  500</span>                query += $<span class="stringliteral">&quot;{item[0]} = &#39;{item[1]}&#39;&quot;</span>;</div>
<div class="line"><span class="lineno">  501</span>            }</div>
<div class="line"><span class="lineno">  502</span> </div>
<div class="line"><span class="lineno">  503</span>            <span class="keywordflow">if</span> (i + 1 != lengthList)</div>
<div class="line"><span class="lineno">  504</span>            {</div>
<div class="line"><span class="lineno">  505</span>                <span class="comment">// De query kan worden uitgebreid</span></div>
<div class="line"><span class="lineno">  506</span>                query += <span class="stringliteral">&quot;,&quot;</span>;</div>
<div class="line"><span class="lineno">  507</span>            }</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>            query += <span class="stringliteral">&quot; &quot;</span>;</div>
<div class="line"><span class="lineno">  510</span>        }</div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>        <span class="comment">// De query wordt afgesloten</span></div>
<div class="line"><span class="lineno">  513</span>        <span class="keywordflow">return</span> (<span class="keyword">true</span>, query += $<span class="stringliteral">&quot;WHERE ID = {data[0][1]}&quot;</span>);</div>
<div class="line"><span class="lineno">  514</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00130">checkUsageEmailAsync()</a>.</p>

<p class="reference">Referenced by <a class="el" href="_user_repository_8cs_source.html#l00349">EditUserInfoAsync()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_w_p_r_1_1_repository_1_1_user_repository_af1ae304fd24d3ae358db293b0033e484_cgraph.png" border="0" usemap="#aclass_w_p_r_1_1_repository_1_1_user_repository_af1ae304fd24d3ae358db293b0033e484_cgraph" alt=""/></div>
<map name="aclass_w_p_r_1_1_repository_1_1_user_repository_af1ae304fd24d3ae358db293b0033e484_cgraph" id="aclass_w_p_r_1_1_repository_1_1_user_repository_af1ae304fd24d3ae358db293b0033e484_cgraph">
<area shape="rect" title="Er wordt een query aangemaakt, met daarin de meegeven gegevens die veranderd moeten worden in het acc..." alt="" coords="5,5,223,48"/>
<area shape="rect" href="class_w_p_r_1_1_repository_1_1_user_repository.html#a7903e03bfe7076a6ee7b352636cb854d" title="Er wordt gekeken of het emailadres al bestaat in de databse." alt="" coords="271,5,523,48"/>
<area shape="poly" title=" " alt="" coords="223,24,255,24,255,29,223,29"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_w_p_r_1_1_repository_1_1_user_repository_af1ae304fd24d3ae358db293b0033e484_icgraph.png" border="0" usemap="#aclass_w_p_r_1_1_repository_1_1_user_repository_af1ae304fd24d3ae358db293b0033e484_icgraph" alt=""/></div>
<map name="aclass_w_p_r_1_1_repository_1_1_user_repository_af1ae304fd24d3ae358db293b0033e484_icgraph" id="aclass_w_p_r_1_1_repository_1_1_user_repository_af1ae304fd24d3ae358db293b0033e484_icgraph">
<area shape="rect" title="Er wordt een query aangemaakt, met daarin de meegeven gegevens die veranderd moeten worden in het acc..." alt="" coords="271,5,488,48"/>
<area shape="rect" href="class_w_p_r_1_1_repository_1_1_user_repository.html#af9a5424f00a5cfc023cc147a1e0a59cf" title=" " alt="" coords="5,5,223,48"/>
<area shape="poly" title=" " alt="" coords="255,29,223,29,223,24,255,24"/>
</map>
</div>

</div>
</div>
<a id="a23bd5c36ff2c79f375a1b88727134636" name="a23bd5c36ff2c79f375a1b88727134636"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23bd5c36ff2c79f375a1b88727134636">&#9670;&#160;</a></span>DeleteUserAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.UserRepository.DeleteUserAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>userId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#ab8bc076a0fa5153144ae7a810515bf5a">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00411">411</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  412</span>    {</div>
<div class="line"><span class="lineno">  413</span>        Console.WriteLine(<span class="stringliteral">&quot;Deleting user&quot;</span>);</div>
<div class="line"><span class="lineno">  414</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  415</span>        {</div>
<div class="line"><span class="lineno">  416</span>            <span class="keywordtype">string</span> queryCustomer = <span class="stringliteral">&quot;DELETE FROM UserCustomer WHERE ID = @ID&quot;</span>;</div>
<div class="line"><span class="lineno">  417</span>            <span class="keywordtype">string</span> queryEmployee = <span class="stringliteral">&quot;DELETE FROM UserEmployee WHERE ID = @ID&quot;</span>;</div>
<div class="line"><span class="lineno">  418</span>            <span class="keywordtype">string</span> queryPersonal = <span class="stringliteral">&quot;DELETE FROM UserPersonal WHERE ID = @ID&quot;</span>;</div>
<div class="line"><span class="lineno">  419</span>            <span class="keywordtype">string</span> queryAbonnement = <span class="stringliteral">&quot;DELETE FROM Abonnement WHERE Customer = @ID&quot;</span>;</div>
<div class="line"><span class="lineno">  420</span> </div>
<div class="line"><span class="lineno">  421</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  422</span>            <span class="keyword">using</span> (var customerCommand = <span class="keyword">new</span> MySqlCommand(queryCustomer, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  423</span>            <span class="keyword">using</span> (var employeeCommand = <span class="keyword">new</span> MySqlCommand(queryEmployee, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  424</span>            <span class="keyword">using</span> (var personalCommand = <span class="keyword">new</span> MySqlCommand(queryPersonal, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  425</span>            <span class="keyword">using</span> (var abonnementCommand = <span class="keyword">new</span> MySqlCommand(queryAbonnement, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  426</span>            {</div>
<div class="line"><span class="lineno">  427</span>                Console.WriteLine(userId);</div>
<div class="line"><span class="lineno">  428</span>                <span class="keywordtype">int</span> userIdInt = Convert.ToInt32(userId);</div>
<div class="line"><span class="lineno">  429</span>                Console.WriteLine(userIdInt);</div>
<div class="line"><span class="lineno">  430</span> </div>
<div class="line"><span class="lineno">  431</span>                customerCommand.Parameters.AddWithValue(<span class="stringliteral">&quot;@ID&quot;</span>, userIdInt);</div>
<div class="line"><span class="lineno">  432</span>                employeeCommand.Parameters.AddWithValue(<span class="stringliteral">&quot;@ID&quot;</span>, userIdInt);</div>
<div class="line"><span class="lineno">  433</span>                personalCommand.Parameters.AddWithValue(<span class="stringliteral">&quot;@ID&quot;</span>, userIdInt);</div>
<div class="line"><span class="lineno">  434</span>                abonnementCommand.Parameters.AddWithValue(<span class="stringliteral">&quot;@ID&quot;</span>, userIdInt);</div>
<div class="line"><span class="lineno">  435</span> </div>
<div class="line"><span class="lineno">  436</span>                await employeeCommand.ExecuteNonQueryAsync();</div>
<div class="line"><span class="lineno">  437</span>                await personalCommand.ExecuteNonQueryAsync();</div>
<div class="line"><span class="lineno">  438</span>                await abonnementCommand.ExecuteNonQueryAsync();</div>
<div class="line"><span class="lineno">  439</span>                </div>
<div class="line"><span class="lineno">  440</span>                <span class="keywordtype">int</span> rowsAffected = await customerCommand.ExecuteNonQueryAsync();</div>
<div class="line"><span class="lineno">  441</span> </div>
<div class="line"><span class="lineno">  442</span>                <span class="keywordflow">if</span> (rowsAffected &gt; 0)</div>
<div class="line"><span class="lineno">  443</span>                {</div>
<div class="line"><span class="lineno">  444</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;User deleted&quot;</span>);</div>
<div class="line"><span class="lineno">  445</span>                }</div>
<div class="line"><span class="lineno">  446</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  447</span>                {</div>
<div class="line"><span class="lineno">  448</span>                    <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;User could not be deleted&quot;</span>);</div>
<div class="line"><span class="lineno">  449</span>                }</div>
<div class="line"><span class="lineno">  450</span>            }</div>
<div class="line"><span class="lineno">  451</span>        }</div>
<div class="line"><span class="lineno">  452</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  453</span>        {</div>
<div class="line"><span class="lineno">  454</span>            <span class="comment">// Handle database errors</span></div>
<div class="line"><span class="lineno">  455</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  456</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Database error: &quot;</span> + ex.Message);</div>
<div class="line"><span class="lineno">  457</span>        }</div>
<div class="line"><span class="lineno">  458</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  459</span>        {</div>
<div class="line"><span class="lineno">  460</span>            <span class="comment">// Handle other errors</span></div>
<div class="line"><span class="lineno">  461</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  462</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Unexpected error: &quot;</span> + ex.Message);</div>
<div class="line"><span class="lineno">  463</span>        }</div>
<div class="line"><span class="lineno">  464</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="af9a5424f00a5cfc023cc147a1e0a59cf" name="af9a5424f00a5cfc023cc147a1e0a59cf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af9a5424f00a5cfc023cc147a1e0a59cf">&#9670;&#160;</a></span>EditUserInfoAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.UserRepository.EditUserInfoAsync </td>
          <td>(</td>
          <td class="paramtype">List&lt; object[]&gt;</td>          <td class="paramname"><span class="paramname"><em>data</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#a69bf2dfc071328b914d0dd2b0e28036c">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00349">349</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  350</span>    {</div>
<div class="line"><span class="lineno">  351</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  352</span>        {</div>
<div class="line"><span class="lineno">  353</span>            <span class="comment">// Er wordt een custom query aangemaakt</span></div>
<div class="line"><span class="lineno">  354</span>            var query = await CreateUserInfoQuery(data);</div>
<div class="line"><span class="lineno">  355</span> </div>
<div class="line"><span class="lineno">  356</span>            <span class="keywordflow">if</span> (query.goodQuery)</div>
<div class="line"><span class="lineno">  357</span>            {</div>
<div class="line"><span class="lineno">  358</span>                <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  359</span>                <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  360</span>                <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query.message, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  361</span>                {</div>
<div class="line"><span class="lineno">  362</span>                    var result = await command.ExecuteNonQueryAsync();</div>
<div class="line"><span class="lineno">  363</span> </div>
<div class="line"><span class="lineno">  364</span>                    <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno">  365</span>                    {</div>
<div class="line"><span class="lineno">  366</span>                        <span class="comment">// Er wordt gecontrolleerd of de gegeven in de DataBase zijn ingevoerd</span></div>
<div class="line"><span class="lineno">  367</span>                        <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Data inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  368</span>                    }</div>
<div class="line"><span class="lineno">  369</span>                    </div>
<div class="line"><span class="lineno">  370</span>                    <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Data not inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  371</span>                }</div>
<div class="line"><span class="lineno">  372</span>            }</div>
<div class="line"><span class="lineno">  373</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  374</span>            {</div>
<div class="line"><span class="lineno">  375</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, query.message);</div>
<div class="line"><span class="lineno">  376</span>            }</div>
<div class="line"><span class="lineno">  377</span>        }</div>
<div class="line"><span class="lineno">  378</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  379</span>            {</div>
<div class="line"><span class="lineno">  380</span>                Console.WriteLine($<span class="stringliteral">&quot;Error: {ex}&quot;</span>);</div>
<div class="line"><span class="lineno">  381</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.ToString());</div>
<div class="line"><span class="lineno">  382</span>            }</div>
<div class="line"><span class="lineno">  383</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>, and <a class="el" href="_user_repository_8cs_source.html#l00471">CreateUserInfoQuery()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="class_w_p_r_1_1_repository_1_1_user_repository_af9a5424f00a5cfc023cc147a1e0a59cf_cgraph.png" border="0" usemap="#aclass_w_p_r_1_1_repository_1_1_user_repository_af9a5424f00a5cfc023cc147a1e0a59cf_cgraph" alt=""/></div>
<map name="aclass_w_p_r_1_1_repository_1_1_user_repository_af9a5424f00a5cfc023cc147a1e0a59cf_cgraph" id="aclass_w_p_r_1_1_repository_1_1_user_repository_af9a5424f00a5cfc023cc147a1e0a59cf_cgraph">
<area shape="rect" title=" " alt="" coords="5,5,223,48"/>
<area shape="rect" href="class_w_p_r_1_1_repository_1_1_user_repository.html#af1ae304fd24d3ae358db293b0033e484" title="Er wordt een query aangemaakt, met daarin de meegeven gegevens die veranderd moeten worden in het acc..." alt="" coords="271,5,488,48"/>
<area shape="poly" title=" " alt="" coords="223,24,255,24,255,29,223,29"/>
<area shape="rect" href="class_w_p_r_1_1_repository_1_1_user_repository.html#a7903e03bfe7076a6ee7b352636cb854d" title="Er wordt gekeken of het emailadres al bestaat in de databse." alt="" coords="536,5,788,48"/>
<area shape="poly" title=" " alt="" coords="489,24,521,24,521,29,489,29"/>
</map>
</div>

</div>
</div>
<a id="a70df464a9677bb005de76ae46290a8ad" name="a70df464a9677bb005de76ae46290a8ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a70df464a9677bb005de76ae46290a8ad">&#9670;&#160;</a></span>GetKindEmployeeAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.UserRepository.GetKindEmployeeAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>userId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Er wordt door de query, doormiddel van de user id, vastgesteld tot wat voor soort office de medewerker van Car and All behoort. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#a61c1809923dff794670663107f64df14">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00521">521</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  522</span>    {</div>
<div class="line"><span class="lineno">  523</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  524</span>        {</div>
<div class="line"><span class="lineno">  525</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT Office FROM Staff WHERE ID = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  526</span> </div>
<div class="line"><span class="lineno">  527</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  528</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  529</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  530</span>            {</div>
<div class="line"><span class="lineno">  531</span>                <span class="comment">// De parameter wordt ingevuld</span></div>
<div class="line"><span class="lineno">  532</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, userId);</div>
<div class="line"><span class="lineno">  533</span> </div>
<div class="line"><span class="lineno">  534</span>                var result = await command.ExecuteScalarAsync();</div>
<div class="line"><span class="lineno">  535</span> </div>
<div class="line"><span class="lineno">  536</span>                <span class="comment">// De office wordt meegegeven</span></div>
<div class="line"><span class="lineno">  537</span>                <span class="keywordflow">return</span> (<span class="keyword">true</span>, result.ToString());</div>
<div class="line"><span class="lineno">  538</span>            }</div>
<div class="line"><span class="lineno">  539</span>        }</div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  541</span>        {</div>
<div class="line"><span class="lineno">  542</span>            Console.WriteLine(ex);</div>
<div class="line"><span class="lineno">  543</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.ToString());</div>
<div class="line"><span class="lineno">  544</span>        }</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="aea5055bbf69f618cfea05d82dba1becb" name="aea5055bbf69f618cfea05d82dba1becb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea5055bbf69f618cfea05d82dba1becb">&#9670;&#160;</a></span>GetUserIdAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; string &gt; WPR.Repository.UserRepository.GetUserIdAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>email</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>table</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#a4c1e54015ce6e7f4e3f71a22db6c6de3">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00292">292</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  293</span>    {</div>
<div class="line"><span class="lineno">  294</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  295</span>        {</div>
<div class="line"><span class="lineno">  296</span>            <span class="keywordtype">string</span> query = $<span class="stringliteral">&quot;SELECT ID FROM {table} WHERE Email = @E&quot;</span>;</div>
<div class="line"><span class="lineno">  297</span> </div>
<div class="line"><span class="lineno">  298</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  299</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  300</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  301</span>            {</div>
<div class="line"><span class="lineno">  302</span>                <span class="comment">// De parameter wordt ingevuld</span></div>
<div class="line"><span class="lineno">  303</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@E&quot;</span>, email);</div>
<div class="line"><span class="lineno">  304</span> </div>
<div class="line"><span class="lineno">  305</span>                var result = await command.ExecuteScalarAsync();</div>
<div class="line"><span class="lineno">  306</span> </div>
<div class="line"><span class="lineno">  307</span>                <span class="keywordflow">if</span> (result != <span class="keyword">null</span>)</div>
<div class="line"><span class="lineno">  308</span>                {</div>
<div class="line"><span class="lineno">  309</span>                    <span class="comment">// De user id wordt meegegeven</span></div>
<div class="line"><span class="lineno">  310</span>                    <span class="keywordflow">return</span> result.ToString();</div>
<div class="line"><span class="lineno">  311</span>                }</div>
<div class="line"><span class="lineno">  312</span> </div>
<div class="line"><span class="lineno">  313</span>                <span class="keywordflow">return</span> <span class="stringliteral">&quot;No user found&quot;</span>;</div>
<div class="line"><span class="lineno">  314</span>            }</div>
<div class="line"><span class="lineno">  315</span>        }</div>
<div class="line"><span class="lineno">  316</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  317</span>        {</div>
<div class="line"><span class="lineno">  318</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  319</span>            <span class="keywordflow">return</span> <span class="stringliteral">&quot;No user found&quot;</span>;</div>
<div class="line"><span class="lineno">  320</span>        }</div>
<div class="line"><span class="lineno">  321</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="acb618d51bcc50e8f72102e11f6bed987" name="acb618d51bcc50e8f72102e11f6bed987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb618d51bcc50e8f72102e11f6bed987">&#9670;&#160;</a></span>GetUserNameAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; string &gt; WPR.Repository.UserRepository.GetUserNameAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>userId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#adea3e199f30f2118d56fbb649c6d9b85">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00323">323</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  324</span>    {</div>
<div class="line"><span class="lineno">  325</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  326</span>        {</div>
<div class="line"><span class="lineno">  327</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT FirstName FROM UserCustomer WHERE ID = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  328</span> </div>
<div class="line"><span class="lineno">  329</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  330</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  331</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  332</span>            {</div>
<div class="line"><span class="lineno">  333</span>                <span class="comment">// De paramater wordt ingevuld</span></div>
<div class="line"><span class="lineno">  334</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, Convert.ToInt32(userId));</div>
<div class="line"><span class="lineno">  335</span> </div>
<div class="line"><span class="lineno">  336</span>                var result = await command.ExecuteScalarAsync();</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>                <span class="comment">// De gebruikersnaam wordt meegegeven</span></div>
<div class="line"><span class="lineno">  339</span>                <span class="keywordflow">return</span> result.ToString();</div>
<div class="line"><span class="lineno">  340</span>            }</div>
<div class="line"><span class="lineno">  341</span>        }</div>
<div class="line"><span class="lineno">  342</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  343</span>        {</div>
<div class="line"><span class="lineno">  344</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordflow">return</span> ex.ToString();</div>
<div class="line"><span class="lineno">  346</span>        }</div>
<div class="line"><span class="lineno">  347</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="a49c76e9c3e780a07b7036dd2a6d30263" name="a49c76e9c3e780a07b7036dd2a6d30263"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49c76e9c3e780a07b7036dd2a6d30263">&#9670;&#160;</a></span>IsKvkNumberAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; bool &gt; WPR.Repository.UserRepository.IsKvkNumberAsync </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kvkNumber</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#a670f6c2c74f0ecdf1386af0f6069c9fd">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00385">385</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  386</span>    {</div>
<div class="line"><span class="lineno">  387</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  388</span>        {</div>
<div class="line"><span class="lineno">  389</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT COUNT(1) FROM Business WHERE KVK = @kvkNumber&quot;</span>;</div>
<div class="line"><span class="lineno">  390</span> </div>
<div class="line"><span class="lineno">  391</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  392</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection) connection))</div>
<div class="line"><span class="lineno">  393</span>            {</div>
<div class="line"><span class="lineno">  394</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@kvkNumber&quot;</span>, kvkNumber);</div>
<div class="line"><span class="lineno">  395</span>                var result = Convert.ToInt32(await command.ExecuteScalarAsync());</div>
<div class="line"><span class="lineno">  396</span>                <span class="keywordflow">return</span> result &gt; 0;</div>
<div class="line"><span class="lineno">  397</span>            }</div>
<div class="line"><span class="lineno">  398</span>        }</div>
<div class="line"><span class="lineno">  399</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  400</span>        {</div>
<div class="line"><span class="lineno">  401</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  402</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  403</span>        }</div>
<div class="line"><span class="lineno">  404</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  405</span>        {</div>
<div class="line"><span class="lineno">  406</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  407</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  408</span>        }</div>
<div class="line"><span class="lineno">  409</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="a9897bc253b72e7422cca16f676d4e53c" name="a9897bc253b72e7422cca16f676d4e53c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9897bc253b72e7422cca16f676d4e53c">&#9670;&#160;</a></span>IsUserEmployee()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; bool &gt; WPR.Repository.UserRepository.IsUserEmployee </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Er wordt gekeken door middel van het id of de gebruiker een geldig medewerkers id heeft. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#aab80cef291c4192ce799937ca1e08312">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00591">591</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  592</span>    {</div>
<div class="line"><span class="lineno">  593</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  594</span>        {</div>
<div class="line"><span class="lineno">  595</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT ID FROM UserEmployee WHERE ID = @id&quot;</span>;</div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>            <span class="comment">// Er wordt een connectie aangemaakt met de DataBase met bovenstaande query </span></div>
<div class="line"><span class="lineno">  598</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  599</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  600</span>            {</div>
<div class="line"><span class="lineno">  601</span>                <span class="comment">// De parameter wordt ingevuld</span></div>
<div class="line"><span class="lineno">  602</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@id&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  603</span> </div>
<div class="line"><span class="lineno">  604</span>                var result = await command.ExecuteScalarAsync();</div>
<div class="line"><span class="lineno">  605</span> </div>
<div class="line"><span class="lineno">  606</span>                <span class="keywordflow">if</span> (result != <span class="keyword">null</span> &amp;&amp; result.ToString() == <span class="keywordtype">id</span>.ToString())</div>
<div class="line"><span class="lineno">  607</span>                {</div>
<div class="line"><span class="lineno">  608</span>                    <span class="comment">// Er wordt gekeken of de gebruiker bestaat</span></div>
<div class="line"><span class="lineno">  609</span>                    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  610</span>                }</div>
<div class="line"><span class="lineno">  611</span> </div>
<div class="line"><span class="lineno">  612</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  613</span>            }</div>
<div class="line"><span class="lineno">  614</span>        }</div>
<div class="line"><span class="lineno">  615</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  616</span>        {</div>
<div class="line"><span class="lineno">  617</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  618</span>            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  619</span>        }</div>
<div class="line"><span class="lineno">  620</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>.</p>

</div>
</div>
<a id="adb512c98ffbaeb97a9b9f2fdc8994549" name="adb512c98ffbaeb97a9b9f2fdc8994549"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb512c98ffbaeb97a9b9f2fdc8994549">&#9670;&#160;</a></span>ValidateUserAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; bool &gt; WPR.Repository.UserRepository.ValidateUserAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>username</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>password</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>userType</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Er wordt door middel van de meegegeven userType een query aangemaakt, om de juiste gegevens uit de juiste tabel op te halen. Vervolgens wordt er in de query het meegegeven emailadress gestopt, om zo het gehaste wachtwoord uit de database te halen Nadat er een gebruiker met wachtwoord uit de query komt, zal dit gehaste wachtwoord vergelek worden met het meegegeven gehaste wachtwoord. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td></td></tr>
    <tr><td class="paramname">password</td><td></td></tr>
    <tr><td class="paramname">userType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>Implements <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_user_repository.html#a7dd4b3be17516ffd565fec621cbd7452">WPR.Repository.IUserRepository</a>.</p>

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00065">65</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   66</span>    {</div>
<div class="line"><span class="lineno">   67</span>        <span class="comment">/*string query = $@&quot;SELECT 1 FROM {table} WHERE LOWER(email) = LOWER(@Email) AND BINARY password = @Password&quot;;</span></div>
<div class="line"><span class="lineno">   68</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">   69</span><span class="comment">        using (var connection = _connector.CreateDbConnection())</span></div>
<div class="line"><span class="lineno">   70</span><span class="comment">        {</span></div>
<div class="line"><span class="lineno">   71</span><span class="comment">            using (var command = new MySqlCommand(query, (MySqlConnection)connection))</span></div>
<div class="line"><span class="lineno">   72</span><span class="comment">            {</span></div>
<div class="line"><span class="lineno">   73</span><span class="comment">                command.Parameters.AddWithValue(&quot;@Email&quot;, username);</span></div>
<div class="line"><span class="lineno">   74</span><span class="comment">                command.Parameters.AddWithValue(&quot;@Password&quot;, password);</span></div>
<div class="line"><span class="lineno">   75</span><span class="comment"></span> </div>
<div class="line"><span class="lineno">   76</span><span class="comment">                using (var reader = await command.ExecuteReaderAsync())</span></div>
<div class="line"><span class="lineno">   77</span><span class="comment">                {</span></div>
<div class="line"><span class="lineno">   78</span><span class="comment">                    return reader.HasRows;</span></div>
<div class="line"><span class="lineno">   79</span><span class="comment">                }</span></div>
<div class="line"><span class="lineno">   80</span><span class="comment">            }</span></div>
<div class="line"><span class="lineno">   81</span><span class="comment">        }</span></div>
<div class="line"><span class="lineno">   82</span><span class="comment">        */</span></div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>        <span class="comment">// De table voor de DataBase wordt vastgesteld</span></div>
<div class="line"><span class="lineno">   85</span>        <span class="keywordtype">string</span> table; </div>
<div class="line"><span class="lineno">   86</span>        </div>
<div class="line"><span class="lineno">   87</span>        <span class="keywordflow">if</span> (userType.Equals(<span class="stringliteral">&quot;Employee&quot;</span>))</div>
<div class="line"><span class="lineno">   88</span>        {</div>
<div class="line"><span class="lineno">   89</span>            table = <span class="stringliteral">&quot;Staff&quot;</span>;</div>
<div class="line"><span class="lineno">   90</span>        }</div>
<div class="line"><span class="lineno">   91</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (userType.Equals(<span class="stringliteral">&quot;Customer&quot;</span>))</div>
<div class="line"><span class="lineno">   92</span>        {</div>
<div class="line"><span class="lineno">   93</span>            table = <span class="stringliteral">&quot;UserCustomer&quot;</span>;</div>
<div class="line"><span class="lineno">   94</span>        }</div>
<div class="line"><span class="lineno">   95</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   96</span>        {</div>
<div class="line"><span class="lineno">   97</span>            table = <span class="stringliteral">&quot;VehicleManager&quot;</span>;</div>
<div class="line"><span class="lineno">   98</span>        }</div>
<div class="line"><span class="lineno">   99</span> </div>
<div class="line"><span class="lineno">  100</span>        <span class="keywordtype">string</span> query = <span class="stringliteral">$@&quot;SELECT password FROM {table} WHERE LOWER(email) = LOWER(@Email)&quot;</span>;</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>        <span class="comment">// Er wordt een connectie met de Database aangemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  103</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  104</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  105</span>        {</div>
<div class="line"><span class="lineno">  106</span>            <span class="comment">// In de query wordt vastgesteld welke row er geselecteerd moet worden doormiddel van het invullen van het emailadres</span></div>
<div class="line"><span class="lineno">  107</span>            command.Parameters.AddWithValue(<span class="stringliteral">&quot;@Email&quot;</span>, username);</div>
<div class="line"><span class="lineno">  108</span> </div>
<div class="line"><span class="lineno">  109</span>            <span class="comment">// De query wordt uitgevoerd</span></div>
<div class="line"><span class="lineno">  110</span>            <span class="keyword">using</span> (var reader = await command.ExecuteReaderAsync())</div>
<div class="line"><span class="lineno">  111</span>            {   </div>
<div class="line"><span class="lineno">  112</span>                <span class="comment">// De query wordt uitgelezen en gekeken of er rows gevonden zijn</span></div>
<div class="line"><span class="lineno">  113</span>                <span class="keywordflow">if</span> (await reader.ReadAsync())</div>
<div class="line"><span class="lineno">  114</span>                {</div>
<div class="line"><span class="lineno">  115</span>                    <span class="comment">// Het gehashte wachtwoord wordt opgehaald en wordt vergeleken met het gehaste meegegeven wachtwoord</span></div>
<div class="line"><span class="lineno">  116</span>                    <span class="keywordtype">string</span> passwordUser = reader.GetString(<span class="stringliteral">&quot;Password&quot;</span>);</div>
<div class="line"><span class="lineno">  117</span>                    <span class="keywordflow">return</span> _hash.createHash(password).Equals(passwordUser);</div>
<div class="line"><span class="lineno">  118</span>                }</div>
<div class="line"><span class="lineno">  119</span> </div>
<div class="line"><span class="lineno">  120</span>                <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  121</span>            }</div>
<div class="line"><span class="lineno">  122</span>        }</div>
<div class="line"><span class="lineno">  123</span>    }</div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="_user_repository_8cs_source.html#l00020">_connector</a>, and <a class="el" href="_user_repository_8cs_source.html#l00021">_hash</a>.</p>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a183c2adefcdd48e81e8341e438662d7c" name="a183c2adefcdd48e81e8341e438662d7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a183c2adefcdd48e81e8341e438662d7c">&#9670;&#160;</a></span>_connector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_w_p_r_1_1_database_1_1_connector.html">Connector</a> WPR.Repository.UserRepository._connector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00020">20</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_user_repository_8cs_source.html#l00168">addCustomerAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00257">addEmployeeCustomerAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00216">addPersonalCustomerAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00554">AddStaff()</a>, <a class="el" href="_user_repository_8cs_source.html#l00130">checkUsageEmailAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00411">DeleteUserAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00349">EditUserInfoAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00521">GetKindEmployeeAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00292">GetUserIdAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00323">GetUserNameAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00385">IsKvkNumberAsync()</a>, <a class="el" href="_user_repository_8cs_source.html#l00591">IsUserEmployee()</a>, <a class="el" href="_user_repository_8cs_source.html#l00024">UserRepository()</a>, and <a class="el" href="_user_repository_8cs_source.html#l00065">ValidateUserAsync()</a>.</p>

</div>
</div>
<a id="ac8ad4a8f0e0ab9918ee233a207c2b125" name="ac8ad4a8f0e0ab9918ee233a207c2b125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac8ad4a8f0e0ab9918ee233a207c2b125">&#9670;&#160;</a></span>_crypt</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_w_p_r_1_1_cryption_1_1_crypt.html">Crypt</a> WPR.Repository.UserRepository._crypt</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00022">22</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_user_repository_8cs_source.html#l00024">UserRepository()</a>.</p>

</div>
</div>
<a id="a1b11b787b41fa41a34ef2515f5eaa6d3" name="a1b11b787b41fa41a34ef2515f5eaa6d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b11b787b41fa41a34ef2515f5eaa6d3">&#9670;&#160;</a></span>_hash</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="class_w_p_r_1_1_hashing_1_1_hash.html">Hash</a> WPR.Repository.UserRepository._hash</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="_user_repository_8cs_source.html#l00021">21</a> of file <a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a>.</p>

<p class="reference">Referenced by <a class="el" href="_user_repository_8cs_source.html#l00554">AddStaff()</a>, <a class="el" href="_user_repository_8cs_source.html#l00024">UserRepository()</a>, and <a class="el" href="_user_repository_8cs_source.html#l00065">ValidateUserAsync()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>D:/codes/WPR/backend/src/Repository/<a class="el" href="_user_repository_8cs_source.html">UserRepository.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_w_p_r.html">WPR</a></li><li class="navelem"><a class="el" href="namespace_w_p_r_1_1_repository.html">Repository</a></li><li class="navelem"><a class="el" href="class_w_p_r_1_1_repository_1_1_user_repository.html">UserRepository</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
