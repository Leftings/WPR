<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="nl">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Car And All WPR: WPR.Repository.EmployeeRepository Class Referentie</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<script type="text/javascript" src="../../clipboard.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../cookie.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Car And All WPR
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Zoeken" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gegenereerd door Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(1); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html','../../'); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Laden...</div>
<div class="SRStatus" id="Searching">Zoeken...</div>
<div class="SRStatus" id="NoMatches">Niets gevonden</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Members</a> &#124;
<a href="#pub-attribs">Public Attributen</a> &#124;
<a href="#pri-methods">Private Members</a> &#124;
<a href="#pri-attribs">Private Attributen</a> &#124;
<a href="../../d7/d78/class_w_p_r_1_1_repository_1_1_employee_repository-members.html">Lijst van alle members</a>  </div>
  <div class="headertitle"><div class="title">WPR.Repository.EmployeeRepository Class Referentie</div></div>
</div><!--header-->
<div class="contents">

<p>De <a class="el" href="../../d9/d2c/class_w_p_r_1_1_repository_1_1_user_repository.html" title="De UserRepository class geeft de methodes voor de interactie met de database voor gebruiker gerelatee...">UserRepository</a> class geeft de methodes voor de interactie met de database voor gebruiker gerelateerde operaties. Het implementeert de <a class="el" href="../../df/d31/interface_w_p_r_1_1_repository_1_1_i_user_repository.html" title="Interface defining methods voor user gerelateerde database operaties, validatie, user management,...">IUserRepository</a> interface.  
 <a href="#details">Meer...</a></p>
<div class="dynheader">
Klasse diagram voor WPR.Repository.EmployeeRepository</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/dfe/class_w_p_r_1_1_repository_1_1_employee_repository__inherit__graph.png" border="0" usemap="#a_w_p_r_8_repository_8_employee_repository_inherit__map" alt="Inheritance graph"/></div>
<map name="a_w_p_r_8_repository_8_employee_repository_inherit__map" id="a_w_p_r_8_repository_8_employee_repository_inherit__map">
<area shape="rect" title="De UserRepository class geeft de methodes voor de interactie met de database voor gebruiker gerelatee..." alt="" coords="5,848,266,1920"/>
<area shape="rect" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html" title="Interface defining methods voor user gerelateerde database operaties, validatie, user management,..." alt="" coords="19,5,253,800"/>
<area shape="poly" title=" " alt="" coords="138,815,138,848,133,848,133,815"/>
</map>
</div>
<div class="dynheader">
Collaboratie diagram voor WPR.Repository.EmployeeRepository:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dbe/class_w_p_r_1_1_repository_1_1_employee_repository__coll__graph.png" border="0" usemap="#a_w_p_r_8_repository_8_employee_repository_coll__map" alt="Collaboration graph"/></div>
<map name="a_w_p_r_8_repository_8_employee_repository_coll__map" id="a_w_p_r_8_repository_8_employee_repository_coll__map">
<area shape="rect" title="De UserRepository class geeft de methodes voor de interactie met de database voor gebruiker gerelatee..." alt="" coords="376,1307,637,2283"/>
<area shape="rect" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html" title="Interface defining methods voor user gerelateerde database operaties, validatie, user management,..." alt="" coords="5,448,239,1243"/>
<area shape="poly" title=" " alt="" coords="247,1224,254,1242,314,1386,378,1527,373,1529,310,1388,249,1244,242,1226"/>
<area shape="rect" href="../../d1/dbb/interface_w_p_r_1_1_database_1_1_i_connector.html" title="Connector class om verbinding te maken met de database, maakt gebruik van de connectie strings die zi..." alt="" coords="264,811,509,880"/>
<area shape="poly" title=" " alt="" coords="393,879,445,1290,440,1290,388,880"/>
<area shape="rect" href="../../df/dd4/class_w_p_r_1_1_hashing_1_1_hash.html" title="Class Hash zorgt ervoor dat wachtwoorden op een veilige manier worden gehashed doormiddel van het HMA..." alt="" coords="533,781,720,909"/>
<area shape="poly" title=" " alt="" coords="621,909,573,1290,568,1289,616,909"/>
<area shape="rect" href="../../d6/dd3/class_w_p_r_1_1_services_1_1_email_service.html" title=" " alt="" coords="744,515,983,1176"/>
<area shape="poly" title=" " alt="" coords="758,1177,734,1244,646,1470,641,1468,729,1242,753,1175"/>
<area shape="rect" href="../../df/d52/interface_w_p_r_1_1_services_1_1_i_email_service.html" title=" " alt="" coords="620,5,870,384"/>
<area shape="poly" title=" " alt="" coords="785,398,806,515,801,516,779,399"/>
<area shape="rect" href="../../dd/dfb/class_w_p_r_1_1_data_1_1_env_config.html" title="Leez het .env bestand uit waarin de connectie strings staan naar de database. Deze staan in een apart..." alt="" coords="894,80,1071,309"/>
<area shape="poly" title=" " alt="" coords="964,310,930,498,924,497,959,309"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Members</h2></td></tr>
<tr class="memitem:a2e794d8cfcf157bb7e55ffe4919a6115" id="r_a2e794d8cfcf157bb7e55ffe4919a6115"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2e794d8cfcf157bb7e55ffe4919a6115">EmployeeRepository</a> (<a class="el" href="../../d1/dbb/interface_w_p_r_1_1_database_1_1_i_connector.html">IConnector</a> connector, <a class="el" href="../../df/dd4/class_w_p_r_1_1_hashing_1_1_hash.html">Hash</a> hash, <a class="el" href="../../d6/dd3/class_w_p_r_1_1_services_1_1_email_service.html">EmailService</a> emailService)</td></tr>
<tr class="separator:a2e794d8cfcf157bb7e55ffe4919a6115"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b6d81667b6e8ca4c12227a11b7a5e59" id="r_a1b6d81667b6e8ca4c12227a11b7a5e59"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1b6d81667b6e8ca4c12227a11b7a5e59">AddVehicleAsync</a> (int yop, string brand, string type, string licensePlate, string color, string sort, double price, string description, byte[] vehicleBlob, int places)</td></tr>
<tr class="memdesc:a1b6d81667b6e8ca4c12227a11b7a5e59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt een query aangemaakt met de meegegeven gegevens voor een voertuig. Nadat de query volledig is, wordt deze uitgevoerd. Frame nummers worden automatisch toegepast op het voertuig.  <br /></td></tr>
<tr class="separator:a1b6d81667b6e8ca4c12227a11b7a5e59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2ef5ed22a8e48ce548cd8ba708461ff" id="r_ad2ef5ed22a8e48ce548cd8ba708461ff"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad2ef5ed22a8e48ce548cd8ba708461ff">AddStaff</a> (<a class="el" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html">SignUpStaffRequest</a> request)</td></tr>
<tr class="memdesc:ad2ef5ed22a8e48ce548cd8ba708461ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er kunnen medewerkers toegevoegd worden aan het systeem. Als er in de meegegeven data naar voren komt dat een er wagenparkbeheerder toegevoegd wordt, wordt daarvoor een aparte query gemaakt. Als er in de meegegeven data naar voren komt dat er een Car and All medewerker toegevoegd wordt, wordt daarvoor een aparte query gemaakt. De mee gegeven gegvens worden in de query geïmplementeerd en vervolgens uitgevoerd.  <br /></td></tr>
<tr class="separator:ad2ef5ed22a8e48ce548cd8ba708461ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ebda3c7db9afd834f0c0667914bba2" id="r_a98ebda3c7db9afd834f0c0667914bba2"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a98ebda3c7db9afd834f0c0667914bba2">checkUsageEmailAsync</a> (string email)</td></tr>
<tr class="memdesc:a98ebda3c7db9afd834f0c0667914bba2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt query aangemaakt die zoekt in de Staff tabel naar het ingevoerde emailadress, zodat de emailadressen altijd uniek blijven.  <br /></td></tr>
<tr class="separator:a98ebda3c7db9afd834f0c0667914bba2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5299ddb588f36d87c4274dea48cc63a5" id="r_a5299ddb588f36d87c4274dea48cc63a5"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5299ddb588f36d87c4274dea48cc63a5">checkUsageEmaiVehicleManagerlAsync</a> (string email)</td></tr>
<tr class="separator:a5299ddb588f36d87c4274dea48cc63a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a203e22cce3985a27366173a2aba15ad8" id="r_a203e22cce3985a27366173a2aba15ad8"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, List&lt; string &gt; ids)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a203e22cce3985a27366173a2aba15ad8">GetReviewIdsAsync</a> (string user, string userId)</td></tr>
<tr class="memdesc:a203e22cce3985a27366173a2aba15ad8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Voor een zakelijke huuraanvraag moet deze eerst geaccepteerd worden door de wagenparkbeheerdeer van het bedrijf. Deze aanvragen worden geselecteerd door middel van de status van de aanvraag op te vragen en te kijken of deze overeen komt met 'requested', de VMstatus overeen komt met 'requested'en of het KvK nummer van gebruiker gelijk is aan het KvK nummer van de wagenparkbeheerder.  <br /></td></tr>
<tr class="separator:a203e22cce3985a27366173a2aba15ad8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a182690b76579d6e5171dffbc804e39" id="r_a9a182690b76579d6e5171dffbc804e39"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, List&lt; Dictionary&lt; string, object &gt; &gt; data)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9a182690b76579d6e5171dffbc804e39">GetReviewAsync</a> (string id)</td></tr>
<tr class="memdesc:a9a182690b76579d6e5171dffbc804e39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt een specifieke id opgevraagd en deze wordt uit de tabel Contract opgevraagd met alle data in de juiste rij.  <br /></td></tr>
<tr class="separator:a9a182690b76579d6e5171dffbc804e39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab57756edb2a46e9c4e8381b11845f1ff" id="r_ab57756edb2a46e9c4e8381b11845f1ff"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab57756edb2a46e9c4e8381b11845f1ff">SetStatusAsync</a> (string id, string status, string employee, string userType)</td></tr>
<tr class="memdesc:ab57756edb2a46e9c4e8381b11845f1ff"><td class="mdescLeft">&#160;</td><td class="mdescRight">De status van de frontoffice medewerker of wagenparkbeheerder wordt geupdate in de huuraanvraag.  <br /></td></tr>
<tr class="separator:ab57756edb2a46e9c4e8381b11845f1ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42271b52a537da924efab8ddcb2c78ad" id="r_a42271b52a537da924efab8ddcb2c78ad"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a42271b52a537da924efab8ddcb2c78ad">AddBusiness</a> (AddBusinessRequest request)</td></tr>
<tr class="memdesc:a42271b52a537da924efab8ddcb2c78ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maakt een connectie met de database door middel van de connector en de query. De gegevens worden uit de AddBusinessRequest getrokken en verwerkt in de query. De query wordt uitgevoerd en checkt of deze ook succesvol is uitgevoerd.  <br /></td></tr>
<tr class="separator:a42271b52a537da924efab8ddcb2c78ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79ed0c0c2783f6b506db86979dd35ba8" id="r_a79ed0c0c2783f6b506db86979dd35ba8"><td class="memItemLeft" align="right" valign="top">int string IList&lt; int &gt; KvK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79ed0c0c2783f6b506db86979dd35ba8">ViewBusinessRequests</a> ()</td></tr>
<tr class="separator:a79ed0c0c2783f6b506db86979dd35ba8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e0a19b0f5fd0c4ee11dfb629c82422" id="r_a13e0a19b0f5fd0c4ee11dfb629c82422"><td class="memItemLeft" align="right" valign="top">async Task&lt;(int <a class="el" href="#a338711ff3ec2298bedce98a6ff8e7ccf">StatusCode</a>, string <a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a>, Dictionary&lt; string, object &gt; data)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a13e0a19b0f5fd0c4ee11dfb629c82422">ViewBusinessRequestDetailed</a> (int kvk)</td></tr>
<tr class="memdesc:a13e0a19b0f5fd0c4ee11dfb629c82422"><td class="mdescLeft">&#160;</td><td class="mdescRight">Haalt gedetailleerde informatie op voor een specifiek bedrijf op basis van KvK-nummer.  <br /></td></tr>
<tr class="separator:a13e0a19b0f5fd0c4ee11dfb629c82422"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc7539919c05c9fcf7f2e65f0c4e577e" id="r_afc7539919c05c9fcf7f2e65f0c4e577e"><td class="memItemLeft" align="right" valign="top">int string <a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc7539919c05c9fcf7f2e65f0c4e577e">BusinessAccepted</a> (int kvk)</td></tr>
<tr class="separator:afc7539919c05c9fcf7f2e65f0c4e577e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b671ebc7876d85b2f35d27b1aa342c8" id="r_a6b671ebc7876d85b2f35d27b1aa342c8"><td class="memItemLeft" align="right" valign="top">int string <a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6b671ebc7876d85b2f35d27b1aa342c8">BusinessDenied</a> (int kvk)</td></tr>
<tr class="separator:a6b671ebc7876d85b2f35d27b1aa342c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af940022c1370ccec5226130d62a84909" id="r_af940022c1370ccec5226130d62a84909"><td class="memItemLeft" align="right" valign="top">bool string Dictionary&lt; string, object &gt; Data&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af940022c1370ccec5226130d62a84909">GetBusinessInfo</a> (int kvk)</td></tr>
<tr class="separator:af940022c1370ccec5226130d62a84909"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fb507adc7d923ddf79f854500e87174" id="r_a9fb507adc7d923ddf79f854500e87174"><td class="memItemLeft" align="right" valign="top">int string int KvK&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9fb507adc7d923ddf79f854500e87174">GetKvK</a> (int vehicleManagerId)</td></tr>
<tr class="separator:a9fb507adc7d923ddf79f854500e87174"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a77f5f796d861d02e9a3fb43ba9fb5310" id="r_a77f5f796d861d02e9a3fb43ba9fb5310"><td class="memItemLeft" align="right" valign="top">int string Dictionary&lt; string, object &gt; Data&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a77f5f796d861d02e9a3fb43ba9fb5310">GetAbonnementType</a> (int abonnementId)</td></tr>
<tr class="separator:a77f5f796d861d02e9a3fb43ba9fb5310"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c9b7c9837a5d38bab25669c747e1158" id="r_a6c9b7c9837a5d38bab25669c747e1158"><td class="memItemLeft" align="right" valign="top">int string Dictionary&lt; string, object &gt; Data&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6c9b7c9837a5d38bab25669c747e1158">GetVehicleManagerInfo</a> (int id)</td></tr>
<tr class="separator:a6c9b7c9837a5d38bab25669c747e1158"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72d165d68c372f1a658dbfac85205571" id="r_a72d165d68c372f1a658dbfac85205571"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, string message)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72d165d68c372f1a658dbfac85205571">AddIntakeAsync</a> (string damage, int frameNrVehicle, string reviewedBy, DateTime date, int contract, bool isDamaged)</td></tr>
<tr class="memdesc:a72d165d68c372f1a658dbfac85205571"><td class="mdescLeft">&#160;</td><td class="mdescRight">Er wordt een query aangemaakt met de meegegeven gegevens voor de inname. Nadat de query volledig is, wordt deze uitgevoerd. IDs wordt automatisch toegepast op de inname.  <br /></td></tr>
<tr class="separator:a72d165d68c372f1a658dbfac85205571"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributen</h2></td></tr>
<tr class="memitem:a338711ff3ec2298bedce98a6ff8e7ccf" id="r_a338711ff3ec2298bedce98a6ff8e7ccf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a338711ff3ec2298bedce98a6ff8e7ccf">StatusCode</a></td></tr>
<tr class="memdesc:a338711ff3ec2298bedce98a6ff8e7ccf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Haalt KvK-nummers op van bedrijven die gedeactiveerd zijn.  <br /></td></tr>
<tr class="separator:a338711ff3ec2298bedce98a6ff8e7ccf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adab59ce6c70f1f4a0aa83b123c1ba87c" id="r_adab59ce6c70f1f4a0aa83b123c1ba87c"><td class="memItemLeft" align="right" valign="top">int string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a></td></tr>
<tr class="separator:adab59ce6c70f1f4a0aa83b123c1ba87c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1a2bd5a32f6a090ed613042a2609ce" id="r_a9f1a2bd5a32f6a090ed613042a2609ce"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9f1a2bd5a32f6a090ed613042a2609ce">Status</a></td></tr>
<tr class="memdesc:a9f1a2bd5a32f6a090ed613042a2609ce"><td class="mdescLeft">&#160;</td><td class="mdescRight">Haalt gedetailleerde informatie op van een bedrijf op basis van het KvK-nummer.  <br /></td></tr>
<tr class="separator:a9f1a2bd5a32f6a090ed613042a2609ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a508766a15ce8827ee48fd748f1207a62" id="r_a508766a15ce8827ee48fd748f1207a62"><td class="memItemLeft" align="right" valign="top">bool string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a508766a15ce8827ee48fd748f1207a62">Message</a></td></tr>
<tr class="separator:a508766a15ce8827ee48fd748f1207a62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository"><td colspan="2" onclick="javascript:dynsection.toggleInherit('pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository')"><img src="../../closed.png" alt="-"/>&#160;Public Attributen overgeërfd van <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html">WPR.Repository.IEmployeeRepository</a></td></tr>
<tr class="memitem:acc8ce296de6de33747e04321b95382d3 inherit pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository" id="r_acc8ce296de6de33747e04321b95382d3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#acc8ce296de6de33747e04321b95382d3">StatusCode</a></td></tr>
<tr class="separator:acc8ce296de6de33747e04321b95382d3 inherit pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80719ba7cd30b3a9a6c4a44135f3b0a0 inherit pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository" id="r_a80719ba7cd30b3a9a6c4a44135f3b0a0"><td class="memItemLeft" align="right" valign="top">int string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a80719ba7cd30b3a9a6c4a44135f3b0a0">Message</a></td></tr>
<tr class="separator:a80719ba7cd30b3a9a6c4a44135f3b0a0 inherit pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81eace956ba93bd3890c69d1acc6fbf inherit pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository" id="r_ae81eace956ba93bd3890c69d1acc6fbf"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#ae81eace956ba93bd3890c69d1acc6fbf">Status</a></td></tr>
<tr class="separator:ae81eace956ba93bd3890c69d1acc6fbf inherit pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d584d582098b3c2695a5d2a66a142c inherit pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository" id="r_af1d584d582098b3c2695a5d2a66a142c"><td class="memItemLeft" align="right" valign="top">bool string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#af1d584d582098b3c2695a5d2a66a142c">Message</a></td></tr>
<tr class="separator:af1d584d582098b3c2695a5d2a66a142c inherit pub_attribs_interface_w_p_r_1_1_repository_1_1_i_employee_repository"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Members</h2></td></tr>
<tr class="memitem:a11609b7e63c2bdcac11e68ab2366a7ee" id="r_a11609b7e63c2bdcac11e68ab2366a7ee"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, Dictionary&lt; string, object &gt; data)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a11609b7e63c2bdcac11e68ab2366a7ee">GetUserDataAsync</a> (string userid)</td></tr>
<tr class="memdesc:a11609b7e63c2bdcac11e68ab2366a7ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">De voornaam, achternaam, adres, emailadres en telefoonnummer wordt uit de UserCustomer tabel gehaald, om deze te laten tonen bij de huuraanvragen. De gegevens van de klant worden verzameld doormiddel van hun id.  <br /></td></tr>
<tr class="separator:a11609b7e63c2bdcac11e68ab2366a7ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac7d1cc932c1b01e234c61d639995c8e9" id="r_ac7d1cc932c1b01e234c61d639995c8e9"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool status, Dictionary&lt; string, object &gt; data)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac7d1cc932c1b01e234c61d639995c8e9">GetVehicleData</a> (string carId)</td></tr>
<tr class="memdesc:ac7d1cc932c1b01e234c61d639995c8e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Het voertuigmerk, type en nummerbord worden uit de tabel Vehicle getrokken, doormiddel van hun frame nummer.  <br /></td></tr>
<tr class="separator:ac7d1cc932c1b01e234c61d639995c8e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48fb90dc24973104aaeba999bc2660c2" id="r_a48fb90dc24973104aaeba999bc2660c2"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a48fb90dc24973104aaeba999bc2660c2">GetKvK</a> (string id)</td></tr>
<tr class="memdesc:a48fb90dc24973104aaeba999bc2660c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Het KvK-nummer van de wagenparkbeheerder wordt opgehaald uit de database en gereturnd.  <br /></td></tr>
<tr class="separator:a48fb90dc24973104aaeba999bc2660c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a570e1bfd6667044c8285466e24511ce2" id="r_a570e1bfd6667044c8285466e24511ce2"><td class="memItemLeft" align="right" valign="top">async Task&lt;(bool <a class="el" href="#a9f1a2bd5a32f6a090ed613042a2609ce">Status</a>, string <a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a570e1bfd6667044c8285466e24511ce2">CheckDomain</a> (string table, string domain)</td></tr>
<tr class="memdesc:a570e1bfd6667044c8285466e24511ce2"><td class="mdescLeft">&#160;</td><td class="mdescRight">CheckDomain bekijkt of het domain niet al in gebruik ik in de tabel Customer en in de tabel Business.  <br /></td></tr>
<tr class="separator:a570e1bfd6667044c8285466e24511ce2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributen</h2></td></tr>
<tr class="memitem:ab129d9d8c4019d96901373fa24e087dc" id="r_ab129d9d8c4019d96901373fa24e087dc"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../d1/dbb/interface_w_p_r_1_1_database_1_1_i_connector.html">IConnector</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ab129d9d8c4019d96901373fa24e087dc">_connector</a></td></tr>
<tr class="separator:ab129d9d8c4019d96901373fa24e087dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa253cb809b619d9cedda8efa6069c1d4" id="r_aa253cb809b619d9cedda8efa6069c1d4"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../df/dd4/class_w_p_r_1_1_hashing_1_1_hash.html">Hash</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa253cb809b619d9cedda8efa6069c1d4">_hash</a></td></tr>
<tr class="separator:aa253cb809b619d9cedda8efa6069c1d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72123503af7c5e0000454034b4d33f3c" id="r_a72123503af7c5e0000454034b4d33f3c"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="../../d6/dd3/class_w_p_r_1_1_services_1_1_email_service.html">EmailService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a72123503af7c5e0000454034b4d33f3c">_emailService</a></td></tr>
<tr class="separator:a72123503af7c5e0000454034b4d33f3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Gedetailleerde Beschrijving</h2>
<div class="textblock"><p>De <a class="el" href="../../d9/d2c/class_w_p_r_1_1_repository_1_1_user_repository.html" title="De UserRepository class geeft de methodes voor de interactie met de database voor gebruiker gerelatee...">UserRepository</a> class geeft de methodes voor de interactie met de database voor gebruiker gerelateerde operaties. Het implementeert de <a class="el" href="../../df/d31/interface_w_p_r_1_1_repository_1_1_i_user_repository.html" title="Interface defining methods voor user gerelateerde database operaties, validatie, user management,...">IUserRepository</a> interface. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentatie</h2>
<a id="a2e794d8cfcf157bb7e55ffe4919a6115" name="a2e794d8cfcf157bb7e55ffe4919a6115"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e794d8cfcf157bb7e55ffe4919a6115">&#9670;&#160;</a></span>EmployeeRepository()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">WPR.Repository.EmployeeRepository.EmployeeRepository </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d1/dbb/interface_w_p_r_1_1_database_1_1_i_connector.html">IConnector</a></td>          <td class="paramname"><span class="paramname"><em>connector</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/dd4/class_w_p_r_1_1_hashing_1_1_hash.html">Hash</a></td>          <td class="paramname"><span class="paramname"><em>hash</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dd3/class_w_p_r_1_1_services_1_1_email_service.html">EmailService</a></td>          <td class="paramname"><span class="paramname"><em>emailService</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   21</span>    {</div>
<div class="line"><span class="lineno">   22</span>        _connector = connector ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(connector));</div>
<div class="line"><span class="lineno">   23</span>        _hash = hash ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof (hash));</div>
<div class="line"><span class="lineno">   24</span>        _emailService = emailService ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof (emailService));</div>
<div class="line"><span class="lineno">   25</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00018">_emailService</a> en <a class="el" href="#l00017">_hash</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentatie van functie members</h2>
<a id="a42271b52a537da924efab8ddcb2c78ad" name="a42271b52a537da924efab8ddcb2c78ad"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42271b52a537da924efab8ddcb2c78ad">&#9670;&#160;</a></span>AddBusiness()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.EmployeeRepository.AddBusiness </td>
          <td>(</td>
          <td class="paramtype">AddBusinessRequest</td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Maakt een connectie met de database door middel van de connector en de query. De gegevens worden uit de AddBusinessRequest getrokken en verwerkt in de query. De query wordt uitgevoerd en checkt of deze ook succesvol is uitgevoerd. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td></td></tr>
    <tr><td class="paramname">domain</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a8714d2ae38ddec5ef28b45a2d1b89236">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  612</span>    {</div>
<div class="line"><span class="lineno">  613</span>        var customer = CheckDomain(<span class="stringliteral">&quot;Customer&quot;</span>, request.Domain);</div>
<div class="line"><span class="lineno">  614</span>        var business = CheckDomain(<span class="stringliteral">&quot;Business&quot;</span>, request.Domain);</div>
<div class="line"><span class="lineno">  615</span> </div>
<div class="line"><span class="lineno">  616</span>        await Task.WhenAll(customer, business);</div>
<div class="line"><span class="lineno">  617</span>        <span class="keywordflow">if</span> (customer.Result.Status &amp;&amp; business.Result.Status)</div>
<div class="line"><span class="lineno">  618</span>        {</div>
<div class="line"><span class="lineno">  619</span>            <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  620</span>            {</div>
<div class="line"><span class="lineno">  621</span>                <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;INSERT INTO Business (KvK, BusinessName, Adres, Domain, ContactEmail, Abonnement) VALUES (@K, @B, @A, @D, @C,@Ab)&quot;</span>;</div>
<div class="line"><span class="lineno">  622</span> </div>
<div class="line"><span class="lineno">  623</span>                <span class="comment">// Er wordt een connectie met de database gemaakt</span></div>
<div class="line"><span class="lineno">  624</span>                <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  625</span>                <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  626</span>                {</div>
<div class="line"><span class="lineno">  627</span>                    <span class="comment">// Parameters van de query worden ingevuld</span></div>
<div class="line"><span class="lineno">  628</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@K&quot;</span>, request.KvK);</div>
<div class="line"><span class="lineno">  629</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@B&quot;</span>, request.Name);</div>
<div class="line"><span class="lineno">  630</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@A&quot;</span>, request.Adress);</div>
<div class="line"><span class="lineno">  631</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@D&quot;</span>, request.Domain);</div>
<div class="line"><span class="lineno">  632</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@C&quot;</span>, request.ContactEmail);</div>
<div class="line"><span class="lineno">  633</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@Ab&quot;</span>, request.Subscription);</div>
<div class="line"><span class="lineno">  634</span> </div>
<div class="line"><span class="lineno">  635</span> </div>
<div class="line"><span class="lineno">  636</span>                    <span class="comment">// Er wordt gekeken of de query succesvol is uitgevoerd</span></div>
<div class="line"><span class="lineno">  637</span>                    <span class="keywordflow">if</span> (command.ExecuteNonQuery() &gt; 0)</div>
<div class="line"><span class="lineno">  638</span>                    {</div>
<div class="line"><span class="lineno">  639</span>                        await _emailService.SendConfirmationEmailBusiness(request.ContactEmail, request.Subscription, request.Name, request.KvK, request.Domain, request.Adress);</div>
<div class="line"><span class="lineno">  640</span>                        <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Succesfull added business&quot;</span>);</div>
<div class="line"><span class="lineno">  641</span>                    }</div>
<div class="line"><span class="lineno">  642</span>                    <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Error occured adding business&quot;</span>);</div>
<div class="line"><span class="lineno">  643</span>                }</div>
<div class="line"><span class="lineno">  644</span>            }</div>
<div class="line"><span class="lineno">  645</span>            <span class="keywordflow">catch</span>(MySqlException ex)</div>
<div class="line"><span class="lineno">  646</span>            {</div>
<div class="line"><span class="lineno">  647</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  648</span>            }</div>
<div class="line"><span class="lineno">  649</span>            <span class="keywordflow">catch</span>(Exception ex)</div>
<div class="line"><span class="lineno">  650</span>            {</div>
<div class="line"><span class="lineno">  651</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  652</span>            }</div>
<div class="line"><span class="lineno">  653</span>        }</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>        <span class="keywordflow">return</span> (<span class="keyword">false</span>, $<span class="stringliteral">&quot;Domain Detected&quot;</span>);</div>
<div class="line"><span class="lineno">  656</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00018">_emailService</a>, <a class="el" href="#l00008">WPR.Controllers.Customer.AddBusiness.AddBusinessRequest()</a> en <a class="el" href="#l00556">CheckDomain()</a>.</p>
<div class="dynheader">
Hier is de call graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a42271b52a537da924efab8ddcb2c78ad_cgraph.png" border="0" usemap="#ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a42271b52a537da924efab8ddcb2c78ad_cgraph" alt=""/></div>
<map name="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a42271b52a537da924efab8ddcb2c78ad_cgraph" id="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a42271b52a537da924efab8ddcb2c78ad_cgraph">
<area shape="rect" title="Maakt een connectie met de database door middel van de connector en de query. De gegevens worden uit ..." alt="" coords="5,63,253,105"/>
<area shape="rect" href="../../d5/d0c/namespace_w_p_r_1_1_controllers_1_1_customer_1_1_add_business.html#af184e38969a148e23ef1fe5429a74898" title="Body voor het toevoegen van een bedrijf." alt="" coords="310,29,538,72"/>
<area shape="poly" title=" " alt="" coords="253,67,295,63,295,68,253,73"/>
<area shape="rect" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html#a570e1bfd6667044c8285466e24511ce2" title="CheckDomain bekijkt of het domain niet al in gebruik ik in de tabel Customer en in de tabel Business." alt="" coords="301,96,548,139"/>
<area shape="poly" title=" " alt="" coords="253,95,285,99,285,104,253,101"/>
<area shape="poly" title=" " alt="" coords="369,29,367,19,376,10,395,5,424,3,456,5,475,11,473,16,455,10,424,8,396,10,379,15,372,21,374,28"/>
</map>
</div>

</div>
</div>
<a id="a72d165d68c372f1a658dbfac85205571" name="a72d165d68c372f1a658dbfac85205571"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72d165d68c372f1a658dbfac85205571">&#9670;&#160;</a></span>AddIntakeAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.EmployeeRepository.AddIntakeAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>damage</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>frameNrVehicle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>reviewedBy</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DateTime</td>          <td class="paramname"><span class="paramname"><em>date</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>contract</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool</td>          <td class="paramname"><span class="paramname"><em>isDamaged</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Er wordt een query aangemaakt met de meegegeven gegevens voor de inname. Nadat de query volledig is, wordt deze uitgevoerd. IDs wordt automatisch toegepast op de inname. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">damage</td><td></td></tr>
    <tr><td class="paramname">frameNrVehicle</td><td></td></tr>
    <tr><td class="paramname">reviewedBy</td><td></td></tr>
    <tr><td class="paramname">date</td><td></td></tr>
    <tr><td class="paramname">contract</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a287f86771206d66b45423b6f354b1c60">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno"> 1024</span>    {</div>
<div class="line"><span class="lineno"> 1025</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno"> 1026</span>        {</div>
<div class="line"><span class="lineno"> 1027</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;INSERT INTO Intake (Damage, FrameNrVehicle, ReviewedBy, Date, Contract, IsDamaged) VALUES (@D, @F, @R, @DT, @C, @isD)&quot;</span>;</div>
<div class="line"><span class="lineno"> 1028</span> </div>
<div class="line"><span class="lineno"> 1029</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno"> 1030</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno"> 1031</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno"> 1032</span>            {</div>
<div class="line"><span class="lineno"> 1033</span>                <span class="comment">// Alle parameters worden ingevuld</span></div>
<div class="line"><span class="lineno"> 1034</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@D&quot;</span>, damage);</div>
<div class="line"><span class="lineno"> 1035</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@F&quot;</span>, frameNrVehicle);</div>
<div class="line"><span class="lineno"> 1036</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@R&quot;</span>, reviewedBy);</div>
<div class="line"><span class="lineno"> 1037</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@DT&quot;</span>, date);</div>
<div class="line"><span class="lineno"> 1038</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@C&quot;</span>, contract);</div>
<div class="line"><span class="lineno"> 1039</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@isD&quot;</span>, isDamaged);</div>
<div class="line"><span class="lineno"> 1040</span> </div>
<div class="line"><span class="lineno"> 1041</span>                <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno"> 1042</span>                {</div>
<div class="line"><span class="lineno"> 1043</span>                    <span class="comment">// Er wordt gekeken of de gegevens zijn ingevoerd in de DataBase</span></div>
<div class="line"><span class="lineno"> 1044</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Intake inserted&quot;</span>);</div>
<div class="line"><span class="lineno"> 1045</span>                }</div>
<div class="line"><span class="lineno"> 1046</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Something went wrong while inserting the intake&quot;</span>);</div>
<div class="line"><span class="lineno"> 1047</span>            }</div>
<div class="line"><span class="lineno"> 1048</span>        }</div>
<div class="line"><span class="lineno"> 1049</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno"> 1050</span>        {</div>
<div class="line"><span class="lineno"> 1051</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno"> 1052</span>        }</div>
<div class="line"><span class="lineno"> 1053</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>.</p>

</div>
</div>
<a id="ad2ef5ed22a8e48ce548cd8ba708461ff" name="ad2ef5ed22a8e48ce548cd8ba708461ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2ef5ed22a8e48ce548cd8ba708461ff">&#9670;&#160;</a></span>AddStaff()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.EmployeeRepository.AddStaff </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html">SignUpStaffRequest</a></td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Er kunnen medewerkers toegevoegd worden aan het systeem. Als er in de meegegeven data naar voren komt dat een er wagenparkbeheerder toegevoegd wordt, wordt daarvoor een aparte query gemaakt. Als er in de meegegeven data naar voren komt dat er een Car and All medewerker toegevoegd wordt, wordt daarvoor een aparte query gemaakt. De mee gegeven gegvens worden in de query geïmplementeerd en vervolgens uitgevoerd. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">personData</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#aab15df171933be18e2c69a69c2df05b9">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>    {</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">   90</span>        {</div>
<div class="line"><span class="lineno">   91</span>            <span class="comment">// Er wordt een specifieke query aangewezen tussen VehicleManagers en Offices</span></div>
<div class="line"><span class="lineno">   92</span>            <span class="keywordtype">string</span> query;</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordflow">if</span> (request.<a class="code hl_property" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a4841be783823f0d665c6093dc0e21ed9">Job</a>.Equals(<span class="stringliteral">&quot;Wagen&quot;</span>))</div>
<div class="line"><span class="lineno">   95</span>            {</div>
<div class="line"><span class="lineno">   96</span>                query = <span class="stringliteral">&quot;INSERT INTO VehicleManager (FirstName, LastName, Password, Email, Business) VALUES (@F, @L, @P, @E, @B)&quot;</span>;</div>
<div class="line"><span class="lineno">   97</span>            }</div>
<div class="line"><span class="lineno">   98</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">   99</span>            {</div>
<div class="line"><span class="lineno">  100</span>                query = <span class="stringliteral">&quot;INSERT INTO Staff (FirstName, LastName, Password, Email, Office) VALUES (@F, @L, @P, @E, @O)&quot;</span>;</div>
<div class="line"><span class="lineno">  101</span>            }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  104</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  105</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  106</span>            {</div>
<div class="line"><span class="lineno">  107</span>                <span class="comment">// Alle parameters worden ingevuld</span></div>
<div class="line"><span class="lineno">  108</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@F&quot;</span>, request.<a class="code hl_property" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#acf9435ac82b754a301e41936c68c46ba">FirstName</a>);</div>
<div class="line"><span class="lineno">  109</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@L&quot;</span>, request.<a class="code hl_property" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a14bcfbf343ea89322f703ccc5802807e">LastName</a>);</div>
<div class="line"><span class="lineno">  110</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@P&quot;</span>, _hash.createHash(request.<a class="code hl_property" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a2c531883cb3b57f0b63aa7b017dbff9e">Password</a>));</div>
<div class="line"><span class="lineno">  111</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@E&quot;</span>, request.<a class="code hl_property" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a15828877254c53ba4c1370fad9141705">Email</a>);</div>
<div class="line"><span class="lineno">  112</span> </div>
<div class="line"><span class="lineno">  113</span>                <span class="keywordflow">if</span> (request.<a class="code hl_property" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a4841be783823f0d665c6093dc0e21ed9">Job</a>.Equals(<span class="stringliteral">&quot;Wagen&quot;</span>))</div>
<div class="line"><span class="lineno">  114</span>                {</div>
<div class="line"><span class="lineno">  115</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@B&quot;</span>, request.<a class="code hl_property" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#ad6be0568bb000689ef903a67de3f5390">KvK</a>);</div>
<div class="line"><span class="lineno">  116</span>                }</div>
<div class="line"><span class="lineno">  117</span>                <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  118</span>                {</div>
<div class="line"><span class="lineno">  119</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@O&quot;</span>, request.<a class="code hl_property" href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a4841be783823f0d665c6093dc0e21ed9">Job</a>);</div>
<div class="line"><span class="lineno">  120</span>                }</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span>                <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno">  123</span>                    {</div>
<div class="line"><span class="lineno">  124</span>                        <span class="comment">// Er wordt gekeken of de gegevens zijn ingevoerd in de DataBase</span></div>
<div class="line"><span class="lineno">  125</span>                        <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Data inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  126</span>                    }</div>
<div class="line"><span class="lineno">  127</span>                    </div>
<div class="line"><span class="lineno">  128</span>                    <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Data not inserted&quot;</span>);</div>
<div class="line"><span class="lineno">  129</span>            }</div>
<div class="line"><span class="lineno">  130</span>        }</div>
<div class="line"><span class="lineno">  131</span>        <span class="keywordflow">catch</span>(MySqlException ex)</div>
<div class="line"><span class="lineno">  132</span>        {</div>
<div class="line"><span class="lineno">  133</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  134</span>        }</div>
<div class="line"><span class="lineno">  135</span>    }</div>
<div class="ttc" id="aclass_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request_html_a14bcfbf343ea89322f703ccc5802807e"><div class="ttname"><a href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a14bcfbf343ea89322f703ccc5802807e">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.LastName</a></div><div class="ttdeci">string? LastName</div><div class="ttdef"><b>Definitie</b> signUpRequest.cs:11</div></div>
<div class="ttc" id="aclass_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request_html_a15828877254c53ba4c1370fad9141705"><div class="ttname"><a href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a15828877254c53ba4c1370fad9141705">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.Email</a></div><div class="ttdeci">string? Email</div><div class="ttdef"><b>Definitie</b> signUpRequest.cs:8</div></div>
<div class="ttc" id="aclass_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request_html_a2c531883cb3b57f0b63aa7b017dbff9e"><div class="ttname"><a href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a2c531883cb3b57f0b63aa7b017dbff9e">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.Password</a></div><div class="ttdeci">string? Password</div><div class="ttdef"><b>Definitie</b> signUpRequest.cs:9</div></div>
<div class="ttc" id="aclass_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request_html_a4841be783823f0d665c6093dc0e21ed9"><div class="ttname"><a href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#a4841be783823f0d665c6093dc0e21ed9">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.Job</a></div><div class="ttdeci">string? Job</div><div class="ttdef"><b>Definitie</b> signUpRequest.cs:12</div></div>
<div class="ttc" id="aclass_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request_html_acf9435ac82b754a301e41936c68c46ba"><div class="ttname"><a href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#acf9435ac82b754a301e41936c68c46ba">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.FirstName</a></div><div class="ttdeci">string? FirstName</div><div class="ttdef"><b>Definitie</b> signUpRequest.cs:10</div></div>
<div class="ttc" id="aclass_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request_html_ad6be0568bb000689ef903a67de3f5390"><div class="ttname"><a href="../../da/d94/class_w_p_r_1_1_controllers_1_1_employee_1_1_back_office_1_1sign_up_staff_1_1_sign_up_staff_request.html#ad6be0568bb000689ef903a67de3f5390">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.KvK</a></div><div class="ttdeci">int? KvK</div><div class="ttdef"><b>Definitie</b> signUpRequest.cs:13</div></div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00017">_hash</a>, <a class="el" href="#l00008">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.Email</a>, <a class="el" href="#l00010">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.FirstName</a>, <a class="el" href="#l00012">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.Job</a>, <a class="el" href="#l00013">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.KvK</a>, <a class="el" href="#l00011">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.LastName</a> en <a class="el" href="#l00009">WPR.Controllers.Employee.BackOffice.signUpStaff.SignUpStaffRequest.Password</a>.</p>

</div>
</div>
<a id="a1b6d81667b6e8ca4c12227a11b7a5e59" name="a1b6d81667b6e8ca4c12227a11b7a5e59"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b6d81667b6e8ca4c12227a11b7a5e59">&#9670;&#160;</a></span>AddVehicleAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.EmployeeRepository.AddVehicleAsync </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>yop</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>brand</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>type</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>licensePlate</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>color</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>sort</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>price</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>description</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte[]</td>          <td class="paramname"><span class="paramname"><em>vehicleBlob</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>places</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Er wordt een query aangemaakt met de meegegeven gegevens voor een voertuig. Nadat de query volledig is, wordt deze uitgevoerd. Frame nummers worden automatisch toegepast op het voertuig. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">yop</td><td></td></tr>
    <tr><td class="paramname">brand</td><td></td></tr>
    <tr><td class="paramname">type</td><td></td></tr>
    <tr><td class="paramname">licensePlate</td><td></td></tr>
    <tr><td class="paramname">color</td><td></td></tr>
    <tr><td class="paramname">sort</td><td></td></tr>
    <tr><td class="paramname">price</td><td></td></tr>
    <tr><td class="paramname">description</td><td></td></tr>
    <tr><td class="paramname">vehicleBlob</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a47a952a8dbaee258c438a989f6704e85">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>    {</div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">   46</span>        {</div>
<div class="line"><span class="lineno">   47</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;INSERT INTO Vehicle (YoP, Brand, Type, LicensePlate, Color, Sort, Price, Description, Vehicleblob, Seats) VALUES (@Y, @B, @T, @L, @C, @S, @P, @D, @V, @SE)&quot;</span>;</div>
<div class="line"><span class="lineno">   48</span> </div>
<div class="line"><span class="lineno">   49</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">   50</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">   51</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">   52</span>            {</div>
<div class="line"><span class="lineno">   53</span>                <span class="comment">// Alle parameters worden ingevuld</span></div>
<div class="line"><span class="lineno">   54</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@Y&quot;</span>, yop);</div>
<div class="line"><span class="lineno">   55</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@B&quot;</span>, brand);</div>
<div class="line"><span class="lineno">   56</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@T&quot;</span>, type);</div>
<div class="line"><span class="lineno">   57</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@L&quot;</span>, licensePlate);</div>
<div class="line"><span class="lineno">   58</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@C&quot;</span>, color);</div>
<div class="line"><span class="lineno">   59</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@S&quot;</span>, sort);</div>
<div class="line"><span class="lineno">   60</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@P&quot;</span>, price);</div>
<div class="line"><span class="lineno">   61</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@D&quot;</span>, description);</div>
<div class="line"><span class="lineno">   62</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@V&quot;</span>, vehicleBlob);</div>
<div class="line"><span class="lineno">   63</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@SE&quot;</span>, places);</div>
<div class="line"><span class="lineno">   64</span> </div>
<div class="line"><span class="lineno">   65</span>                <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno">   66</span>                {</div>
<div class="line"><span class="lineno">   67</span>                    <span class="comment">// Er wordt gekeken of de gegevens zijn ingevoerd in de DataBase</span></div>
<div class="line"><span class="lineno">   68</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Vehicle inserted&quot;</span>);</div>
<div class="line"><span class="lineno">   69</span>                }</div>
<div class="line"><span class="lineno">   70</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Something went wrong while inserting the vehicle&quot;</span>);</div>
<div class="line"><span class="lineno">   71</span>            }</div>
<div class="line"><span class="lineno">   72</span>        }</div>
<div class="line"><span class="lineno">   73</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">   74</span>        {</div>
<div class="line"><span class="lineno">   75</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">   76</span>        }</div>
<div class="line"><span class="lineno">   77</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>.</p>

</div>
</div>
<a id="afc7539919c05c9fcf7f2e65f0c4e577e" name="afc7539919c05c9fcf7f2e65f0c4e577e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc7539919c05c9fcf7f2e65f0c4e577e">&#9670;&#160;</a></span>BusinessAccepted()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string <a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a> WPR.Repository.EmployeeRepository.BusinessAccepted </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kvk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a337ec931daad30f5c67c6d24ea894ccf">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  754</span>{</div>
<div class="line"><span class="lineno">  755</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  756</span>    {</div>
<div class="line"><span class="lineno">  757</span>        <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;UPDATE Business SET Activated = &#39;Active&#39; WHERE KvK = @K&quot;</span>;</div>
<div class="line"><span class="lineno">  758</span> </div>
<div class="line"><span class="lineno">  759</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  760</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  761</span>        {</div>
<div class="line"><span class="lineno">  762</span>            command.Parameters.AddWithValue(<span class="stringliteral">&quot;@K&quot;</span>, kvk);</div>
<div class="line"><span class="lineno">  763</span> </div>
<div class="line"><span class="lineno">  764</span>            <span class="comment">// Voert de update uit en controleert of het succesvol was</span></div>
<div class="line"><span class="lineno">  765</span>            <span class="keywordflow">if</span> (command.ExecuteNonQuery() &gt; 0)</div>
<div class="line"><span class="lineno">  766</span>            {</div>
<div class="line"><span class="lineno">  767</span>                <span class="keywordflow">return</span> (200, <span class="stringliteral">&quot;Succes&quot;</span>);</div>
<div class="line"><span class="lineno">  768</span>            }</div>
<div class="line"><span class="lineno">  769</span>            <span class="keywordflow">return</span> (500, <span class="stringliteral">&quot;Error Occured&quot;</span>);</div>
<div class="line"><span class="lineno">  770</span>        }</div>
<div class="line"><span class="lineno">  771</span>    }</div>
<div class="line"><span class="lineno">  772</span>    <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  773</span>    {</div>
<div class="line"><span class="lineno">  774</span>        <span class="keywordflow">return</span> (500, ex.Message);</div>
<div class="line"><span class="lineno">  775</span>    }</div>
<div class="line"><span class="lineno">  776</span>    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  777</span>    {</div>
<div class="line"><span class="lineno">  778</span>        <span class="keywordflow">return</span> (500, ex.Message);</div>
<div class="line"><span class="lineno">  779</span>    }</div>
<div class="line"><span class="lineno">  780</span>}</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00664">Message</a> en <a class="el" href="#l00664">StatusCode</a>.</p>

</div>
</div>
<a id="a6b671ebc7876d85b2f35d27b1aa342c8" name="a6b671ebc7876d85b2f35d27b1aa342c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6b671ebc7876d85b2f35d27b1aa342c8">&#9670;&#160;</a></span>BusinessDenied()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string <a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a> WPR.Repository.EmployeeRepository.BusinessDenied </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kvk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a12ac6420a6988c971c94d5902b01c15a">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  790</span>{</div>
<div class="line"><span class="lineno">  791</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  792</span>    {</div>
<div class="line"><span class="lineno">  793</span>        <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;DELETE FROM Business WHERE KvK = @K&quot;</span>;</div>
<div class="line"><span class="lineno">  794</span> </div>
<div class="line"><span class="lineno">  795</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  796</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  797</span>        {</div>
<div class="line"><span class="lineno">  798</span>            command.Parameters.AddWithValue(<span class="stringliteral">&quot;@K&quot;</span>, kvk);</div>
<div class="line"><span class="lineno">  799</span> </div>
<div class="line"><span class="lineno">  800</span>            <span class="comment">// Voert de delete-operatie uit en controleert of het succesvol was</span></div>
<div class="line"><span class="lineno">  801</span>            <span class="keywordflow">if</span> (command.ExecuteNonQuery() &gt; 0)</div>
<div class="line"><span class="lineno">  802</span>            {</div>
<div class="line"><span class="lineno">  803</span>                <span class="keywordflow">return</span> (200, <span class="stringliteral">&quot;Succes&quot;</span>);</div>
<div class="line"><span class="lineno">  804</span>            }</div>
<div class="line"><span class="lineno">  805</span>            <span class="keywordflow">return</span> (500, <span class="stringliteral">&quot;Error Occured&quot;</span>);</div>
<div class="line"><span class="lineno">  806</span>        }</div>
<div class="line"><span class="lineno">  807</span>    }</div>
<div class="line"><span class="lineno">  808</span>    <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  809</span>    {</div>
<div class="line"><span class="lineno">  810</span>        <span class="keywordflow">return</span> (500, ex.Message);</div>
<div class="line"><span class="lineno">  811</span>    }</div>
<div class="line"><span class="lineno">  812</span>    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  813</span>    {</div>
<div class="line"><span class="lineno">  814</span>        <span class="keywordflow">return</span> (500, ex.Message);</div>
<div class="line"><span class="lineno">  815</span>    }</div>
<div class="line"><span class="lineno">  816</span>}</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00664">Message</a> en <a class="el" href="#l00664">StatusCode</a>.</p>

</div>
</div>
<a id="a570e1bfd6667044c8285466e24511ce2" name="a570e1bfd6667044c8285466e24511ce2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a570e1bfd6667044c8285466e24511ce2">&#9670;&#160;</a></span>CheckDomain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool <a class="el" href="#a9f1a2bd5a32f6a090ed613042a2609ce">Status</a>, string <a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a>)&gt; WPR.Repository.EmployeeRepository.CheckDomain </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>table</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>domain</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>CheckDomain bekijkt of het domain niet al in gebruik ik in de tabel Customer en in de tabel Business. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td></td></tr>
    <tr><td class="paramname">domain</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  557</span>    {</div>
<div class="line"><span class="lineno">  558</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  559</span>        {</div>
<div class="line"><span class="lineno">  560</span>            <span class="keywordtype">string</span> query;</div>
<div class="line"><span class="lineno">  561</span> </div>
<div class="line"><span class="lineno">  562</span>            <span class="keywordflow">if</span> (table.Equals(<span class="stringliteral">&quot;Customer&quot;</span>))</div>
<div class="line"><span class="lineno">  563</span>            {</div>
<div class="line"><span class="lineno">  564</span>                query = <span class="stringliteral">&quot;SELECT Email FROM Customer&quot;</span>;</div>
<div class="line"><span class="lineno">  565</span>            }</div>
<div class="line"><span class="lineno">  566</span>            <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  567</span>            {</div>
<div class="line"><span class="lineno">  568</span>                query = <span class="stringliteral">&quot;SELECT Domain FROM Business&quot;</span>;</div>
<div class="line"><span class="lineno">  569</span>            }   </div>
<div class="line"><span class="lineno">  570</span> </div>
<div class="line"><span class="lineno">  571</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  572</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  573</span>            <span class="keyword">using</span> (var reader = await command.ExecuteReaderAsync())</div>
<div class="line"><span class="lineno">  574</span>            {</div>
<div class="line"><span class="lineno">  575</span>                <span class="keywordtype">bool</span> domainFound = <span class="keyword">false</span>;</div>
<div class="line"><span class="lineno">  576</span>                <span class="keywordflow">while</span> (await reader.ReadAsync())</div>
<div class="line"><span class="lineno">  577</span>                {</div>
<div class="line"><span class="lineno">  578</span>                    <span class="keywordtype">string</span>[] split = reader.GetValue(0).ToString().Split(<span class="stringliteral">&quot;@&quot;</span>);</div>
<div class="line"><span class="lineno">  579</span>                    <span class="keywordflow">if</span> (split[1].ToLower().Equals(domain[1..]))</div>
<div class="line"><span class="lineno">  580</span>                    {</div>
<div class="line"><span class="lineno">  581</span>                        domainFound = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">  582</span>                        <span class="keywordflow">break</span>;</div>
<div class="line"><span class="lineno">  583</span>                    }</div>
<div class="line"><span class="lineno">  584</span>                }</div>
<div class="line"><span class="lineno">  585</span>                </div>
<div class="line"><span class="lineno">  586</span>                <span class="keywordflow">if</span> (domainFound)</div>
<div class="line"><span class="lineno">  587</span>                {</div>
<div class="line"><span class="lineno">  588</span>                    <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Domain Detected&quot;</span>);</div>
<div class="line"><span class="lineno">  589</span>                }</div>
<div class="line"><span class="lineno">  590</span>                <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Unique Domain&quot;</span>);</div>
<div class="line"><span class="lineno">  591</span>            }</div>
<div class="line"><span class="lineno">  592</span>        }</div>
<div class="line"><span class="lineno">  593</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  594</span>        {</div>
<div class="line"><span class="lineno">  595</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  596</span>        }</div>
<div class="line"><span class="lineno">  597</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  598</span>        {</div>
<div class="line"><span class="lineno">  599</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  600</span>        }</div>
<div class="line"><span class="lineno">  601</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00664">Message</a> en <a class="el" href="#l00825">Status</a>.</p>

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00611">AddBusiness()</a>.</p>
<div class="dynheader">
Hier is de caller graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a570e1bfd6667044c8285466e24511ce2_icgraph.png" border="0" usemap="#ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a570e1bfd6667044c8285466e24511ce2_icgraph" alt=""/></div>
<map name="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a570e1bfd6667044c8285466e24511ce2_icgraph" id="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a570e1bfd6667044c8285466e24511ce2_icgraph">
<area shape="rect" title="CheckDomain bekijkt of het domain niet al in gebruik ik in de tabel Customer en in de tabel Business." alt="" coords="301,5,548,48"/>
<area shape="rect" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html#a42271b52a537da924efab8ddcb2c78ad" title="Maakt een connectie met de database door middel van de connector en de query. De gegevens worden uit ..." alt="" coords="5,5,253,48"/>
<area shape="poly" title=" " alt="" coords="285,29,253,29,253,24,285,24"/>
</map>
</div>

</div>
</div>
<a id="a98ebda3c7db9afd834f0c0667914bba2" name="a98ebda3c7db9afd834f0c0667914bba2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ebda3c7db9afd834f0c0667914bba2">&#9670;&#160;</a></span>checkUsageEmailAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.EmployeeRepository.checkUsageEmailAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>email</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Er wordt query aangemaakt die zoekt in de Staff tabel naar het ingevoerde emailadress, zodat de emailadressen altijd uniek blijven. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">email</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#ab6ee7b313940780128449ebc60f81d9e">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  143</span>    {</div>
<div class="line"><span class="lineno">  144</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  145</span>        {</div>
<div class="line"><span class="lineno">  146</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT COUNT(*) FROM Staff WHERE LOWER(Email) = LOWER(@E)&quot;</span>;</div>
<div class="line"><span class="lineno">  147</span> </div>
<div class="line"><span class="lineno">  148</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  149</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  150</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  151</span>            {</div>
<div class="line"><span class="lineno">  152</span>                <span class="comment">// De paramater wordt ingevuld</span></div>
<div class="line"><span class="lineno">  153</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@E&quot;</span>, email);</div>
<div class="line"><span class="lineno">  154</span>                <span class="keywordtype">bool</span> inUse = Convert.ToInt32(await command.ExecuteScalarAsync()) &gt; 0;</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>                <span class="comment">// Als de uitvoer van de query &gt; 0, dan inUse = true, &quot;Email detected&quot;, anders inUse = false, &quot;No email detected&quot;</span></div>
<div class="line"><span class="lineno">  157</span>                <span class="keywordflow">return</span> (inUse, inUse ? <span class="stringliteral">&quot;Email detected&quot;</span> : <span class="stringliteral">&quot;No email detected&quot;</span>);</div>
<div class="line"><span class="lineno">  158</span>            }</div>
<div class="line"><span class="lineno">  159</span>        }</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  162</span>        {</div>
<div class="line"><span class="lineno">  163</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  164</span>        }</div>
<div class="line"><span class="lineno">  165</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  166</span>        {</div>
<div class="line"><span class="lineno">  167</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  168</span>        }</div>
<div class="line"><span class="lineno">  169</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>.</p>

</div>
</div>
<a id="a5299ddb588f36d87c4274dea48cc63a5" name="a5299ddb588f36d87c4274dea48cc63a5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5299ddb588f36d87c4274dea48cc63a5">&#9670;&#160;</a></span>checkUsageEmaiVehicleManagerlAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.EmployeeRepository.checkUsageEmaiVehicleManagerlAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>email</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a958c66de7c1985c58540d72221741464">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  172</span>    {</div>
<div class="line"><span class="lineno">  173</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  174</span>        {</div>
<div class="line"><span class="lineno">  175</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT COUNT(*) FROM VehicleManager WHERE LOWER(Email) = LOWER(@E)&quot;</span>;</div>
<div class="line"><span class="lineno">  176</span> </div>
<div class="line"><span class="lineno">  177</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  178</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  179</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  180</span>            {</div>
<div class="line"><span class="lineno">  181</span>                <span class="comment">// De paramater wordt ingevuld</span></div>
<div class="line"><span class="lineno">  182</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@E&quot;</span>, email);</div>
<div class="line"><span class="lineno">  183</span>                <span class="keywordtype">bool</span> inUse = Convert.ToInt32(await command.ExecuteScalarAsync()) &gt; 0;</div>
<div class="line"><span class="lineno">  184</span> </div>
<div class="line"><span class="lineno">  185</span>                <span class="comment">// Als de uitvoer van de query &gt; 0, dan inUse = true, &quot;Email detected&quot;, anders inUse = false, &quot;No email detected&quot;</span></div>
<div class="line"><span class="lineno">  186</span>                <span class="keywordflow">return</span> (inUse, inUse ? <span class="stringliteral">&quot;Email detected&quot;</span> : <span class="stringliteral">&quot;No email detected&quot;</span>);</div>
<div class="line"><span class="lineno">  187</span>            }</div>
<div class="line"><span class="lineno">  188</span>        }</div>
<div class="line"><span class="lineno">  189</span> </div>
<div class="line"><span class="lineno">  190</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  191</span>        {</div>
<div class="line"><span class="lineno">  192</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  193</span>        }</div>
<div class="line"><span class="lineno">  194</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  195</span>        {</div>
<div class="line"><span class="lineno">  196</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  197</span>        }</div>
<div class="line"><span class="lineno">  198</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>.</p>

</div>
</div>
<a id="a77f5f796d861d02e9a3fb43ba9fb5310" name="a77f5f796d861d02e9a3fb43ba9fb5310"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a77f5f796d861d02e9a3fb43ba9fb5310">&#9670;&#160;</a></span>GetAbonnementType()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string Dictionary&lt; string, object &gt; Data WPR.Repository.EmployeeRepository.GetAbonnementType </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>abonnementId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a69550e77ed92deda070198fa624a705a">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  922</span>{</div>
<div class="line"><span class="lineno">  923</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  924</span>    {</div>
<div class="line"><span class="lineno">  925</span>        <span class="keywordtype">string</span> query = $<span class="stringliteral">&quot;SELECT * FROM Abonnement WHERE ID = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  926</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  927</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  928</span>        {</div>
<div class="line"><span class="lineno">  929</span>            command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, abonnementId);</div>
<div class="line"><span class="lineno">  930</span> </div>
<div class="line"><span class="lineno">  931</span>            <span class="keyword">using</span> (var reader = command.ExecuteReader())</div>
<div class="line"><span class="lineno">  932</span>            {</div>
<div class="line"><span class="lineno">  933</span>                <span class="keywordflow">if</span> (reader.Read())</div>
<div class="line"><span class="lineno">  934</span>                {</div>
<div class="line"><span class="lineno">  935</span>                    Dictionary&lt;string, object&gt; data = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  936</span> </div>
<div class="line"><span class="lineno">  937</span>                    <span class="comment">// Leest de velden van de database en slaat ze op in de dictionary</span></div>
<div class="line"><span class="lineno">  938</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; reader.FieldCount; i++)</div>
<div class="line"><span class="lineno">  939</span>                    {</div>
<div class="line"><span class="lineno">  940</span>                        <span class="keywordflow">if</span> (!data.ContainsKey(reader.GetName(i)))</div>
<div class="line"><span class="lineno">  941</span>                        {</div>
<div class="line"><span class="lineno">  942</span>                            data[reader.GetName(i)] = reader.GetValue(i);</div>
<div class="line"><span class="lineno">  943</span>                        }</div>
<div class="line"><span class="lineno">  944</span>                    }</div>
<div class="line"><span class="lineno">  945</span> </div>
<div class="line"><span class="lineno">  946</span>                    <span class="keywordflow">return</span> (200, <span class="stringliteral">&quot;Succes&quot;</span>, data);</div>
<div class="line"><span class="lineno">  947</span>                }</div>
<div class="line"><span class="lineno">  948</span> </div>
<div class="line"><span class="lineno">  949</span>                <span class="keywordflow">return</span> (404, <span class="stringliteral">&quot;Abonnement Not Found&quot;</span>, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  950</span>            }</div>
<div class="line"><span class="lineno">  951</span>        }</div>
<div class="line"><span class="lineno">  952</span>    }</div>
<div class="line"><span class="lineno">  953</span>    <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  954</span>    {</div>
<div class="line"><span class="lineno">  955</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  956</span>    }</div>
<div class="line"><span class="lineno">  957</span>    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  958</span>    {</div>
<div class="line"><span class="lineno">  959</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  960</span>    }</div>
<div class="line"><span class="lineno">  961</span>}</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00664">Message</a> en <a class="el" href="#l00664">StatusCode</a>.</p>

</div>
</div>
<a id="af940022c1370ccec5226130d62a84909" name="af940022c1370ccec5226130d62a84909"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af940022c1370ccec5226130d62a84909">&#9670;&#160;</a></span>GetBusinessInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool string Dictionary&lt; string, object &gt; Data WPR.Repository.EmployeeRepository.GetBusinessInfo </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kvk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#aa434503c00a7c1d6e4f4119773147097">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  826</span>{</div>
<div class="line"><span class="lineno">  827</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  828</span>    {</div>
<div class="line"><span class="lineno">  829</span>        <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT * FROM Business WHERE KvK = @K&quot;</span>;</div>
<div class="line"><span class="lineno">  830</span> </div>
<div class="line"><span class="lineno">  831</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  832</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  833</span>        {</div>
<div class="line"><span class="lineno">  834</span>            command.Parameters.AddWithValue(<span class="stringliteral">&quot;@K&quot;</span>, kvk);</div>
<div class="line"><span class="lineno">  835</span> </div>
<div class="line"><span class="lineno">  836</span>            <span class="keyword">using</span> (var reader = command.ExecuteReader())</div>
<div class="line"><span class="lineno">  837</span>            {</div>
<div class="line"><span class="lineno">  838</span>                <span class="comment">// Controleert of er gegevens voor het opgegeven KvK-nummer zijn</span></div>
<div class="line"><span class="lineno">  839</span>                <span class="keywordflow">if</span> (!reader.HasRows)</div>
<div class="line"><span class="lineno">  840</span>                {</div>
<div class="line"><span class="lineno">  841</span>                    <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;No data found for the given KvK&quot;</span>, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  842</span>                }</div>
<div class="line"><span class="lineno">  843</span> </div>
<div class="line"><span class="lineno">  844</span>                Dictionary&lt;string, object&gt; data = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  845</span> </div>
<div class="line"><span class="lineno">  846</span>                <span class="comment">// Leest de gegevens van de database en slaat ze op in de dictionary</span></div>
<div class="line"><span class="lineno">  847</span>                <span class="keywordflow">while</span> (reader.Read())</div>
<div class="line"><span class="lineno">  848</span>                {</div>
<div class="line"><span class="lineno">  849</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; reader.FieldCount; i++)</div>
<div class="line"><span class="lineno">  850</span>                    {</div>
<div class="line"><span class="lineno">  851</span>                        <span class="keywordtype">object</span> value = reader.IsDBNull(i) ? null : reader.GetValue(i);</div>
<div class="line"><span class="lineno">  852</span>                        data[reader.GetName(i)] = value;</div>
<div class="line"><span class="lineno">  853</span>                    }</div>
<div class="line"><span class="lineno">  854</span>                }</div>
<div class="line"><span class="lineno">  855</span> </div>
<div class="line"><span class="lineno">  856</span>                <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Success&quot;</span>, data);</div>
<div class="line"><span class="lineno">  857</span>            }</div>
<div class="line"><span class="lineno">  858</span>        }</div>
<div class="line"><span class="lineno">  859</span>    }</div>
<div class="line"><span class="lineno">  860</span>    <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  861</span>    {</div>
<div class="line"><span class="lineno">  862</span>        <span class="keywordflow">return</span> (<span class="keyword">false</span>, $<span class="stringliteral">&quot;MySQL Error: {ex.Message}&quot;</span>, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  863</span>    }</div>
<div class="line"><span class="lineno">  864</span>    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  865</span>    {</div>
<div class="line"><span class="lineno">  866</span>        <span class="keywordflow">return</span> (<span class="keyword">false</span>, $<span class="stringliteral">&quot;General Error: {ex.Message}&quot;</span>, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  867</span>    }</div>
<div class="line"><span class="lineno">  868</span>}</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00664">Message</a> en <a class="el" href="#l00825">Status</a>.</p>

</div>
</div>
<a id="a9fb507adc7d923ddf79f854500e87174" name="a9fb507adc7d923ddf79f854500e87174"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9fb507adc7d923ddf79f854500e87174">&#9670;&#160;</a></span>GetKvK() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string int KvK WPR.Repository.EmployeeRepository.GetKvK </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>vehicleManagerId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#abacb00836a88444700b0d52362e3251a">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  878</span>{</div>
<div class="line"><span class="lineno">  879</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  880</span>    {</div>
<div class="line"><span class="lineno">  881</span>        <span class="keywordtype">string</span> query = $<span class="stringliteral">&quot;SELECT Business FROM VehicleManager WHERE ID = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  882</span> </div>
<div class="line"><span class="lineno">  883</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  884</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  885</span>        {</div>
<div class="line"><span class="lineno">  886</span>            command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, vehicleManagerId);</div>
<div class="line"><span class="lineno">  887</span> </div>
<div class="line"><span class="lineno">  888</span>            <span class="keyword">using</span> (var reader = command.ExecuteReader())</div>
<div class="line"><span class="lineno">  889</span>            {</div>
<div class="line"><span class="lineno">  890</span>                <span class="comment">// Leest het KvK-nummer en retourneert het als een succesresponse</span></div>
<div class="line"><span class="lineno">  891</span>                <span class="keywordflow">if</span> (reader.Read())</div>
<div class="line"><span class="lineno">  892</span>                {</div>
<div class="line"><span class="lineno">  893</span>                    <span class="keywordtype">int</span> kvk = Convert.ToInt32(reader.GetValue(0));</div>
<div class="line"><span class="lineno">  894</span>                    <span class="keywordflow">return</span> (200, <span class="stringliteral">&quot;Succes&quot;</span>, kvk);</div>
<div class="line"><span class="lineno">  895</span>                }</div>
<div class="line"><span class="lineno">  896</span>                <span class="keywordflow">return</span> (404, <span class="stringliteral">&quot;KvK Number Not Found&quot;</span>, -1);</div>
<div class="line"><span class="lineno">  897</span>            }</div>
<div class="line"><span class="lineno">  898</span>        }</div>
<div class="line"><span class="lineno">  899</span>    }</div>
<div class="line"><span class="lineno">  900</span>    <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  901</span>    {</div>
<div class="line"><span class="lineno">  902</span>        <span class="keywordflow">return</span> (500, ex.Message, -1);</div>
<div class="line"><span class="lineno">  903</span>    }</div>
<div class="line"><span class="lineno">  904</span>    <span class="keywordflow">catch</span> (OverflowException ex)</div>
<div class="line"><span class="lineno">  905</span>    {</div>
<div class="line"><span class="lineno">  906</span>        <span class="keywordflow">return</span> (500, ex.Message, -1);</div>
<div class="line"><span class="lineno">  907</span>    }</div>
<div class="line"><span class="lineno">  908</span>    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  909</span>    {</div>
<div class="line"><span class="lineno">  910</span>        <span class="keywordflow">return</span> (500, ex.Message, -1);</div>
<div class="line"><span class="lineno">  911</span>    }</div>
<div class="line"><span class="lineno">  912</span>}</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00664">Message</a> en <a class="el" href="#l00664">StatusCode</a>.</p>

</div>
</div>
<a id="a48fb90dc24973104aaeba999bc2660c2" name="a48fb90dc24973104aaeba999bc2660c2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a48fb90dc24973104aaeba999bc2660c2">&#9670;&#160;</a></span>GetKvK() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">string WPR.Repository.EmployeeRepository.GetKvK </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Het KvK-nummer van de wagenparkbeheerder wordt opgehaald uit de database en gereturnd. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  468</span>    {</div>
<div class="line"><span class="lineno">  469</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  470</span>        {</div>
<div class="line"><span class="lineno">  471</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT Business FROM VehicleManager WHERE ID = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  472</span> </div>
<div class="line"><span class="lineno">  473</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  474</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  475</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  476</span>            {</div>
<div class="line"><span class="lineno">  477</span>                <span class="comment">// De parameter wordt ingevuld</span></div>
<div class="line"><span class="lineno">  478</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  479</span> </div>
<div class="line"><span class="lineno">  480</span>                <span class="keywordflow">return</span> command.ExecuteScalar().ToString();</div>
<div class="line"><span class="lineno">  481</span>            }</div>
<div class="line"><span class="lineno">  482</span>        }</div>
<div class="line"><span class="lineno">  483</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  484</span>        {</div>
<div class="line"><span class="lineno">  485</span>            <span class="keywordflow">return</span> ex.Message;</div>
<div class="line"><span class="lineno">  486</span>        }</div>
<div class="line"><span class="lineno">  487</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  488</span>        {</div>
<div class="line"><span class="lineno">  489</span>            <span class="keywordflow">return</span> ex.Message;</div>
<div class="line"><span class="lineno">  490</span>        }</div>
<div class="line"><span class="lineno">  491</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>.</p>

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00319">GetReviewIdsAsync()</a>.</p>
<div class="dynheader">
Hier is de caller graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a48fb90dc24973104aaeba999bc2660c2_icgraph.png" border="0" usemap="#ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a48fb90dc24973104aaeba999bc2660c2_icgraph" alt=""/></div>
<map name="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a48fb90dc24973104aaeba999bc2660c2_icgraph" id="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a48fb90dc24973104aaeba999bc2660c2_icgraph">
<area shape="rect" title="Het KvK&#45;nummer van de wagenparkbeheerder wordt opgehaald uit de database en gereturnd." alt="" coords="301,5,548,48"/>
<area shape="rect" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html#a203e22cce3985a27366173a2aba15ad8" title="Voor een zakelijke huuraanvraag moet deze eerst geaccepteerd worden door de wagenparkbeheerdeer van h..." alt="" coords="5,5,253,48"/>
<area shape="poly" title=" " alt="" coords="285,29,253,29,253,24,285,24"/>
</map>
</div>

</div>
</div>
<a id="a9a182690b76579d6e5171dffbc804e39" name="a9a182690b76579d6e5171dffbc804e39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9a182690b76579d6e5171dffbc804e39">&#9670;&#160;</a></span>GetReviewAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, List&lt; Dictionary&lt; string, object &gt; &gt; data)&gt; WPR.Repository.EmployeeRepository.GetReviewAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Er wordt een specifieke id opgevraagd en deze wordt uit de tabel Contract opgevraagd met alle data in de juiste rij. </p>
<p>Vervogelens worden de gegevens huurder en het voertuig async opgevraagd. Daarna worden door alle kolomen heen gegegaan om de gegevens in een dictonary te stoppen. In de dictonary wordt de kolom naam als key gebruikt en de kolom waarde als waarde en vervolgens in een list gestopt. Vervolgens wordt in hetzelfde gedaan met de verzamelde gegevens van de gebruiker en het voertuig.</p>
<p>Uiteindelijk wordt de list met alle dictonaries met gegevens gereturnt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#ab298cf3922ece7db26ca49b6723e2a1e">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  390</span>    {</div>
<div class="line"><span class="lineno">  391</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  392</span>        {</div>
<div class="line"><span class="lineno">  393</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT * FROM Contract WHERE OrderId = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  394</span> </div>
<div class="line"><span class="lineno">  395</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  396</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  397</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  398</span>            {</div>
<div class="line"><span class="lineno">  399</span>                <span class="comment">// De parameter wordt ingevuld</span></div>
<div class="line"><span class="lineno">  400</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  401</span> </div>
<div class="line"><span class="lineno">  402</span>                <span class="comment">// De query wordt uitgevoerd</span></div>
<div class="line"><span class="lineno">  403</span>                <span class="keyword">using</span> (var reader = await command.ExecuteReaderAsync())</div>
<div class="line"><span class="lineno">  404</span>                {</div>
<div class="line"><span class="lineno">  405</span>                    <span class="keywordflow">if</span> (await reader.ReadAsync())</div>
<div class="line"><span class="lineno">  406</span>                    {</div>
<div class="line"><span class="lineno">  407</span>                        <span class="comment">// Er wordt een lijst gemaakt met alle waarders van elke row van de uitgevoerde query</span></div>
<div class="line"><span class="lineno">  408</span>                        var rows = <span class="keyword">new</span> List&lt;Dictionary&lt;string, object&gt;&gt;();</div>
<div class="line"><span class="lineno">  409</span>                        <span class="comment">// De gegevens in de row worden opgeslagen in een dictonary &lt;Kolom naam : Kolom data&gt;</span></div>
<div class="line"><span class="lineno">  410</span>                        var row = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  411</span> </div>
<div class="line"><span class="lineno">  412</span>                        var getUserData = GetUserDataAsync(reader.GetValue(5).ToString());</div>
<div class="line"><span class="lineno">  413</span>                        var getVehiceData = GetVehicleData(reader.GetValue(4).ToString());</div>
<div class="line"><span class="lineno">  414</span> </div>
<div class="line"><span class="lineno">  415</span>                        <span class="comment">// alle gegvens in de row worden verzameld</span></div>
<div class="line"><span class="lineno">  416</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; reader.FieldCount; i++)</div>
<div class="line"><span class="lineno">  417</span>                        {</div>
<div class="line"><span class="lineno">  418</span>                            row = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  419</span>                            row[reader.GetName(i)] = reader.GetValue(i);</div>
<div class="line"><span class="lineno">  420</span>                            rows.Add(row);</div>
<div class="line"><span class="lineno">  421</span>                        }</div>
<div class="line"><span class="lineno">  422</span> </div>
<div class="line"><span class="lineno">  423</span>                        var userData = await getUserData;</div>
<div class="line"><span class="lineno">  424</span> </div>
<div class="line"><span class="lineno">  425</span>                        <span class="comment">// Alle gebruikers gegevens worden verzameld</span></div>
<div class="line"><span class="lineno">  426</span>                        <span class="keywordflow">foreach</span> (var userField <span class="keywordflow">in</span> userData.data)</div>
<div class="line"><span class="lineno">  427</span>                        {</div>
<div class="line"><span class="lineno">  428</span>                            row = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  429</span>                            row[userField.Key] = userField.Value;</div>
<div class="line"><span class="lineno">  430</span>                            rows.Add(row);</div>
<div class="line"><span class="lineno">  431</span>                        }</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>                        var vehicleData = await getVehiceData;</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>                        <span class="comment">// Alle voertuig gegevens worden verzameld</span></div>
<div class="line"><span class="lineno">  436</span>                        <span class="keywordflow">foreach</span> (var vehicelField <span class="keywordflow">in</span> vehicleData.data)</div>
<div class="line"><span class="lineno">  437</span>                        {</div>
<div class="line"><span class="lineno">  438</span>                            row = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  439</span>                            row[vehicelField.Key] = vehicelField.Value;</div>
<div class="line"><span class="lineno">  440</span>                            rows.Add(row);</div>
<div class="line"><span class="lineno">  441</span>                        }</div>
<div class="line"><span class="lineno">  442</span> </div>
<div class="line"><span class="lineno">  443</span>                        <span class="keywordflow">return</span> (<span class="keyword">true</span>, rows);</div>
<div class="line"><span class="lineno">  444</span>                    }</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>                    <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">null</span>);</div>
<div class="line"><span class="lineno">  447</span>                }</div>
<div class="line"><span class="lineno">  448</span>            }</div>
<div class="line"><span class="lineno">  449</span>        }</div>
<div class="line"><span class="lineno">  450</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  451</span>        {</div>
<div class="line"><span class="lineno">  452</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message} Review&quot;</span>);</div>
<div class="line"><span class="lineno">  453</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">new</span> List&lt;Dictionary&lt;string, object&gt;&gt;());</div>
<div class="line"><span class="lineno">  454</span>        }</div>
<div class="line"><span class="lineno">  455</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  456</span>        {</div>
<div class="line"><span class="lineno">  457</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  458</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">new</span> List&lt;Dictionary&lt;string, object&gt;&gt;());</div>
<div class="line"><span class="lineno">  459</span>        }</div>
<div class="line"><span class="lineno">  460</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00206">GetUserDataAsync()</a> en <a class="el" href="#l00266">GetVehicleData()</a>.</p>
<div class="dynheader">
Hier is de call graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a9a182690b76579d6e5171dffbc804e39_cgraph.png" border="0" usemap="#ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a9a182690b76579d6e5171dffbc804e39_cgraph" alt=""/></div>
<map name="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a9a182690b76579d6e5171dffbc804e39_cgraph" id="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a9a182690b76579d6e5171dffbc804e39_cgraph">
<area shape="rect" title="Er wordt een specifieke id opgevraagd en deze wordt uit de tabel Contract opgevraagd met alle data in..." alt="" coords="5,39,253,81"/>
<area shape="rect" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html#a11609b7e63c2bdcac11e68ab2366a7ee" title="De voornaam, achternaam, adres, emailadres en telefoonnummer wordt uit de UserCustomer tabel gehaald,..." alt="" coords="301,5,548,48"/>
<area shape="poly" title=" " alt="" coords="253,43,285,40,285,45,253,49"/>
<area shape="rect" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html#ac7d1cc932c1b01e234c61d639995c8e9" title="Het voertuigmerk, type en nummerbord worden uit de tabel Vehicle getrokken, doormiddel van hun frame ..." alt="" coords="301,72,548,115"/>
<area shape="poly" title=" " alt="" coords="253,71,285,75,285,80,253,77"/>
</map>
</div>

</div>
</div>
<a id="a203e22cce3985a27366173a2aba15ad8" name="a203e22cce3985a27366173a2aba15ad8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a203e22cce3985a27366173a2aba15ad8">&#9670;&#160;</a></span>GetReviewIdsAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, List&lt; string &gt; ids)&gt; WPR.Repository.EmployeeRepository.GetReviewIdsAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>user</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>userId</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Voor een zakelijke huuraanvraag moet deze eerst geaccepteerd worden door de wagenparkbeheerdeer van het bedrijf. Deze aanvragen worden geselecteerd door middel van de status van de aanvraag op te vragen en te kijken of deze overeen komt met 'requested', de VMstatus overeen komt met 'requested'en of het KvK nummer van gebruiker gelijk is aan het KvK nummer van de wagenparkbeheerder. </p>
<p>Voor een particuliere huuraanvraag of geaccepteerde zakelijke huuraanvraag worden deze geaccepteerd door een frontoffice medewerker van Car and All. Hierbij wordt gekekenof de status nog steeds 'requested' is en of de VMstatus gelijk is aan 'X' of 'accepted'.</p>
<p>Alle ids van deze aanvragen worden in een list gestopt een gereturnt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user</td><td></td></tr>
    <tr><td class="paramname">userId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a6ddf627b6b056d590d448aee823853ca">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  320</span>    {</div>
<div class="line"><span class="lineno">  321</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  322</span>        {</div>
<div class="line"><span class="lineno">  323</span>            <span class="keywordtype">bool</span> isVehicleManager = user.Equals(<span class="stringliteral">&quot;vehicleManager&quot;</span>);</div>
<div class="line"><span class="lineno">  324</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;QUERY&quot;</span>;</div>
<div class="line"><span class="lineno">  325</span> </div>
<div class="line"><span class="lineno">  326</span>            <span class="keywordflow">if</span> (isVehicleManager)</div>
<div class="line"><span class="lineno">  327</span>            {</div>
<div class="line"><span class="lineno">  328</span>                query = <span class="stringliteral">@&quot;SELECT OrderId FROM Contract </span></div>
<div class="line"><span class="lineno">  329</span><span class="stringliteral">                        JOIN Customer C on C.ID = Contract.Customer</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">                        WHERE Status = &#39;requested&#39; AND VMStatus = &#39;requested&#39; AND C.KvK = @K&quot;</span>;</div>
<div class="line"><span class="lineno">  331</span> </div>
<div class="line"><span class="lineno">  332</span>            }</div>
<div class="line"><span class="lineno">  333</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (user.Equals(<span class="stringliteral">&quot;frontOffice&quot;</span>))</div>
<div class="line"><span class="lineno">  334</span>            {</div>
<div class="line"><span class="lineno">  335</span>                query = <span class="stringliteral">&quot;SELECT OrderId FROM Contract WHERE Status = &#39;requested&#39; AND (VMStatus = &#39;X&#39; OR VMStatus = &#39;accepted&#39;)&quot;</span>;</div>
<div class="line"><span class="lineno">  336</span>            }</div>
<div class="line"><span class="lineno">  337</span> </div>
<div class="line"><span class="lineno">  338</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  339</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  340</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  341</span>            </div>
<div class="line"><span class="lineno">  342</span>            {</div>
<div class="line"><span class="lineno">  343</span>                <span class="keywordflow">if</span> (isVehicleManager)</div>
<div class="line"><span class="lineno">  344</span>                {</div>
<div class="line"><span class="lineno">  345</span>                    <span class="comment">// De parameter wordt ingevuld</span></div>
<div class="line"><span class="lineno">  346</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@K&quot;</span>, GetKvK(userId));</div>
<div class="line"><span class="lineno">  347</span>                }</div>
<div class="line"><span class="lineno">  348</span> </div>
<div class="line"><span class="lineno">  349</span>                <span class="keyword">using</span> (var reader = await command.ExecuteReaderAsync())</div>
<div class="line"><span class="lineno">  350</span>                {</div>
<div class="line"><span class="lineno">  351</span>                    List&lt;string&gt; ids = <span class="keyword">new</span> List&lt;string&gt;();</div>
<div class="line"><span class="lineno">  352</span>                    <span class="keywordflow">while</span> (await reader.ReadAsync())</div>
<div class="line"><span class="lineno">  353</span>                    {</div>
<div class="line"><span class="lineno">  354</span>                        <span class="comment">// Alle ids worden in een list gestopt</span></div>
<div class="line"><span class="lineno">  355</span>                        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; reader.FieldCount; i++)</div>
<div class="line"><span class="lineno">  356</span>                        {</div>
<div class="line"><span class="lineno">  357</span>                            ids.Add(reader.GetValue(i).ToString());</div>
<div class="line"><span class="lineno">  358</span>                        }</div>
<div class="line"><span class="lineno">  359</span>                    }</div>
<div class="line"><span class="lineno">  360</span> </div>
<div class="line"><span class="lineno">  361</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, ids);</div>
<div class="line"><span class="lineno">  362</span>                }</div>
<div class="line"><span class="lineno">  363</span>            }</div>
<div class="line"><span class="lineno">  364</span>        }</div>
<div class="line"><span class="lineno">  365</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  366</span>        {</div>
<div class="line"><span class="lineno">  367</span>            await Console.Error.WriteLineAsync(ex.Message);</div>
<div class="line"><span class="lineno">  368</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">new</span> List&lt;string&gt;());</div>
<div class="line"><span class="lineno">  369</span>        }</div>
<div class="line"><span class="lineno">  370</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  371</span>        {</div>
<div class="line"><span class="lineno">  372</span>            await Console.Error.WriteLineAsync(ex.Message);</div>
<div class="line"><span class="lineno">  373</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">new</span> List&lt;string&gt;());</div>
<div class="line"><span class="lineno">  374</span>        }</div>
<div class="line"><span class="lineno">  375</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a> en <a class="el" href="#l00467">GetKvK()</a>.</p>
<div class="dynheader">
Hier is de call graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a203e22cce3985a27366173a2aba15ad8_cgraph.png" border="0" usemap="#ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a203e22cce3985a27366173a2aba15ad8_cgraph" alt=""/></div>
<map name="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a203e22cce3985a27366173a2aba15ad8_cgraph" id="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a203e22cce3985a27366173a2aba15ad8_cgraph">
<area shape="rect" title="Voor een zakelijke huuraanvraag moet deze eerst geaccepteerd worden door de wagenparkbeheerdeer van h..." alt="" coords="5,5,253,48"/>
<area shape="rect" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html#a48fb90dc24973104aaeba999bc2660c2" title="Het KvK&#45;nummer van de wagenparkbeheerder wordt opgehaald uit de database en gereturnd." alt="" coords="301,5,548,48"/>
<area shape="poly" title=" " alt="" coords="253,24,285,24,285,29,253,29"/>
</map>
</div>

</div>
</div>
<a id="a11609b7e63c2bdcac11e68ab2366a7ee" name="a11609b7e63c2bdcac11e68ab2366a7ee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a11609b7e63c2bdcac11e68ab2366a7ee">&#9670;&#160;</a></span>GetUserDataAsync()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, Dictionary&lt; string, object &gt; data)&gt; WPR.Repository.EmployeeRepository.GetUserDataAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>userid</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>De voornaam, achternaam, adres, emailadres en telefoonnummer wordt uit de UserCustomer tabel gehaald, om deze te laten tonen bij de huuraanvragen. De gegevens van de klant worden verzameld doormiddel van hun id. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">userid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  207</span>    {</div>
<div class="line"><span class="lineno">  208</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  209</span>        {</div>
<div class="line"><span class="lineno">  210</span>            var row = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  211</span>            <span class="keywordtype">string</span> queryCustomer = <span class="stringliteral">&quot;SELECT Email FROM Customer WHERE ID = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  212</span>            <span class="keywordtype">string</span> queryPrivate = <span class="stringliteral">&quot;SELECT FirstName, LastName, Adres, TelNum FROM Private WHERE ID = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  213</span> </div>
<div class="line"><span class="lineno">  214</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  215</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  216</span>            <span class="keyword">using</span> (var commandCustomer = <span class="keyword">new</span> MySqlCommand(queryCustomer, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  217</span>            <span class="keyword">using</span> (var commandPrivate = <span class="keyword">new</span> MySqlCommand(queryPrivate, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  218</span>            {</div>
<div class="line"><span class="lineno">  219</span>                <span class="comment">// De parameter wordt ingevuld</span></div>
<div class="line"><span class="lineno">  220</span>                commandCustomer.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, userid);</div>
<div class="line"><span class="lineno">  221</span>                commandPrivate.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, userid);</div>
<div class="line"><span class="lineno">  222</span> </div>
<div class="line"><span class="lineno">  223</span>                <span class="keyword">using</span> (var readerCustomer = await commandCustomer.ExecuteReaderAsync())</div>
<div class="line"><span class="lineno">  224</span>                {</div>
<div class="line"><span class="lineno">  225</span>                    <span class="comment">// Alle gegevens in de row worden verzameld &lt;Kolom naam : Kolom data&gt;</span></div>
<div class="line"><span class="lineno">  226</span>                    await readerCustomer.ReadAsync();</div>
<div class="line"><span class="lineno">  227</span> </div>
<div class="line"><span class="lineno">  228</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; readerCustomer.FieldCount; i++)</div>
<div class="line"><span class="lineno">  229</span>                    {</div>
<div class="line"><span class="lineno">  230</span>                        row[readerCustomer.GetName(i)] = readerCustomer.GetValue(i);</div>
<div class="line"><span class="lineno">  231</span>                    }</div>
<div class="line"><span class="lineno">  232</span> </div>
<div class="line"><span class="lineno">  233</span>                    await readerCustomer.CloseAsync();</div>
<div class="line"><span class="lineno">  234</span>                }</div>
<div class="line"><span class="lineno">  235</span> </div>
<div class="line"><span class="lineno">  236</span>                <span class="keyword">using</span> (var readerPrivate = await commandPrivate.ExecuteReaderAsync())</div>
<div class="line"><span class="lineno">  237</span>                {</div>
<div class="line"><span class="lineno">  238</span>                    await readerPrivate.ReadAsync();</div>
<div class="line"><span class="lineno">  239</span> </div>
<div class="line"><span class="lineno">  240</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j = 0; j &lt; readerPrivate.FieldCount; j++)</div>
<div class="line"><span class="lineno">  241</span>                    {</div>
<div class="line"><span class="lineno">  242</span>                        row[readerPrivate.GetName(j)] = readerPrivate.GetValue(j);</div>
<div class="line"><span class="lineno">  243</span>                    }</div>
<div class="line"><span class="lineno">  244</span> </div>
<div class="line"><span class="lineno">  245</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, row);</div>
<div class="line"><span class="lineno">  246</span>                }</div>
<div class="line"><span class="lineno">  247</span>            }</div>
<div class="line"><span class="lineno">  248</span>        }</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  250</span>        {</div>
<div class="line"><span class="lineno">  251</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message} User&quot;</span>);</div>
<div class="line"><span class="lineno">  252</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  253</span>        }</div>
<div class="line"><span class="lineno">  254</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  255</span>        {</div>
<div class="line"><span class="lineno">  256</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  257</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  258</span>        }</div>
<div class="line"><span class="lineno">  259</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>.</p>

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00389">GetReviewAsync()</a>.</p>
<div class="dynheader">
Hier is de caller graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a11609b7e63c2bdcac11e68ab2366a7ee_icgraph.png" border="0" usemap="#ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a11609b7e63c2bdcac11e68ab2366a7ee_icgraph" alt=""/></div>
<map name="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a11609b7e63c2bdcac11e68ab2366a7ee_icgraph" id="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_a11609b7e63c2bdcac11e68ab2366a7ee_icgraph">
<area shape="rect" title="De voornaam, achternaam, adres, emailadres en telefoonnummer wordt uit de UserCustomer tabel gehaald,..." alt="" coords="301,5,548,48"/>
<area shape="rect" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html#a9a182690b76579d6e5171dffbc804e39" title="Er wordt een specifieke id opgevraagd en deze wordt uit de tabel Contract opgevraagd met alle data in..." alt="" coords="5,5,253,48"/>
<area shape="poly" title=" " alt="" coords="285,29,253,29,253,24,285,24"/>
</map>
</div>

</div>
</div>
<a id="ac7d1cc932c1b01e234c61d639995c8e9" name="ac7d1cc932c1b01e234c61d639995c8e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac7d1cc932c1b01e234c61d639995c8e9">&#9670;&#160;</a></span>GetVehicleData()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, Dictionary&lt; string, object &gt; data)&gt; WPR.Repository.EmployeeRepository.GetVehicleData </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>carId</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Het voertuigmerk, type en nummerbord worden uit de tabel Vehicle getrokken, doormiddel van hun frame nummer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">carId</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="lineno">  267</span>    {</div>
<div class="line"><span class="lineno">  268</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  269</span>        {</div>
<div class="line"><span class="lineno">  270</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT Brand, Type, LicensePlate FROM Vehicle WHERE FrameNr = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  271</span> </div>
<div class="line"><span class="lineno">  272</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  273</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  274</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  275</span>            {</div>
<div class="line"><span class="lineno">  276</span>                <span class="comment">// De parameter wordt ingevuld</span></div>
<div class="line"><span class="lineno">  277</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, carId);</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>                <span class="keyword">using</span> (var reader = await command.ExecuteReaderAsync())</div>
<div class="line"><span class="lineno">  280</span>                {</div>
<div class="line"><span class="lineno">  281</span>                    <span class="comment">// Alle gegevens in de row worden verzameld &lt;Kolom naam : Kolom data&gt;</span></div>
<div class="line"><span class="lineno">  282</span>                    await reader.ReadAsync();</div>
<div class="line"><span class="lineno">  283</span>                    </div>
<div class="line"><span class="lineno">  284</span>                    var row = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  285</span> </div>
<div class="line"><span class="lineno">  286</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; reader.FieldCount; i++)</div>
<div class="line"><span class="lineno">  287</span>                    {</div>
<div class="line"><span class="lineno">  288</span>                        row[reader.GetName(i)] = reader.GetValue(i);</div>
<div class="line"><span class="lineno">  289</span>                    }</div>
<div class="line"><span class="lineno">  290</span> </div>
<div class="line"><span class="lineno">  291</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, row);</div>
<div class="line"><span class="lineno">  292</span>                }</div>
<div class="line"><span class="lineno">  293</span>            }</div>
<div class="line"><span class="lineno">  294</span>        }</div>
<div class="line"><span class="lineno">  295</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  296</span>        {</div>
<div class="line"><span class="lineno">  297</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Database error: {ex.Message} Vehicle&quot;</span>);</div>
<div class="line"><span class="lineno">  298</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  299</span>        }</div>
<div class="line"><span class="lineno">  300</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  301</span>        {</div>
<div class="line"><span class="lineno">  302</span>            await Console.Error.WriteLineAsync($<span class="stringliteral">&quot;Unexpected error: {ex.Message}&quot;</span>);</div>
<div class="line"><span class="lineno">  303</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  304</span>        }</div>
<div class="line"><span class="lineno">  305</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>.</p>

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00389">GetReviewAsync()</a>.</p>
<div class="dynheader">
Hier is de caller graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_ac7d1cc932c1b01e234c61d639995c8e9_icgraph.png" border="0" usemap="#ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_ac7d1cc932c1b01e234c61d639995c8e9_icgraph" alt=""/></div>
<map name="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_ac7d1cc932c1b01e234c61d639995c8e9_icgraph" id="ad9/de0/class_w_p_r_1_1_repository_1_1_employee_repository_ac7d1cc932c1b01e234c61d639995c8e9_icgraph">
<area shape="rect" title="Het voertuigmerk, type en nummerbord worden uit de tabel Vehicle getrokken, doormiddel van hun frame ..." alt="" coords="301,5,548,48"/>
<area shape="rect" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html#a9a182690b76579d6e5171dffbc804e39" title="Er wordt een specifieke id opgevraagd en deze wordt uit de tabel Contract opgevraagd met alle data in..." alt="" coords="5,5,253,48"/>
<area shape="poly" title=" " alt="" coords="285,29,253,29,253,24,285,24"/>
</map>
</div>

</div>
</div>
<a id="a6c9b7c9837a5d38bab25669c747e1158" name="a6c9b7c9837a5d38bab25669c747e1158"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c9b7c9837a5d38bab25669c747e1158">&#9670;&#160;</a></span>GetVehicleManagerInfo()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string Dictionary&lt; string, object &gt; Data WPR.Repository.EmployeeRepository.GetVehicleManagerInfo </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>id</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a8137fbd1ffb21b5a0e62f90f5fbe7560">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  971</span>{</div>
<div class="line"><span class="lineno">  972</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  973</span>    {</div>
<div class="line"><span class="lineno">  974</span>        <span class="comment">// Query die expliciet het wachtwoord opvraagt</span></div>
<div class="line"><span class="lineno">  975</span>        <span class="keywordtype">string</span> query = $<span class="stringliteral">&quot;SELECT ID, Email, Password, Business FROM VehicleManager WHERE ID = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  976</span> </div>
<div class="line"><span class="lineno">  977</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  978</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  979</span>        {</div>
<div class="line"><span class="lineno">  980</span>            command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  981</span> </div>
<div class="line"><span class="lineno">  982</span>            <span class="keyword">using</span> (var reader = command.ExecuteReader())</div>
<div class="line"><span class="lineno">  983</span>            {</div>
<div class="line"><span class="lineno">  984</span>                Dictionary&lt;string, object&gt; data = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  985</span>                </div>
<div class="line"><span class="lineno">  986</span>                <span class="comment">// Leest de gegevens van de database</span></div>
<div class="line"><span class="lineno">  987</span>                <span class="keywordflow">if</span> (reader.Read())</div>
<div class="line"><span class="lineno">  988</span>                {</div>
<div class="line"><span class="lineno">  989</span>                    data[<span class="stringliteral">&quot;ID&quot;</span>] = reader.GetInt32(reader.GetOrdinal(<span class="stringliteral">&quot;ID&quot;</span>));</div>
<div class="line"><span class="lineno">  990</span>                    data[<span class="stringliteral">&quot;Email&quot;</span>] = reader.GetString(reader.GetOrdinal(<span class="stringliteral">&quot;Email&quot;</span>));</div>
<div class="line"><span class="lineno">  991</span>                    data[<span class="stringliteral">&quot;Password&quot;</span>] = reader.IsDBNull(reader.GetOrdinal(<span class="stringliteral">&quot;Password&quot;</span>)) ? null : reader.GetString(reader.GetOrdinal(<span class="stringliteral">&quot;Password&quot;</span>));</div>
<div class="line"><span class="lineno">  992</span>                    data[<span class="stringliteral">&quot;Business&quot;</span>] = reader.GetInt32(reader.GetOrdinal(<span class="stringliteral">&quot;Business&quot;</span>));</div>
<div class="line"><span class="lineno">  993</span> </div>
<div class="line"><span class="lineno">  994</span>                    <span class="keywordflow">return</span> (200, <span class="stringliteral">&quot;Success&quot;</span>, data);</div>
<div class="line"><span class="lineno">  995</span>                }</div>
<div class="line"><span class="lineno">  996</span> </div>
<div class="line"><span class="lineno">  997</span>                <span class="keywordflow">return</span> (404, <span class="stringliteral">&quot;Vehicle Manager Not Found&quot;</span>, data);</div>
<div class="line"><span class="lineno">  998</span>            }</div>
<div class="line"><span class="lineno">  999</span>        }</div>
<div class="line"><span class="lineno"> 1000</span>    }</div>
<div class="line"><span class="lineno"> 1001</span>    <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno"> 1002</span>    {</div>
<div class="line"><span class="lineno"> 1003</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno"> 1004</span>    }</div>
<div class="line"><span class="lineno"> 1005</span>    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno"> 1006</span>    {</div>
<div class="line"><span class="lineno"> 1007</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno"> 1008</span>    }</div>
<div class="line"><span class="lineno"> 1009</span>}</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00664">Message</a> en <a class="el" href="#l00664">StatusCode</a>.</p>

</div>
</div>
<a id="ab57756edb2a46e9c4e8381b11845f1ff" name="ab57756edb2a46e9c4e8381b11845f1ff"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab57756edb2a46e9c4e8381b11845f1ff">&#9670;&#160;</a></span>SetStatusAsync()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(bool status, string message)&gt; WPR.Repository.EmployeeRepository.SetStatusAsync </td>
          <td>(</td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>id</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>status</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>employee</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string</td>          <td class="paramname"><span class="paramname"><em>userType</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>De status van de frontoffice medewerker of wagenparkbeheerder wordt geupdate in de huuraanvraag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td></td></tr>
    <tr><td class="paramname">status</td><td></td></tr>
    <tr><td class="paramname">employee</td><td></td></tr>
    <tr><td class="paramname">userType</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd></dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#adec399461403d95dab5f05df3ac6f3c2">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  502</span>    {</div>
<div class="line"><span class="lineno">  503</span>        <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  504</span>        {</div>
<div class="line"><span class="lineno">  505</span>            <span class="keywordtype">bool</span> isOfficeType = userType.Equals(<span class="stringliteral">&quot;frontOffice&quot;</span>);</div>
<div class="line"><span class="lineno">  506</span>            <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;QUERY&quot;</span>;</div>
<div class="line"><span class="lineno">  507</span> </div>
<div class="line"><span class="lineno">  508</span>            <span class="keywordflow">if</span> (isOfficeType)</div>
<div class="line"><span class="lineno">  509</span>            {</div>
<div class="line"><span class="lineno">  510</span>                query = <span class="stringliteral">&quot;UPDATE Contract SET Status = @S, ReviewedBy = @E WHERE OrderId = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  511</span>            }</div>
<div class="line"><span class="lineno">  512</span>            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (userType.Equals(<span class="stringliteral">&quot;vehicleManager&quot;</span>))</div>
<div class="line"><span class="lineno">  513</span>            {</div>
<div class="line"><span class="lineno">  514</span>                query = <span class="stringliteral">&quot;UPDATE Contract SET VMStatus = @S WHERE OrderId = @I&quot;</span>;</div>
<div class="line"><span class="lineno">  515</span>            }</div>
<div class="line"><span class="lineno">  516</span> </div>
<div class="line"><span class="lineno">  517</span>            <span class="comment">// Er wordt een connectie met de DataBase gemaakt met de bovenstaande query</span></div>
<div class="line"><span class="lineno">  518</span>            <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  519</span>            <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  520</span>            {</div>
<div class="line"><span class="lineno">  521</span>                Console.WriteLine(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  522</span>                <span class="comment">// De parameters worden ingevuld</span></div>
<div class="line"><span class="lineno">  523</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@S&quot;</span>, status);</div>
<div class="line"><span class="lineno">  524</span>                command.Parameters.AddWithValue(<span class="stringliteral">&quot;@I&quot;</span>, <span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">  525</span> </div>
<div class="line"><span class="lineno">  526</span>                <span class="keywordflow">if</span> (isOfficeType)</div>
<div class="line"><span class="lineno">  527</span>                {</div>
<div class="line"><span class="lineno">  528</span>                    command.Parameters.AddWithValue(<span class="stringliteral">&quot;@E&quot;</span>, employee);</div>
<div class="line"><span class="lineno">  529</span>                }</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>                <span class="keywordflow">if</span> (await command.ExecuteNonQueryAsync() &gt; 0)</div>
<div class="line"><span class="lineno">  532</span>                {</div>
<div class="line"><span class="lineno">  533</span>                    <span class="comment">// Er wordt gekeken of de gegevens zijn ingevoerd in de DataBase</span></div>
<div class="line"><span class="lineno">  534</span>                    <span class="keywordflow">return</span> (<span class="keyword">true</span>, <span class="stringliteral">&quot;Status updated&quot;</span>);</div>
<div class="line"><span class="lineno">  535</span>                }</div>
<div class="line"><span class="lineno">  536</span>                </div>
<div class="line"><span class="lineno">  537</span>                <span class="keywordflow">return</span> (<span class="keyword">false</span>, <span class="stringliteral">&quot;Status not updated&quot;</span>);</div>
<div class="line"><span class="lineno">  538</span>            }</div>
<div class="line"><span class="lineno">  539</span>        }</div>
<div class="line"><span class="lineno">  540</span>        <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  541</span>        {</div>
<div class="line"><span class="lineno">  542</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  543</span>        }</div>
<div class="line"><span class="lineno">  544</span>        <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  545</span>        {</div>
<div class="line"><span class="lineno">  546</span>            <span class="keywordflow">return</span> (<span class="keyword">false</span>, ex.Message);</div>
<div class="line"><span class="lineno">  547</span>        }</div>
<div class="line"><span class="lineno">  548</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>.</p>

</div>
</div>
<a id="a13e0a19b0f5fd0c4ee11dfb629c82422" name="a13e0a19b0f5fd0c4ee11dfb629c82422"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13e0a19b0f5fd0c4ee11dfb629c82422">&#9670;&#160;</a></span>ViewBusinessRequestDetailed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt;(int <a class="el" href="#a338711ff3ec2298bedce98a6ff8e7ccf">StatusCode</a>, string <a class="el" href="#adab59ce6c70f1f4a0aa83b123c1ba87c">Message</a>, Dictionary&lt; string, object &gt; data)&gt; WPR.Repository.EmployeeRepository.ViewBusinessRequestDetailed </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kvk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Haalt gedetailleerde informatie op voor een specifiek bedrijf op basis van KvK-nummer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kvk</td><td>Het KvK-nummer van het bedrijf.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Een tuple met de statuscode (200 voor succes, 500 voor mislukking), een bericht en een woordenboek met bedrijfsgegevens. </dd></dl>

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a817a6ee8b68111bc0eace6399eea0dac">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  708</span>{</div>
<div class="line"><span class="lineno">  709</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  710</span>    {</div>
<div class="line"><span class="lineno">  711</span>        <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT KvK, BusinessName, Adres, Domain, ContactEmail FROM Business WHERE KvK = @K&quot;</span>;</div>
<div class="line"><span class="lineno">  712</span> </div>
<div class="line"><span class="lineno">  713</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  714</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  715</span>        {</div>
<div class="line"><span class="lineno">  716</span>            command.Parameters.AddWithValue(<span class="stringliteral">&quot;@K&quot;</span>, kvk);</div>
<div class="line"><span class="lineno">  717</span> </div>
<div class="line"><span class="lineno">  718</span>            <span class="keyword">using</span> (var reader = await command.ExecuteReaderAsync())</div>
<div class="line"><span class="lineno">  719</span>            {</div>
<div class="line"><span class="lineno">  720</span>                Dictionary&lt;string, object&gt; data = <span class="keyword">new</span> Dictionary&lt;string, object&gt;();</div>
<div class="line"><span class="lineno">  721</span> </div>
<div class="line"><span class="lineno">  722</span>                <span class="comment">// Leest de gegevens van de query en slaat ze op in een dictionary</span></div>
<div class="line"><span class="lineno">  723</span>                <span class="keywordflow">while</span> (await reader.ReadAsync())</div>
<div class="line"><span class="lineno">  724</span>                {</div>
<div class="line"><span class="lineno">  725</span>                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; reader.FieldCount; i++)</div>
<div class="line"><span class="lineno">  726</span>                    {</div>
<div class="line"><span class="lineno">  727</span>                        data[reader.GetName(i)] = reader.GetValue(i);</div>
<div class="line"><span class="lineno">  728</span>                    }</div>
<div class="line"><span class="lineno">  729</span>                }</div>
<div class="line"><span class="lineno">  730</span> </div>
<div class="line"><span class="lineno">  731</span>                <span class="comment">// Retourneert de gegevens als succesvolle response</span></div>
<div class="line"><span class="lineno">  732</span>                <span class="keywordflow">return</span> (200, <span class="stringliteral">&quot;Succes&quot;</span>, data);</div>
<div class="line"><span class="lineno">  733</span>            }</div>
<div class="line"><span class="lineno">  734</span>        }</div>
<div class="line"><span class="lineno">  735</span>    }</div>
<div class="line"><span class="lineno">  736</span>    <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  737</span>    {</div>
<div class="line"><span class="lineno">  738</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  739</span>    }</div>
<div class="line"><span class="lineno">  740</span>    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  741</span>    {</div>
<div class="line"><span class="lineno">  742</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> Dictionary&lt;string, object&gt;());</div>
<div class="line"><span class="lineno">  743</span>    }</div>
<div class="line"><span class="lineno">  744</span>}</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="#l00016">_connector</a>, <a class="el" href="#l00664">Message</a> en <a class="el" href="#l00664">StatusCode</a>.</p>

</div>
</div>
<a id="a79ed0c0c2783f6b506db86979dd35ba8" name="a79ed0c0c2783f6b506db86979dd35ba8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79ed0c0c2783f6b506db86979dd35ba8">&#9670;&#160;</a></span>ViewBusinessRequests()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string IList&lt; int &gt; KvK WPR.Repository.EmployeeRepository.ViewBusinessRequests </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementeert <a class="el" href="../../d2/d4c/interface_w_p_r_1_1_repository_1_1_i_employee_repository.html#a1a0e12ece8eb5270f0cf8fd85dacad0a">WPR.Repository.IEmployeeRepository</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  665</span>{</div>
<div class="line"><span class="lineno">  666</span>    <span class="keywordflow">try</span></div>
<div class="line"><span class="lineno">  667</span>    {</div>
<div class="line"><span class="lineno">  668</span>        <span class="keywordtype">string</span> query = <span class="stringliteral">&quot;SELECT KvK FROM Business WHERE Activated = &#39;Deactive&#39;&quot;</span>;</div>
<div class="line"><span class="lineno">  669</span> </div>
<div class="line"><span class="lineno">  670</span>        <span class="keyword">using</span> (var connection = _connector.CreateDbConnection())</div>
<div class="line"><span class="lineno">  671</span>        <span class="keyword">using</span> (var command = <span class="keyword">new</span> MySqlCommand(query, (MySqlConnection)connection))</div>
<div class="line"><span class="lineno">  672</span>        <span class="keyword">using</span> (var reader = command.ExecuteReader())</div>
<div class="line"><span class="lineno">  673</span>        {</div>
<div class="line"><span class="lineno">  674</span>            IList&lt;int&gt; kvk = <span class="keyword">new</span> List&lt;int&gt;();</div>
<div class="line"><span class="lineno">  675</span> </div>
<div class="line"><span class="lineno">  676</span>            <span class="comment">// Leest de KvK-nummers en voegt ze toe aan de lijst</span></div>
<div class="line"><span class="lineno">  677</span>            <span class="keywordflow">while</span> (reader.Read())</div>
<div class="line"><span class="lineno">  678</span>            {</div>
<div class="line"><span class="lineno">  679</span>                kvk.Add(Convert.ToInt32(reader.GetValue(0)));</div>
<div class="line"><span class="lineno">  680</span>            }</div>
<div class="line"><span class="lineno">  681</span> </div>
<div class="line"><span class="lineno">  682</span>            <span class="comment">// Retourneert de KvK-nummers als een succesvolle response</span></div>
<div class="line"><span class="lineno">  683</span>            <span class="keywordflow">return</span> (200, <span class="stringliteral">&quot;Succes&quot;</span>, kvk);</div>
<div class="line"><span class="lineno">  684</span>        }</div>
<div class="line"><span class="lineno">  685</span>    }</div>
<div class="line"><span class="lineno">  686</span>    <span class="keywordflow">catch</span> (MySqlException ex)</div>
<div class="line"><span class="lineno">  687</span>    {</div>
<div class="line"><span class="lineno">  688</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> List&lt;int&gt;());</div>
<div class="line"><span class="lineno">  689</span>    }</div>
<div class="line"><span class="lineno">  690</span>    <span class="keywordflow">catch</span> (OverflowException ex)</div>
<div class="line"><span class="lineno">  691</span>    {</div>
<div class="line"><span class="lineno">  692</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> List&lt;int&gt;());</div>
<div class="line"><span class="lineno">  693</span>    }</div>
<div class="line"><span class="lineno">  694</span>    <span class="keywordflow">catch</span> (Exception ex)</div>
<div class="line"><span class="lineno">  695</span>    {</div>
<div class="line"><span class="lineno">  696</span>        <span class="keywordflow">return</span> (500, ex.Message, <span class="keyword">new</span> List&lt;int&gt;());</div>
<div class="line"><span class="lineno">  697</span>    }</div>
<div class="line"><span class="lineno">  698</span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Documentatie van data members</h2>
<a id="ab129d9d8c4019d96901373fa24e087dc" name="ab129d9d8c4019d96901373fa24e087dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab129d9d8c4019d96901373fa24e087dc">&#9670;&#160;</a></span>_connector</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../d1/dbb/interface_w_p_r_1_1_database_1_1_i_connector.html">IConnector</a> WPR.Repository.EmployeeRepository._connector</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00611">AddBusiness()</a>, <a class="el" href="#l01023">AddIntakeAsync()</a>, <a class="el" href="#l00087">AddStaff()</a>, <a class="el" href="#l00043">AddVehicleAsync()</a>, <a class="el" href="#l00753">BusinessAccepted()</a>, <a class="el" href="#l00789">BusinessDenied()</a>, <a class="el" href="#l00556">CheckDomain()</a>, <a class="el" href="#l00142">checkUsageEmailAsync()</a>, <a class="el" href="#l00171">checkUsageEmaiVehicleManagerlAsync()</a>, <a class="el" href="#l00020">EmployeeRepository()</a>, <a class="el" href="#l00921">GetAbonnementType()</a>, <a class="el" href="#l00825">GetBusinessInfo()</a>, <a class="el" href="#l00877">GetKvK()</a>, <a class="el" href="#l00467">GetKvK()</a>, <a class="el" href="#l00389">GetReviewAsync()</a>, <a class="el" href="#l00319">GetReviewIdsAsync()</a>, <a class="el" href="#l00206">GetUserDataAsync()</a>, <a class="el" href="#l00266">GetVehicleData()</a>, <a class="el" href="#l00970">GetVehicleManagerInfo()</a>, <a class="el" href="#l00501">SetStatusAsync()</a> en <a class="el" href="#l00707">ViewBusinessRequestDetailed()</a>.</p>

</div>
</div>
<a id="a72123503af7c5e0000454034b4d33f3c" name="a72123503af7c5e0000454034b4d33f3c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72123503af7c5e0000454034b4d33f3c">&#9670;&#160;</a></span>_emailService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../d6/dd3/class_w_p_r_1_1_services_1_1_email_service.html">EmailService</a> WPR.Repository.EmployeeRepository._emailService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00611">AddBusiness()</a> en <a class="el" href="#l00020">EmployeeRepository()</a>.</p>

</div>
</div>
<a id="aa253cb809b619d9cedda8efa6069c1d4" name="aa253cb809b619d9cedda8efa6069c1d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa253cb809b619d9cedda8efa6069c1d4">&#9670;&#160;</a></span>_hash</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="../../df/dd4/class_w_p_r_1_1_hashing_1_1_hash.html">Hash</a> WPR.Repository.EmployeeRepository._hash</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00087">AddStaff()</a> en <a class="el" href="#l00020">EmployeeRepository()</a>.</p>

</div>
</div>
<a id="adab59ce6c70f1f4a0aa83b123c1ba87c" name="adab59ce6c70f1f4a0aa83b123c1ba87c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adab59ce6c70f1f4a0aa83b123c1ba87c">&#9670;&#160;</a></span>Message <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int string WPR.Repository.EmployeeRepository.Message</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00753">BusinessAccepted()</a>, <a class="el" href="#l00789">BusinessDenied()</a>, <a class="el" href="#l00556">CheckDomain()</a>, <a class="el" href="#l00921">GetAbonnementType()</a>, <a class="el" href="#l00825">GetBusinessInfo()</a>, <a class="el" href="#l00877">GetKvK()</a>, <a class="el" href="#l00970">GetVehicleManagerInfo()</a> en <a class="el" href="#l00707">ViewBusinessRequestDetailed()</a>.</p>

</div>
</div>
<a id="a508766a15ce8827ee48fd748f1207a62" name="a508766a15ce8827ee48fd748f1207a62"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a508766a15ce8827ee48fd748f1207a62">&#9670;&#160;</a></span>Message <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool string WPR.Repository.EmployeeRepository.Message</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a9f1a2bd5a32f6a090ed613042a2609ce" name="a9f1a2bd5a32f6a090ed613042a2609ce"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9f1a2bd5a32f6a090ed613042a2609ce">&#9670;&#160;</a></span>Status</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool WPR.Repository.EmployeeRepository.Status</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Haalt gedetailleerde informatie op van een bedrijf op basis van het KvK-nummer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kvk</td><td>Het KvK-nummer van het bedrijf om op te halen.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Een tuple met een boolean die aangeeft of het succesvol is, een bericht en een woordenboek met bedrijfsgegevens. </dd></dl>

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00556">CheckDomain()</a> en <a class="el" href="#l00825">GetBusinessInfo()</a>.</p>

</div>
</div>
<a id="a338711ff3ec2298bedce98a6ff8e7ccf" name="a338711ff3ec2298bedce98a6ff8e7ccf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a338711ff3ec2298bedce98a6ff8e7ccf">&#9670;&#160;</a></span>StatusCode</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int WPR.Repository.EmployeeRepository.StatusCode</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Haalt KvK-nummers op van bedrijven die gedeactiveerd zijn. </p>
<p>Haalt gedetailleerde informatie op van een voertuigbeheerder, inclusief het wachtwoord.</p>
<p>Haalt abonnementsinformatie op op basis van het abonnement-ID.</p>
<p>Haalt het KvK-nummer op van een voertuigbeheerder op basis van hun ID.</p>
<p>Verwijdert een bedrijf uit het systeem op basis van het KvK-nummer.</p>
<p>Zet de status van een bedrijf naar 'Actief'.</p>
<dl class="section return"><dt>Retourneert</dt><dd>Een tuple met de statuscode (200 voor succes, 500 voor mislukking), een bericht en een lijst met KvK-nummers. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kvk</td><td>Het KvK-nummer van het bedrijf dat geactiveerd moet worden.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Een tuple met de statuscode (200 voor succes, 500 voor mislukking) en een bericht dat het resultaat aangeeft. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kvk</td><td>Het KvK-nummer van het bedrijf dat verwijderd moet worden.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Een tuple met de statuscode (200 voor succes, 500 voor mislukking) en een bericht dat het resultaat aangeeft. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">vehicleManagerId</td><td>Het ID van de voertuigbeheerder.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Een tuple met de statuscode (200 voor succes, 404 voor niet gevonden, 500 voor fout), een bericht en het KvK-nummer. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">abonnementId</td><td>Het ID van het abonnement.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Een tuple met de statuscode (200 voor succes, 404 voor niet gevonden, 500 voor fout), een bericht en een woordenboek met abonnementsgegevens. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>Het ID van de voertuigbeheerder.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Een tuple met de statuscode (200 voor succes, 404 voor niet gevonden, 500 voor fout), een bericht en een woordenboek met voertuigbeheerdergegevens. </dd></dl>

<p class="reference">Wordt aangeroepen door <a class="el" href="#l00753">BusinessAccepted()</a>, <a class="el" href="#l00789">BusinessDenied()</a>, <a class="el" href="#l00921">GetAbonnementType()</a>, <a class="el" href="#l00877">GetKvK()</a>, <a class="el" href="#l00970">GetVehicleManagerInfo()</a> en <a class="el" href="#l00707">ViewBusinessRequestDetailed()</a>.</p>

</div>
</div>
<hr/>De documentatie voor deze klasse is gegenereerd op basis van het volgende bestand:<ul>
<li>D:/codes/WPR8/WPR/backend/src/Repository/<a class="el" href="">EmployeeRepository.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/d8b/namespace_w_p_r.html">WPR</a></li><li class="navelem"><a class="el" href="../../db/da5/namespace_w_p_r_1_1_repository.html">Repository</a></li><li class="navelem"><a class="el" href="../../d9/de0/class_w_p_r_1_1_repository_1_1_employee_repository.html">EmployeeRepository</a></li>
    <li class="footer">Gegenereerd door <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
