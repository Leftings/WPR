<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="nl">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>WPR-Backend: WPR.Controllers.Customer.AddBusiness.AddBusinessController Class Referentie</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">WPR-Backend
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Zoeken" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Gegenereerd door Doxygen 1.13.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('class_w_p_r_1_1_controllers_1_1_customer_1_1_add_business_1_1_add_business_controller.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Laden...</div>
<div class="SRStatus" id="Searching">Zoeken...</div>
<div class="SRStatus" id="NoMatches">Niets gevonden</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Members</a> &#124;
<a href="#pri-attribs">Private Attributen</a>  </div>
  <div class="headertitle"><div class="title">WPR.Controllers.Customer.AddBusiness.AddBusinessController Class Referentie</div></div>
</div><!--header-->
<div class="contents">

<p>Controller voor het verbinden van het aanmaken van bedrijven op basis van het KVK nummer. Deze controller behandelt de aanvragen voor nieuwe bedrijven, de goedkeuring of afwijzing van bedrijven, en het versturen van e-mails.  
 <a href="#details">Meer...</a></p>
<div class="dynheader">
Klasse diagram voor WPR.Controllers.Customer.AddBusiness.AddBusinessController</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_w_p_r_1_1_controllers_1_1_customer_1_1_add_business_1_1_add_business_controller__inherit__graph.svg" width="236" height="342"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>
<div class="dynheader">
Collaboratie diagram voor WPR.Controllers.Customer.AddBusiness.AddBusinessController:</div>
<div class="dyncontent">
<div class="center"><div class="zoom"><iframe scrolling="no" frameborder="0" src="class_w_p_r_1_1_controllers_1_1_customer_1_1_add_business_1_1_add_business_controller__coll__graph.svg" width="100%" height="600"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Members</h2></td></tr>
<tr class="memitem:aa84dfe5d6f136e2513a6d40cc690c73f" id="r_aa84dfe5d6f136e2513a6d40cc690c73f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa84dfe5d6f136e2513a6d40cc690c73f">AddBusinessController</a> (<a class="el" href="interface_w_p_r_1_1_repository_1_1_i_employee_repository.html">IEmployeeRepository</a> employeeRepository, <a class="el" href="interface_w_p_r_1_1_services_1_1_i_email_service.html">IEmailService</a> emailService)</td></tr>
<tr class="memdesc:aa84dfe5d6f136e2513a6d40cc690c73f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor voor de controller. Zet de benodigde afhankelijkheden voor de repository en de e-mailservice.  <br /></td></tr>
<tr class="separator:aa84dfe5d6f136e2513a6d40cc690c73f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cbfc68c2a54a65fc72b6f38c99e7afc" id="r_a2cbfc68c2a54a65fc72b6f38c99e7afc"><td class="memItemLeft" align="right" valign="top">async Task&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2cbfc68c2a54a65fc72b6f38c99e7afc">AddBusiness</a> ([FromForm] <a class="el" href="namespace_w_p_r_1_1_controllers_1_1_customer_1_1_add_business.html#af184e38969a148e23ef1fe5429a74898">AddBusinessRequest</a> request)</td></tr>
<tr class="memdesc:a2cbfc68c2a54a65fc72b6f38c99e7afc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Voegt een nieuw bedrijf toe op basis van het KVK-nummer en stuurt een response terug.  <br /></td></tr>
<tr class="separator:a2cbfc68c2a54a65fc72b6f38c99e7afc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e1a7027fc08cd768f115a08a8a6f5f8" id="r_a3e1a7027fc08cd768f115a08a8a6f5f8"><td class="memItemLeft" align="right" valign="top">async Task&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3e1a7027fc08cd768f115a08a8a6f5f8">GetNewBusinesses</a> ()</td></tr>
<tr class="memdesc:a3e1a7027fc08cd768f115a08a8a6f5f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Haalt een lijst op van nieuwe bedrijfsaanvragen die nog niet zijn goedgekeurd.  <br /></td></tr>
<tr class="separator:a3e1a7027fc08cd768f115a08a8a6f5f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ee6740dc9609d5df293a4d3fbad32c7" id="r_a7ee6740dc9609d5df293a4d3fbad32c7"><td class="memItemLeft" align="right" valign="top">async Task&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a7ee6740dc9609d5df293a4d3fbad32c7">GetNewBusiness</a> (int kvk)</td></tr>
<tr class="memdesc:a7ee6740dc9609d5df293a4d3fbad32c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Haalt gedetailleerde informatie op over een specifiek bedrijf op basis van het KVK-nummer.  <br /></td></tr>
<tr class="separator:a7ee6740dc9609d5df293a4d3fbad32c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4029d0dab4616b0792aa7402e5504725" id="r_a4029d0dab4616b0792aa7402e5504725"><td class="memItemLeft" align="right" valign="top">async Task&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4029d0dab4616b0792aa7402e5504725">BusinessAccepted</a> (int kvk)</td></tr>
<tr class="memdesc:a4029d0dab4616b0792aa7402e5504725"><td class="mdescLeft">&#160;</td><td class="mdescRight">Markeert een bedrijfsaanvraag als geaccepteerd, genereert een gebruikerswachtwoord voor de beheerder en stuurt een bevestigingsmail.  <br /></td></tr>
<tr class="separator:a4029d0dab4616b0792aa7402e5504725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6c4461c617ac6cd5a2d0670c1ee2882" id="r_ad6c4461c617ac6cd5a2d0670c1ee2882"><td class="memItemLeft" align="right" valign="top">async Task&lt; IActionResult &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad6c4461c617ac6cd5a2d0670c1ee2882">BusinessDenied</a> (int kvk)</td></tr>
<tr class="memdesc:ad6c4461c617ac6cd5a2d0670c1ee2882"><td class="mdescLeft">&#160;</td><td class="mdescRight">Markeert een bedrijfsaanvraag als afgewezen en stuurt een afwijzingsmail.  <br /></td></tr>
<tr class="separator:ad6c4461c617ac6cd5a2d0670c1ee2882"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributen</h2></td></tr>
<tr class="memitem:afe7bad869d6de8e48c8a44d65cc8e6fa" id="r_afe7bad869d6de8e48c8a44d65cc8e6fa"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_employee_repository.html">IEmployeeRepository</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afe7bad869d6de8e48c8a44d65cc8e6fa">_employeeRepository</a></td></tr>
<tr class="separator:afe7bad869d6de8e48c8a44d65cc8e6fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c9a5c970562bd13b2fd6b069815975b" id="r_a5c9a5c970562bd13b2fd6b069815975b"><td class="memItemLeft" align="right" valign="top">readonly <a class="el" href="interface_w_p_r_1_1_services_1_1_i_email_service.html">IEmailService</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5c9a5c970562bd13b2fd6b069815975b">_emailService</a></td></tr>
<tr class="separator:a5c9a5c970562bd13b2fd6b069815975b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Gedetailleerde Beschrijving</h2>
<div class="textblock"><p>Controller voor het verbinden van het aanmaken van bedrijven op basis van het KVK nummer. Deze controller behandelt de aanvragen voor nieuwe bedrijven, de goedkeuring of afwijzing van bedrijven, en het versturen van e-mails. </p>

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00015">15</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentatie</h2>
<a id="aa84dfe5d6f136e2513a6d40cc690c73f" name="aa84dfe5d6f136e2513a6d40cc690c73f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84dfe5d6f136e2513a6d40cc690c73f">&#9670;&#160;</a></span>AddBusinessController()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">WPR.Controllers.Customer.AddBusiness.AddBusinessController.AddBusinessController </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="interface_w_p_r_1_1_repository_1_1_i_employee_repository.html">IEmployeeRepository</a></td>          <td class="paramname"><span class="paramname"><em>employeeRepository</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="interface_w_p_r_1_1_services_1_1_i_email_service.html">IEmailService</a></td>          <td class="paramname"><span class="paramname"><em>emailService</em></span>&#160;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor voor de controller. Zet de benodigde afhankelijkheden voor de repository en de e-mailservice. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">employeeRepository</td><td>De repository voor werknemersgerelateerde gegevens.</td></tr>
    <tr><td class="paramname">emailService</td><td>De service voor het verzenden van e-mails.</td></tr>
  </table>
  </dd>
</dl>

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00025">25</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   26</span>    {</div>
<div class="line"><span class="lineno">   27</span>        _employeeRepository = employeeRepository ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(employeeRepository));</div>
<div class="line"><span class="lineno">   28</span>        _emailService = emailService ?? <span class="keywordflow">throw</span> <span class="keyword">new</span> ArgumentNullException(nameof(emailService));</div>
<div class="line"><span class="lineno">   29</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="add_business_controller_8cs_source.html#l00018">_emailService</a> en <a class="el" href="add_business_controller_8cs_source.html#l00017">_employeeRepository</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentatie van functie members</h2>
<a id="a2cbfc68c2a54a65fc72b6f38c99e7afc" name="a2cbfc68c2a54a65fc72b6f38c99e7afc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cbfc68c2a54a65fc72b6f38c99e7afc">&#9670;&#160;</a></span>AddBusiness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; IActionResult &gt; WPR.Controllers.Customer.AddBusiness.AddBusinessController.AddBusiness </td>
          <td>(</td>
          <td class="paramtype">[FromForm] <a class="el" href="namespace_w_p_r_1_1_controllers_1_1_customer_1_1_add_business.html#af184e38969a148e23ef1fe5429a74898">AddBusinessRequest</a></td>          <td class="paramname"><span class="paramname"><em>request</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Voegt een nieuw bedrijf toe op basis van het KVK-nummer en stuurt een response terug. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">request</td><td>Het verzoek om een nieuw bedrijf toe te voegen.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Retourneert de status en een boodschap over het resultaat van de toevoeging.</dd></dl>

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00037">37</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   38</span>    {</div>
<div class="line"><span class="lineno">   39</span>        var output = await _employeeRepository.AddBusiness(request);</div>
<div class="line"><span class="lineno">   40</span>        </div>
<div class="line"><span class="lineno">   41</span>        <span class="keywordflow">if</span> (output.status)</div>
<div class="line"><span class="lineno">   42</span>        {</div>
<div class="line"><span class="lineno">   43</span>            <span class="keywordflow">return</span> Ok(<span class="keyword">new</span> { output.message });</div>
<div class="line"><span class="lineno">   44</span>        }</div>
<div class="line"><span class="lineno">   45</span>        <span class="keywordflow">return</span> BadRequest(<span class="keyword">new</span> { output.message });</div>
<div class="line"><span class="lineno">   46</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="add_business_controller_8cs_source.html#l00017">_employeeRepository</a> en <a class="el" href="add_business_request_8cs_source.html#l00008">WPR.Controllers.Customer.AddBusiness.AddBusinessRequest()</a>.</p>
<div class="dynheader">
Hier is de call graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_w_p_r_1_1_controllers_1_1_customer_1_1_add_business_1_1_add_business_controller_a2cbfc68c2a54a65fc72b6f38c99e7afc_cgraph.svg" width="527" height="86"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="a4029d0dab4616b0792aa7402e5504725" name="a4029d0dab4616b0792aa7402e5504725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4029d0dab4616b0792aa7402e5504725">&#9670;&#160;</a></span>BusinessAccepted()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; IActionResult &gt; WPR.Controllers.Customer.AddBusiness.AddBusinessController.BusinessAccepted </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kvk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Markeert een bedrijfsaanvraag als geaccepteerd, genereert een gebruikerswachtwoord voor de beheerder en stuurt een bevestigingsmail. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kvk</td><td>Het KVK-nummer van het bedrijf.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Retourneert een statusbericht over de goedkeuring en e-mailverzending.</dd></dl>

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00087">87</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>    {</div>
<div class="line"><span class="lineno">   89</span>        <span class="keywordtype">string</span> emailSend = <span class="stringliteral">&quot;No Email Send&quot;</span>;</div>
<div class="line"><span class="lineno">   90</span>        (<span class="keywordtype">int</span> StatusCode, <span class="keywordtype">string</span> Message) response = _employeeRepository.BusinessAccepted(kvk);</div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">if</span> (response.StatusCode == 200)</div>
<div class="line"><span class="lineno">   93</span>        {</div>
<div class="line"><span class="lineno">   94</span>            (<span class="keywordtype">bool</span> Status, <span class="keywordtype">string</span> Message, Dictionary&lt;string, object&gt; Data) info = _employeeRepository.GetBusinessInfo(kvk);</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span>            <span class="keywordflow">if</span> (info.Status)</div>
<div class="line"><span class="lineno">   97</span>            {</div>
<div class="line"><span class="lineno">   98</span>                <span class="keywordtype">string</span> password = StrongPasswordMaker.CreatePassword();</div>
<div class="line"><span class="lineno">   99</span>                await _employeeRepository.AddStaff(<span class="keyword">new</span> SignUpStaffRequest()</div>
<div class="line"><span class="lineno">  100</span>                    {FirstName = <span class="stringliteral">&quot;Vehicle&quot;</span>, LastName = <span class="stringliteral">&quot;Manager&quot;</span>, Password = password, Job = <span class="stringliteral">&quot;Wagen&quot;</span>, KvK = Convert.ToInt32(info.Data[<span class="stringliteral">&quot;KvK&quot;</span>]), Email = $<span class="stringliteral">&quot;wagenparkbeheerder{info.Data[&quot;</span>Domain<span class="stringliteral">&quot;]}&quot;</span></div>
<div class="line"><span class="lineno">  101</span>                });</div>
<div class="line"><span class="lineno">  102</span>                _emailService.SendBusinessReviewEmail((<span class="keywordtype">string</span>)info.Data[<span class="stringliteral">&quot;ContactEmail&quot;</span>], (<span class="keywordtype">string</span>)info.Data[<span class="stringliteral">&quot;BusinessName&quot;</span>], (<span class="keywordtype">string</span>)info.Data[<span class="stringliteral">&quot;Domain&quot;</span>], password, <span class="keyword">true</span>);</div>
<div class="line"><span class="lineno">  103</span>                emailSend = <span class="stringliteral">&quot;Email Send&quot;</span>;</div>
<div class="line"><span class="lineno">  104</span>            }</div>
<div class="line"><span class="lineno">  105</span>        }</div>
<div class="line"><span class="lineno">  106</span> </div>
<div class="line"><span class="lineno">  107</span>        <span class="keywordflow">return</span> StatusCode(response.StatusCode, <span class="keyword">new</span> { message = $<span class="stringliteral">&quot;{response.Message}\n{emailSend}&quot;</span> });</div>
<div class="line"><span class="lineno">  108</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="add_business_controller_8cs_source.html#l00018">_emailService</a>, <a class="el" href="add_business_controller_8cs_source.html#l00017">_employeeRepository</a> en <a class="el" href="_strong_password_maker_8cs_source.html#l00013">WPR.Utils.StrongPasswordMaker.CreatePassword()</a>.</p>
<div class="dynheader">
Hier is de call graaf voor deze functie:</div>
<div class="dyncontent">
<div class="center"><iframe scrolling="no" frameborder="0" src="class_w_p_r_1_1_controllers_1_1_customer_1_1_add_business_1_1_add_business_controller_a4029d0dab4616b0792aa7402e5504725_cgraph.svg" width="483" height="70"><p><b>This browser is not able to show SVG: try Firefox, Chrome, Safari, or Opera instead.</b></p></iframe></div>
</div>

</div>
</div>
<a id="ad6c4461c617ac6cd5a2d0670c1ee2882" name="ad6c4461c617ac6cd5a2d0670c1ee2882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6c4461c617ac6cd5a2d0670c1ee2882">&#9670;&#160;</a></span>BusinessDenied()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; IActionResult &gt; WPR.Controllers.Customer.AddBusiness.AddBusinessController.BusinessDenied </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kvk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Markeert een bedrijfsaanvraag als afgewezen en stuurt een afwijzingsmail. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kvk</td><td>Het KVK-nummer van het bedrijf.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Retourneert een statusbericht over de afwijzing en e-mailverzending.</dd></dl>

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00116">116</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  117</span>    {</div>
<div class="line"><span class="lineno">  118</span>        <span class="keywordtype">string</span> emailSend = <span class="stringliteral">&quot;No Email Send&quot;</span>;</div>
<div class="line"><span class="lineno">  119</span>        (<span class="keywordtype">bool</span> Status, <span class="keywordtype">string</span> Message, Dictionary&lt;string, object&gt; Data) info = _employeeRepository.GetBusinessInfo(kvk);</div>
<div class="line"><span class="lineno">  120</span>        (<span class="keywordtype">int</span> StatusCode, <span class="keywordtype">string</span> Message) response = _employeeRepository.BusinessDenied(kvk);</div>
<div class="line"><span class="lineno">  121</span> </div>
<div class="line"><span class="lineno">  122</span> </div>
<div class="line"><span class="lineno">  123</span>        <span class="keywordflow">if</span> (response.StatusCode == 200)</div>
<div class="line"><span class="lineno">  124</span>        {</div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">if</span> (info.Status)</div>
<div class="line"><span class="lineno">  126</span>            {</div>
<div class="line"><span class="lineno">  127</span>                _emailService.SendBusinessReviewEmail((<span class="keywordtype">string</span>)info.Data[<span class="stringliteral">&quot;ContactEmail&quot;</span>], (<span class="keywordtype">string</span>)info.Data[<span class="stringliteral">&quot;BusinessName&quot;</span>], <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="keyword">false</span>);</div>
<div class="line"><span class="lineno">  128</span>                emailSend = <span class="stringliteral">&quot;Email Send&quot;</span>;</div>
<div class="line"><span class="lineno">  129</span>            }</div>
<div class="line"><span class="lineno">  130</span>        }</div>
<div class="line"><span class="lineno">  131</span>        </div>
<div class="line"><span class="lineno">  132</span>        <span class="keywordflow">return</span> StatusCode(response.StatusCode, <span class="keyword">new</span> { message = $<span class="stringliteral">&quot;{response.Message}\n{emailSend}&quot;</span> });</div>
<div class="line"><span class="lineno">  133</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="add_business_controller_8cs_source.html#l00018">_emailService</a> en <a class="el" href="add_business_controller_8cs_source.html#l00017">_employeeRepository</a>.</p>

</div>
</div>
<a id="a7ee6740dc9609d5df293a4d3fbad32c7" name="a7ee6740dc9609d5df293a4d3fbad32c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ee6740dc9609d5df293a4d3fbad32c7">&#9670;&#160;</a></span>GetNewBusiness()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; IActionResult &gt; WPR.Controllers.Customer.AddBusiness.AddBusinessController.GetNewBusiness </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kvk</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Haalt gedetailleerde informatie op over een specifiek bedrijf op basis van het KVK-nummer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kvk</td><td>Het KVK-nummer van het bedrijf.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Retourneert</dt><dd>Retourneert de gedetailleerde informatie over het bedrijf.</dd></dl>

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00070">70</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   71</span>    {</div>
<div class="line"><span class="lineno">   72</span>        (<span class="keywordtype">int</span> StatusCode, <span class="keywordtype">string</span> Message, Dictionary&lt;string, object&gt; Data) response = await _employeeRepository.ViewBusinessRequestDetailed(kvk);</div>
<div class="line"><span class="lineno">   73</span> </div>
<div class="line"><span class="lineno">   74</span>        <span class="keywordflow">if</span> (response.StatusCode == 200)</div>
<div class="line"><span class="lineno">   75</span>        {</div>
<div class="line"><span class="lineno">   76</span>            <span class="keywordflow">return</span> StatusCode(response.StatusCode, <span class="keyword">new</span> { message = response.Message, data = response.Data });</div>
<div class="line"><span class="lineno">   77</span>        }</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">return</span> StatusCode(response.StatusCode, <span class="keyword">new</span> { message = response.Message });</div>
<div class="line"><span class="lineno">   79</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="add_business_controller_8cs_source.html#l00017">_employeeRepository</a>.</p>

</div>
</div>
<a id="a3e1a7027fc08cd768f115a08a8a6f5f8" name="a3e1a7027fc08cd768f115a08a8a6f5f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3e1a7027fc08cd768f115a08a8a6f5f8">&#9670;&#160;</a></span>GetNewBusinesses()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">async Task&lt; IActionResult &gt; WPR.Controllers.Customer.AddBusiness.AddBusinessController.GetNewBusinesses </td>
          <td>(</td>
          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel inline">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Haalt een lijst op van nieuwe bedrijfsaanvragen die nog niet zijn goedgekeurd. </p>
<dl class="section return"><dt>Retourneert</dt><dd>Retourneert een lijst van KVK-nummers van nieuwe aanvragen.</dd></dl>

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00053">53</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>    {</div>
<div class="line"><span class="lineno">   55</span>        (<span class="keywordtype">int</span> StatusCode, <span class="keywordtype">string</span> Message, IList&lt;int&gt; KvK) response = _employeeRepository.ViewBusinessRequests();</div>
<div class="line"><span class="lineno">   56</span>        </div>
<div class="line"><span class="lineno">   57</span>        <span class="keywordflow">if</span> (response.StatusCode == 200)</div>
<div class="line"><span class="lineno">   58</span>        {</div>
<div class="line"><span class="lineno">   59</span>            <span class="keywordflow">return</span> StatusCode(response.StatusCode, <span class="keyword">new</span> { message = response.KvK });</div>
<div class="line"><span class="lineno">   60</span>        }</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">return</span> StatusCode(response.StatusCode, <span class="keyword">new</span> { message = response.Message });</div>
<div class="line"><span class="lineno">   62</span>    }</div>
</div><!-- fragment -->
<p class="reference">Gebruikt <a class="el" href="add_business_controller_8cs_source.html#l00017">_employeeRepository</a>.</p>

</div>
</div>
<h2 class="groupheader">Documentatie van data velden</h2>
<a id="a5c9a5c970562bd13b2fd6b069815975b" name="a5c9a5c970562bd13b2fd6b069815975b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c9a5c970562bd13b2fd6b069815975b">&#9670;&#160;</a></span>_emailService</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_w_p_r_1_1_services_1_1_i_email_service.html">IEmailService</a> WPR.Controllers.Customer.AddBusiness.AddBusinessController._emailService</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00018">18</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>

<p class="reference">Wordt aangeroepen door <a class="el" href="add_business_controller_8cs_source.html#l00025">AddBusinessController()</a>, <a class="el" href="add_business_controller_8cs_source.html#l00087">BusinessAccepted()</a> en <a class="el" href="add_business_controller_8cs_source.html#l00116">BusinessDenied()</a>.</p>

</div>
</div>
<a id="afe7bad869d6de8e48c8a44d65cc8e6fa" name="afe7bad869d6de8e48c8a44d65cc8e6fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe7bad869d6de8e48c8a44d65cc8e6fa">&#9670;&#160;</a></span>_employeeRepository</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">readonly <a class="el" href="interface_w_p_r_1_1_repository_1_1_i_employee_repository.html">IEmployeeRepository</a> WPR.Controllers.Customer.AddBusiness.AddBusinessController._employeeRepository</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel private">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">De definitie bevindt zich op regel <a class="el" href="add_business_controller_8cs_source.html#l00017">17</a> in het bestand <a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a>.</p>

<p class="reference">Wordt aangeroepen door <a class="el" href="add_business_controller_8cs_source.html#l00037">AddBusiness()</a>, <a class="el" href="add_business_controller_8cs_source.html#l00025">AddBusinessController()</a>, <a class="el" href="add_business_controller_8cs_source.html#l00087">BusinessAccepted()</a>, <a class="el" href="add_business_controller_8cs_source.html#l00116">BusinessDenied()</a>, <a class="el" href="add_business_controller_8cs_source.html#l00070">GetNewBusiness()</a> en <a class="el" href="add_business_controller_8cs_source.html#l00053">GetNewBusinesses()</a>.</p>

</div>
</div>
<hr/>De documentatie voor deze klasse is gegenereerd op basis van het volgende bestand:<ul>
<li>D:/codes/WPR8/WPR/backend/src/Controllers/customer/addBusiness/<a class="el" href="add_business_controller_8cs_source.html">addBusinessController.cs</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespace_w_p_r.html">WPR</a></li><li class="navelem"><a class="el" href="namespace_w_p_r_1_1_controllers.html">Controllers</a></li><li class="navelem"><a class="el" href="namespace_w_p_r_1_1_controllers_1_1_customer.html">Customer</a></li><li class="navelem"><a class="el" href="namespace_w_p_r_1_1_controllers_1_1_customer_1_1_add_business.html">AddBusiness</a></li><li class="navelem"><a class="el" href="class_w_p_r_1_1_controllers_1_1_customer_1_1_add_business_1_1_add_business_controller.html">AddBusinessController</a></li>
    <li class="footer">Gegenereerd door <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.0 </li>
  </ul>
</div>
</body>
</html>
